(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/jin-suo-yun/register"],{"09cf":function(t,e,n){"use strict";var i=n("5725"),a=n.n(i);a.a},5725:function(t,e,n){},"6d71":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"8c61":function(t,e,n){"use strict";n.r(e);var i=n("ac39"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},ac33:function(t,e,n){"use strict";n.r(e);var i=n("6d71"),a=n("8c61");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("09cf");var c=n("2877"),u=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=u.exports},ac39:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,o,c=n("104e"),u={data:function(){return{scopesData:[[{item:"棉花",num:1,active:!1},{item:"化纤",num:2,active:!1},{item:"纱线",num:4,active:!1}],[{item:"坯布",num:8,active:!1},{item:"印染",num:16,active:!1},{item:"家纺",num:32,active:!1}],[{item:"色织",num:64,active:!1},{item:"梭织",num:128,active:!1},{item:"针织",num:256,active:!1}],[{item:"面料",num:512,active:!1},{item:"辅料",num:1024,active:!1},{item:"服饰",num:2048,active:!1}],[{item:"机械",num:4096,active:!1},{item:"配件",num:8192,active:!1},{item:"纺织厂",num:16384,active:!1}],[{item:"加工厂",num:32768,active:!1},{item:"服装厂",num:65536,active:!1},{item:"其他",num:1<<17,active:!1}]],isScope:!1,scopesValue:"",region:"",contPhone:"",contName:"",corporateName:"",customerId:"",time:-1}},onLoad:function(t){a=t.type,o=this;var e=wx.getStorageSync("userInfo");this.setData({contPhone:e.phone,contName:e.name})},components:{},props:{},methods:{choiceIndustry:function(t){this.setData({industryIndex:t.detail.value})},bindScope:function(t){if(1==t.currentTarget.dataset.type){var e=this.scopesData,n="";e.map(function(t){t.map(function(t){t.active&&(n?n=n+","+t.item:n+=t.item)})}),this.setData({scopesValue:n})}this.setData({isScope:!this.isScope})},bindScopeOption:function(t){var e=t.currentTarget.dataset.one,n=t.currentTarget.dataset.two,a=this.scopesData[e][n].active;this.setData(i({},"scopesData[".concat(e,"][").concat(n,"].active"),!a))},bindRegionChange:function(t){this.setData({region:t.detail.value})},formSubmit:function(t){var e=t.detail.value,n=e.code;e.type=a,e.customerId=this.customerId,delete e.code,e.corporateName?e.contName?e.contPhone?n?c.userRegistration(e,n).then(function(t){wx.showToast({title:"注册成功"});setTimeout(function(){wx.setStorageSync("register",!0),wx.switchTab({url:"/pages/tab-user/index"})},1500)}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})}):wx.showToast({title:"请输入验证码"}):wx.showToast({title:"请输入手机号"}):wx.showToast({title:"请输入姓名"}):wx.showToast({title:"请选择所属公司"})},bindTel:function(t){this.setData({contPhone:t.detail.value})},validateFn:function(t){var e={phone:this.contPhone};c.getVerificationCode(e).then(function(t){wx.showToast({title:"发送成功",icon:"none"}),o.setData({time:60}),o.downTime()}).catch(function(t){wx.showToast({title:"发送验证码失败",icon:"none"})})},downTime:function(){var t=o.time,e=setInterval(function(){if(t--,o.setData({time:t}),t<=0)return clearInterval(e),o.setData({time:-1}),!1},1e3)},toChoosingCompany:function(){wx.navigateTo({url:"/pages/jin-suo-yun/choosing-company?type="+a})},setData:function(t){var e,n,i=this,a=[];Object.keys(t).forEach(function(o){a=o.split("."),e=t[o],n=i.$data,a.forEach(function(t,o){o+1==a.length?i.$set(n,t,e):n[t]||i.$set(n,t,{}),n=n[t]})})}}};e.default=u}},[["dd66","common/runtime","common/vendor"]]]);