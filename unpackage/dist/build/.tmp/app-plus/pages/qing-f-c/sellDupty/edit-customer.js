(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/sellDupty/edit-customer"],{"2fb6":function(e,t,o){"use strict";o.r(t);var n=o("f53f"),i=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t["default"]=i.a},"65ac":function(e,t,o){"use strict";o.r(t);var n=o("b72e"),i=o("2fb6");for(var c in i)"default"!==c&&function(e){o.d(t,e,(function(){return i[e]}))}(c);o("7f5c");var a,s=o("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=u.exports},"6c31":function(e,t,o){"use strict";(function(e){o("3b9b"),o("921b");n(o("66fd"));var t=n(o("65ac"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},"7f5c":function(e,t,o){"use strict";var n=o("c296"),i=o.n(n);i.a},b72e:function(e,t,o){"use strict";var n,i=function(){var e=this,t=e.$createElement;e._self._c},c=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return c})),o.d(t,"a",(function(){return n}))},c296:function(e,t,o){},f53f:function(e,t,o){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(o("4795"));function c(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,i,c,a){try{var s=e[c](a),u=s.value}catch(r){return void o(r)}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,o=arguments;return new Promise((function(n,i){var c=e.apply(t,o);function s(e){a(c,n,i,s,u,"next",e)}function u(e){a(c,n,i,s,u,"throw",e)}s(void 0)}))}}var u,r,l=function(){o.e("components/myPicker").then(function(){return resolve(o("f08a"))}.bind(null,o)).catch(o.oe)},d=function(){o.e("components/rangeButton-v").then(function(){return resolve(o("9c47"))}.bind(null,o)).catch(o.oe)},f=function(){o.e("components/switchButton").then(function(){return resolve(o("d6bb"))}.bind(null,o)).catch(o.oe)},g=o("096c"),p=o("b65b"),m={components:{myPicker:l,rangeButton:d,swithButton:f},data:function(){return{customerInfo:{},region:[],companyType:[],companyScale:[],companySource:[],cooperationIntention:[],coordinate:[],isSellroom:[{id:1,label:"有"},{id:0,label:"无"}],hasSalesroom:"",regionCode:-1,companyTypeCode:-1,companySourceCode:-1,level:[],companyLevel:""}},onLoad:function(t){u=this,r=t.companyCode,e("log","公司编号===",r," at pages/qing-f-c/sellDupty/edit-customer.vue:88"),this.getCustomerInfo(),this.getRegion(),this.getCoordinate(),this.getSource(),this.getType(),this.getCooperationIntention(),this.getCompanyLevel()},onShow:function(){setTimeout((function(){e("log",u.customerInfo," at pages/qing-f-c/sellDupty/edit-customer.vue:100");var t=u.customerInfo.cooperationIntention,o=u.customerInfo.coordinate,n=u.customerInfo.hasSalesroom;e("log","coor==",o," at pages/qing-f-c/sellDupty/edit-customer.vue:105"),u.cooperationIntention.forEach((function(e){e.label==t&&u.$set(e,"isChecked",!0)})),u.coordinate.forEach((function(e){e.label==o&&u.$set(e,"isChecked",!0)})),e("log","coordinate",u.coordinate," at pages/qing-f-c/sellDupty/edit-customer.vue:116"),u.isSellroom.forEach((function(e){e.label==n&&u.$set(e,"isChecked",!0)}))}),500)},methods:{getCompanyLevel:function(){var t=this;return s(i.default.mark((function o(){var n;return i.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$http.get("/choose/company_level",{});case 2:n=o.sent,e("log","companyLevel",n," at pages/qing-f-c/sellDupty/edit-customer.vue:129"),t.level=n.data.data.list;case 5:case"end":return o.stop()}}),o)})))()},getCustomerInfo:function(){e("log",r," at pages/qing-f-c/sellDupty/edit-customer.vue:133");var t={companyCode:r};p.cmDetail(t).then((function(t){e("log","customer--info==",t," at pages/qing-f-c/sellDupty/edit-customer.vue:137"),u.customerInfo=t.data.data,u.companyLevel=u.customerInfo.companyLevelCode,e("log",u.customerInfo," at pages/qing-f-c/sellDupty/edit-customer.vue:141")})).catch((function(t){e("log","Err===",t," at pages/qing-f-c/sellDupty/edit-customer.vue:144")}))},getRegion:function(){p.getRegion().then((function(t){e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:150"),u.region=t.data.data.list,e("log","region==",u.region," at pages/qing-f-c/sellDupty/edit-customer.vue:152")})).catch((function(e){wx.showToast({title:e.data.description,icon:"none"})}))},getCoordinate:function(){p.getCoordinate().then((function(t){e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:162"),u.coordinate=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.description,icon:"none"})}))},getType:function(){p.getType().then((function(t){e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:173"),u.companyType=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.description,icon:"none"})}))},getSource:function(){p.getSource().then((function(t){e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:184"),u.companySource=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.description,icon:"none"})}))},getCooperationIntention:function(){p.getCooperationIntention().then((function(t){e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:195"),u.cooperationIntention=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.description,icon:"none"})}))},regionChange:function(t){this.regionCode=t,e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:209")},companyTypeChange:function(e){this.companyTypeCode=e},companySourceChange:function(e){this.companySourceCode=e},cooperationIntentionChange:function(e){var t=this,o=this.cooperationIntention;o.forEach((function(o){o.id==e?t.$set(o,"isChecked",!0):t.$set(o,"isChecked",!1)}))},coordinateChange:function(e){var t=this,o=this.coordinate;o.forEach((function(o){o.id==e?t.$set(o,"isChecked",!0):t.$set(o,"isChecked",!1)}))},levelChange:function(t){this.companyLevel=t,e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:241")},sellroomChange:function(e){var t=this,o=this.isSellroom;o.forEach((function(o){o.id==e?t.$set(o,"isChecked",!0):t.$set(o,"isChecked",!1)}))},addrPosition:function(t){e("log","here"," at pages/qing-f-c/sellDupty/edit-customer.vue:256"),1==t&&n.chooseLocation({success:function(t){u.factoryAddress=t.address,e("log","详细地址："+t.address," at pages/qing-f-c/sellDupty/edit-customer.vue:262"),u.factoryLatitude=t.latitude,e("log","纬度："+t.latitude," at pages/qing-f-c/sellDupty/edit-customer.vue:264"),u.factoryLongitude=t.longitude,e("log","经度："+t.longitude," at pages/qing-f-c/sellDupty/edit-customer.vue:266")}})},bindCancel:function(){n.navigateBack({delta:1})},formSubmit:function(t){var o=this.customerInfo,i={};e("log","合作意向====",this.cooperationIntention," at pages/qing-f-c/sellDupty/edit-customer.vue:282");var c=g.list2code(this.cooperationIntention),a=g.list2code(this.coordinate);e("log","cooper",c," at pages/qing-f-c/sellDupty/edit-customer.vue:286"),i.companyCode=o.companyCode,i.companyName=o.companyName,i.factoryAddress=o.factoryAddress,i.factoryLongitude=o.factoryLongitude,i.factoryLatitude=o.factoryLatitude,i.hasSalesroom=this.isSellroom[0].isChecked?1:0,i.salesroomAddress=o.salesroomAddress,i.salesroomLongitude=o.salesroomLongitude,i.salesroomLatitude=o.salesroomLatitude,i.regionCode=this.regionCode,i.companyTypeCode=this.companyTypeCode,i.companySourceCode=this.companySourceCode,i.cooperationIntentionCode=c[0],i.coordinateCode=a[0],i.companyLevel=this.companyLevel,e("log","更新客户：",i," at pages/qing-f-c/sellDupty/edit-customer.vue:304"),i=g.filterNull(i),p.updateCustomer(i).then((function(t){if(e("log",t," at pages/qing-f-c/sellDupty/edit-customer.vue:311"),0==t.data.status){var o=getCurrentPages(),i=(o[o.length-1],o[o.length-2]);i.setData({isDoRefresh:!0}),n.navigateBack({delta:1})}else n.showToast({title:t.data.message,icon:"none"})})).catch((function(e){wx.showToast({title:e.data.description,icon:"none"})}))}}};t.default=m}).call(this,o("0de9")["default"],o("6e42")["default"])}},[["6c31","common/runtime","common/vendor"]]]);