(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/sellDupty/edit-customer"],{"2fb6":function(t,e,o){"use strict";o.r(e);var n=o("f53f"),i=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);e["default"]=i.a},6489:function(t,e,o){},"65ac":function(t,e,o){"use strict";o.r(e);var n=o("f2e1"),i=o("2fb6");for(var c in i)"default"!==c&&function(t){o.d(e,t,function(){return i[t]})}(c);o("7f5c");var a,s=o("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=u.exports},"6c31":function(t,e,o){"use strict";(function(t){o("3b9b"),o("921b");n(o("66fd"));var e=n(o("65ac"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},"7f5c":function(t,e,o){"use strict";var n=o("6489"),i=o.n(n);i.a},f2e1:function(t,e,o){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},c=[];o.d(e,"b",function(){return i}),o.d(e,"c",function(){return c}),o.d(e,"a",function(){return n})},f53f:function(t,e,o){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,c,a=function(){return o.e("components/myPicker").then(o.bind(null,"f08a"))},s=function(){return o.e("components/rangeButton-v").then(o.bind(null,"9c47"))},u=function(){return o.e("components/switchButton").then(o.bind(null,"d6bb"))},r=o("096c"),l=o("b65b"),d={components:{myPicker:a,rangeButton:s,swithButton:u},data:function(){return{customerInfo:{},region:[],companyType:[],companyScale:[],companySource:[],cooperationIntention:[],coordinate:[],isSellroom:[{id:1,label:"有"},{id:0,label:"无"}],hasSalesroom:"",regionCode:-1,companyTypeCode:-1,companySourceCode:-1}},onLoad:function(e){i=this,c=e.companyCode,t("log","公司编号===",c," at pages/qing-f-c/sellDupty/edit-customer.vue:95"),this.getCustomerInfo(),this.getRegion(),this.getCoordinate(),this.getSource(),this.getType(),this.getCooperationIntention()},onShow:function(){setTimeout(function(){t("log",i.customerInfo," at pages/qing-f-c/sellDupty/edit-customer.vue:106");var e=i.customerInfo.cooperationIntention,o=i.customerInfo.coordinate,n=i.customerInfo.hasSalesroom;t("log","coor==",o," at pages/qing-f-c/sellDupty/edit-customer.vue:111"),i.cooperationIntention.forEach(function(t){t.label==e&&i.$set(t,"isChecked",!0)}),i.coordinate.forEach(function(t){t.label==o&&i.$set(t,"isChecked",!0)}),t("log","coordinate",i.coordinate," at pages/qing-f-c/sellDupty/edit-customer.vue:122"),i.isSellroom.forEach(function(t){t.label==n&&i.$set(t,"isChecked",!0)})},500)},methods:{getCustomerInfo:function(){t("log",c," at pages/qing-f-c/sellDupty/edit-customer.vue:134");var e={companyCode:c};l.cmDetail(e).then(function(e){t("log","customer--info==",e," at pages/qing-f-c/sellDupty/edit-customer.vue:138"),i.customerInfo=e.data.data,t("log",i.customerInfo," at pages/qing-f-c/sellDupty/edit-customer.vue:141")}).catch(function(e){t("log","Err===",e," at pages/qing-f-c/sellDupty/edit-customer.vue:144")})},getRegion:function(){l.getRegion().then(function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:150"),i.region=e.data.data.list,t("log","region==",i.region," at pages/qing-f-c/sellDupty/edit-customer.vue:152")}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})})},getCoordinate:function(){l.getCoordinate().then(function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:162"),i.coordinate=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})})},getType:function(){l.getType().then(function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:173"),i.companyType=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})})},getSource:function(){l.getSource().then(function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:184"),i.companySource=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})})},getCooperationIntention:function(){l.getCooperationIntention().then(function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:195"),i.cooperationIntention=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})})},regionChange:function(e){this.regionCode=e,t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:209")},companyTypeChange:function(t){this.companyTypeCode=t},companySourceChange:function(t){this.companySourceCode=t},cooperationIntentionChange:function(t){var e=this,o=this.cooperationIntention;o.forEach(function(o){o.id==t?e.$set(o,"isChecked",!0):e.$set(o,"isChecked",!1)})},coordinateChange:function(t){var e=this,o=this.coordinate;o.forEach(function(o){o.id==t?e.$set(o,"isChecked",!0):e.$set(o,"isChecked",!1)})},sellroomChange:function(t){var e=this,o=this.isSellroom;o.forEach(function(o){o.id==t?e.$set(o,"isChecked",!0):e.$set(o,"isChecked",!1)})},addrPosition:function(e){t("log","here"," at pages/qing-f-c/sellDupty/edit-customer.vue:252"),1==e&&n.chooseLocation({success:function(e){i.factoryAddress=e.address,t("log","详细地址："+e.address," at pages/qing-f-c/sellDupty/edit-customer.vue:258"),i.factoryLatitude=e.latitude,t("log","纬度："+e.latitude," at pages/qing-f-c/sellDupty/edit-customer.vue:260"),i.factoryLongitude=e.longitude,t("log","经度："+e.longitude," at pages/qing-f-c/sellDupty/edit-customer.vue:262")}})},bindCancel:function(){n.navigateBack({delta:1})},formSubmit:function(e){var o=this.customerInfo,i={};t("log","合作意向====",this.cooperationIntention," at pages/qing-f-c/sellDupty/edit-customer.vue:278");var c=r.list2code(this.cooperationIntention),a=r.list2code(this.coordinate);t("log","cooper",c," at pages/qing-f-c/sellDupty/edit-customer.vue:282"),i.companyCode=o.companyCode,i.companyName=o.companyName,i.factoryAddress=o.factoryAddress,i.factoryLongitude=o.factoryLongitude,i.factoryLatitude=o.factoryLatitude,i.hasSalesroom=this.isSellroom[0].isChecked?1:0,i.salesroomAddress=o.salesroomAddress,i.salesroomLongitude=o.salesroomLongitude,i.salesroomLatitude=o.salesroomLatitude,i.regionCode=this.regionCode,i.companyTypeCode=this.companyTypeCode,i.companySourceCode=this.companySourceCode,i.cooperationIntentionCode=c[0],i.coordinateCode=a[0],t("log","更新客户：",i," at pages/qing-f-c/sellDupty/edit-customer.vue:300"),i=r.filterNull(i),l.updateCustomer(i).then(function(e){if(t("log",e," at pages/qing-f-c/sellDupty/edit-customer.vue:307"),0==e.data.status){var o=getCurrentPages(),i=(o[o.length-1],o[o.length-2]);i.setData({isDoRefresh:!0}),n.navigateBack({delta:1})}else n.showToast({title:e.data.message,icon:"none"})}).catch(function(t){wx.showToast({title:t.data.description,icon:"none"})})}}};e.default=d}).call(this,o("0de9")["default"],o("6e42")["default"])}},[["6c31","common/runtime","common/vendor"]]]);