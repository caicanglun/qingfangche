(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/sellDupty/edit-competitor"],{"11b7":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,c=function(){n.e("components/myPicker").then(function(){return resolve(n("f08a"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/myCheckboxGroup").then(function(){return resolve(n("f9e6"))}.bind(null,n)).catch(n.oe)},l=n("b65b"),u={components:{myPicker:c,myCheckboxGroup:s},data:function(){return{rivalList:{},channel:[],channelStatusCode:-1,mainProduct:[],scale:[],companyScaleCode:-1,quality:[],qualityCode:-1,businessModel:[],businessModelCode:-1,purchase:["中间商","厂家直采"],isFactoryDirectSale:!1,isMiddleman:!1,businessModelName:"",channelStatusName:"",companyScaleName:"",qualityName:""}},onLoad:function(e){i=this,o=JSON.parse(e.odata),t("log","competitor====",o," at pages/qing-f-c/sellDupty/edit-competitor.vue:112"),i.rivalList=o,i.isFactoryDirectSale=1==o.isFactoryDirectSale,i.isMiddleman=1==o.isMiddleman,this.getMainProduct(),this.getChannel(),this.getCompanyScale(),this.getQuality(),this.getBusinessModel()},onShow:function(){t("log",this==i," at pages/qing-f-c/sellDupty/edit-competitor.vue:126"),i.businessModelName=o.businessModelName,i.channelStatusName=o.channelStatusName,i.companyScaleName=o.companyScaleName,i.qualityName=o.qualityName},methods:{getMainProduct:function(){var e=this;l.getMainProduct().then((function(n){t("log",n," at pages/qing-f-c/sellDupty/edit-competitor.vue:136"),i.mainProduct=n.data.data.list;var a=o.mainProducts;t("log",a," at pages/qing-f-c/sellDupty/edit-competitor.vue:139"),a.forEach((function(t){i.mainProduct.forEach((function(n){n.label==t.label&&e.$set(n,"isChecked",!0)}))}))})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getChannel:function(){l.getChannel().then((function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:156"),i.channel=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getCompanyScale:function(){l.getCompanyScale().then((function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:167"),i.scale=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getQuality:function(){l.getQuality().then((function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:178"),i.quality=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getBusinessModel:function(){l.getBusinessModel().then((function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:189"),i.businessModel=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},tapDirectChange:function(){this.isFactoryDirectSale=!this.isFactoryDirectSale},tapBrokerChange:function(){this.isMiddleman=!this.isMiddleman},tapMainProduct:function(t){for(var e=this.mainProduct,n=0,a=e.length;n<a;++n){var i=e[n];i.id==t&&this.$set(i,"isChecked",!i.isChecked)}},channeChange:function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:215"),this.channelStatusCode=e},scaleChange:function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:219"),this.companyScaleCode=e},qualityChange:function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:223"),this.qualityCode=e},businessModelChange:function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:227"),this.businessModelCode=e},bindCancel:function(){a.navigateBack({delta:1})},submit:function(){var e={},n=[];if(this.mainProduct.forEach((function(t){1==t.isChecked&&n.push(t.id)})),0!=n.lengh){var i={rivalCode:o.rivalCode,companyName:o.companyName,mainProductCodes:n,channelStatusCode:this.channelStatusCode,isMiddleman:this.isMiddleman?1:0,companyScaleCode:this.companyScaleCode,qualityCode:this.qualityCode,businessModelCode:this.businessModelCode,isFactoryDirectSale:this.isFactoryDirectSale?1:0,companyAddress:o.companyAddress,machineType:o.machineType,machineCount:o.machineCount};i.companyName?(Object.keys(i).forEach((function(t){-1!=i[t]&&(e[t]=i[t])})),t("log","添加竞争对手：==",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:278"),l.rivalUpdate(e).then((function(e){t("log",e," at pages/qing-f-c/sellDupty/edit-competitor.vue:280"),a.showToast({title:"添加成功",icon:"none"});var n=getCurrentPages(),i=(n[n.length-1],n[n.length-3]);i.setData({isDoRefresh:!0}),a.navigateBack({delta:2})})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))):a.showToast({title:"请输入竞争对手名称",icon:"none"})}else a.showToast({title:"请选择主营产品",icon:"none"})}}};e.default=u}).call(this,n("0de9")["default"],n("6e42")["default"])},"153b":function(t,e,n){"use strict";n.r(e);var a=n("11b7"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"499a":function(t,e,n){"use strict";var a=n("5999"),i=n.n(a);i.a},5999:function(t,e,n){},"6d97":function(t,e,n){"use strict";(function(t){n("3b9b"),n("921b");a(n("66fd"));var e=a(n("db63"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"8aa7":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},db63:function(t,e,n){"use strict";n.r(e);var a=n("8aa7"),i=n("153b");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("499a");var c,s=n("f0c5"),l=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],c);e["default"]=l.exports}},[["6d97","common/runtime","common/vendor"]]]);