(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/sellDupty/customer-details"],{"3dcc":function(t,e,o){"use strict";o.r(e);var n=o("cfa1"),a=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=a.a},"6f35":function(t,e,o){},"9a8a":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},a=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return a})},a278:function(t,e,o){"use strict";(function(t){o("3b9b"),o("921b");n(o("66fd"));var e=n(o("a682"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},a682:function(t,e,o){"use strict";o.r(e);var n=o("9a8a"),a=o("3dcc");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("ffc4");var c=o("2877"),s=Object(c["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},cfa1:function(t,e,o){"use strict";(function(t,n){var a;function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c,s,u=function(){return o.e("components/listShow").then(o.bind(null,"b9cb"))},l=function(){return o.e("components/uni-icons/uni-icons").then(o.bind(null,"2cee"))},r=o("b65b"),f=(a={components:{listShow:u,uniIcon:l},data:function(){return{placeholdeView:!1,identity:2,linkMan:"",totalCount:"",operation:"",rival:"",customerInfo:"",isProduct:!1,admin:!1,isDisplay:!1,activeIndex:-1,items:["公司信息","联系人","经营状况"],isDoRefresh:!1}},onPullDownRefresh:function(){this.getCustomerInfo()},onShow:function(){var t=getCurrentPages(),e=t[t.length-1];1==e.data.isDoRefresh&&(e.data.isDoRefresh=!1,this.getCustomerInfo(),this.getLinkMan(),this.getOperation(),this.getRival())},onLoad:function(e){c=this,console.log(t(e," at pages/qing-f-c/sellDupty/customer-details.vue:298")),s=e.companyCode,this.getCustomerInfo(),this.getLinkMan(),this.getOperation(),this.getRival()},onPageScroll:function(t){t.scrollTop>180?this.isDisplay=!0:(this.isDisplay=!1,this.placeholdeView=!1)}},i(a,"components",{}),i(a,"props",{}),i(a,"methods",{tabSwitch:function(t){switch(this.activeIndex=t,this.placeholdeView=!0,t){case 0:this.selectorQuery("#outView","#companyInfo");break;case 1:this.selectorQuery("#outView","#contact");break;case 2:this.selectorQuery("#outView","#condition");break}},selectorQuery:function(e,o){n.createSelectorQuery().select(e).boundingClientRect(function(e){n.createSelectorQuery().select(o).boundingClientRect(function(o){n.createSelectorQuery().select("#inTabbar").boundingClientRect(function(a){console.log(t(o.top,e.top,a.height," at pages/qing-f-c/sellDupty/customer-details.vue:342")),n.pageScrollTo({duration:0,scrollTop:o.top-e.top-a.height})}).exec()}).exec()}).exec()},backto:function(){n.navigateBack({delta:1})},getCustomerInfo:function(){var e=this;console.log(t(s," at pages/qing-f-c/sellDupty/customer-details.vue:360"));var o={companyCode:s};r.cmDetail(o).then(function(o){console.log(t(o," at pages/qing-f-c/sellDupty/customer-details.vue:364")),e.customerInfo=o.data.data,console.log(t(e.customerInfo," at pages/qing-f-c/sellDupty/customer-details.vue:367"))}).catch(function(e){console.log(t("Err===",e," at pages/qing-f-c/sellDupty/customer-details.vue:370"))})},getLinkMan:function(){var e=this,o={companyCode:s};r.linkMan(o).then(function(o){console.log(t(o," at pages/qing-f-c/sellDupty/customer-details.vue:378")),e.linkMan=o.data.data.list,e.totalCount=o.data.data.totalCount,console.log(t("联系人数量==",e.totalCount," at pages/qing-f-c/sellDupty/customer-details.vue:381"))}).catch(function(e){console.log(t("Err===",e," at pages/qing-f-c/sellDupty/customer-details.vue:383"))})},getOperation:function(){var e=this,o={companyCode:s};r.operation(o).then(function(o){console.log(t(o," at pages/qing-f-c/sellDupty/customer-details.vue:390")),e.operation=o.data.data}).catch(function(e){console.log(t("Err===",e," at pages/qing-f-c/sellDupty/customer-details.vue:393"))})},getRival:function(){var e=this,o={companyCode:s};r.rival(o).then(function(o){console.log(t("rival===",o," at pages/qing-f-c/sellDupty/customer-details.vue:400")),e.rival=o.data.data.list}).catch(function(e){console.log(t("Err===",e," at pages/qing-f-c/sellDupty/customer-details.vue:404"))})},toRecordDetails:function(){var t=this.customerInfo.id;wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/record-details?userId="+t+"&name="+this.customerInfo.corporateName})},goMarginControl:function(){var t=this.customerInfo.id;wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/margin-control?userId="+t})},toBondDetail:function(){var t=this.customerInfo.id;2==this.customerInfo.type?wx.showToast({title:"开发中...",icon:"none"}):wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/bond-list?id="+t})},addCompetitor:function(e){var o=this.customerInfo.companyCode;n.navigateTo({url:"/pages/qing-f-c/sellDupty/add-competitor?companyCode="+o,success:function(e){console.log(t(e," at pages/qing-f-c/sellDupty/customer-details.vue:454"))},fail:function(e){console.log(t(e," at pages/qing-f-c/sellDupty/customer-details.vue:457"))},complete:function(){}})},detailCompetitor:function(e){var o=e;n.navigateTo({url:"/pages/qing-f-c/sellDupty/detail-competitor?rivalCode="+o,success:function(e){console.log(t(e," at pages/qing-f-c/sellDupty/customer-details.vue:468"))},fail:function(e){console.log(t(e," at pages/qing-f-c/sellDupty/customer-details.vue:471"))},complete:function(){}})},goEditCustomer:function(){var t=this.customerInfo.companyCode;n.navigateTo({url:"/pages/qing-f-c/sellDupty/edit-customer?companyCode="+t,success:function(t){},fail:function(){},complete:function(){}})},addContacts:function(e){var o=this.customerInfo.companyCode;console.log(t(e," at pages/qing-f-c/sellDupty/customer-details.vue:490")),n.navigateTo({url:"/pages/qing-f-c/sellDupty/add-contact?companyCode="+o,success:function(t){},fail:function(){},complete:function(){}})},toEditLinkman:function(t){var e=t;n.navigateTo({url:"/pages/qing-f-c/sellDupty/contact-detail?buyOrSellCode="+e+"&totalCount="+c.totalCount,success:function(t){},fail:function(){},complete:function(){}})},toSetManagementCondition:function(t,e){var o=this.customerInfo.companyCode;if(2==t)wx.navigateTo({url:"/pages/qing-f-c/sellDupty/setManagerCondition?companyCode="+o});else if(1==t){var n=JSON.stringify(this.operation);wx.navigateTo({url:"/pages/qing-f-c/sellDupty/editManagerCondition?data="+n})}},toInquiry:function(){wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/sampling-record?id="+_id})},toProductPage:function(){var t,e=this.customerInfo.productInfo;t=e?"/pages/jin-suo-yun/customer-admin/product-display?customerId="+_id:"/pages/jin-suo-yun/customer-admin/add-productpage?type="+this.customerInfo.type+"&customerid="+_id,wx.navigateTo({url:t})},bindNull:function(){wx.showToast({title:"待开发...",icon:"none"})},tapDelete:function(){},setData:function(t){var e,o,n=this,a=[];Object.keys(t).forEach(function(i){a=i.split("."),e=t[i],o=n.$data,a.forEach(function(t,i){i+1==a.length?n.$set(o,t,e):o[t]||n.$set(o,t,{}),o=o[t]})})}}),a);e.default=f}).call(this,o("0de9")["default"],o("6e42")["default"])},ffc4:function(t,e,o){"use strict";var n=o("6f35"),a=o.n(n);a.a}},[["a278","common/runtime","common/vendor"]]]);