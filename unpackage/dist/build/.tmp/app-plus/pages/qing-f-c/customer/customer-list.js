(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/customer/customer-list"],{"31bd":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=n("104e"),o=1,s=20,r=1,c=!0,u=!0,d={data:function(){return{selectContent:[{name:"全部",id:1},{name:"未完善",id:0}],bindSelect:!1,tabSelection:1,customerList:[],recordList:[],timeIconStatus:!1,startDate:"",endDate:"",newTime:"",inputValue:"",renewCustomer:!1,renewRecord:!1}},onReachBottom:function(){1==a.tabSelection&&o>-1&&this.getCustomerList(),2==a.tabSelection&&r>-1&&this.getRecordList()},onPullDownRefresh:function(){o=1,r=1,this.getCustomerList(),this.getRecordList()},onShow:function(){this.renewCustomer&&(o=1,this.getCustomerList(),this.setData({renewCustomer:!1})),this.renewRecord&&(r=1,this.getRecordList(),this.setData({renewRecord:!1}))},onLoad:function(t){o=1,r=1,a=this,this.setTime(),this.getCustomerList(),this.getRecordList()},components:{},props:{},methods:{setTime:function(){var t=new Date,e=t.getMonth()+1;e=e<10?"0"+e:e;var n=t.getFullYear()+"-"+e+"-"+t.getDate();this.setData({newTime:n})},getRecordList:function(){if(!(r<0)&&u){u=!1;var e={name:this.inputValue,pageNo:r,pageSize:s,startDate:this.startDate,endDate:this.endDate};i.getRecordList(e).then(function(t){wx.stopPullDownRefresh(),u=!0,t.data.map(function(t){var e=t.followTime,n=e.replace(/-/g,"/"),a=new Date(n),i=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],o=a.getDay(),s=t.followTime.slice(0,10)+" "+i[o];return t.timeName=s,t}),1==r?a.setData({recordList:t.data}):t.data.length>0&&a.setData({recordList:a.recordList.concat(t.data)}),20==t.data.length?r++:r=-1}).catch(function(e){c=!0,console.log(t("err--",e," at pages\\qing-f-c\\customer\\customer-list.vue:261"))})}},getCustomerList:function(){if(!(o<0)&&c){c=!1;var t={pageNo:o,pageSize:s,name:this.inputValue};0==this.selectContent[0].id&&(t.status=0),this.customerList=[{followid:"11",followRecord:"",name:"绿城纺织有限公司",contNum:3,region:"柯桥",type:2,type1:"布行",contName:"王兴明",contPhone:"13400223325"}]}},bindSelect:function(){this.setData({bindSelect:!this.bindSelect})},bindSelectContent:function(t){var e=t.currentTarget.dataset.index,n=this.selectContent,a=n[0];n[0]=n[e],n[e]=a,this.setData({selectContent:n}),e>0&&(o=1,this.getCustomerList())},bindSearch:function(t){this.setData({inputValue:t.detail.value}),1==this.tabSelection?(o=1,this.getCustomerList()):this.getRecordList()},inputSearch:function(e){console.log(t(e.detail.value," at pages\\qing-f-c\\customer\\customer-list.vue:346"))},iconTime:function(){this.setData({timeIconStatus:!this.timeIconStatus})},startDateChange:function(t){this.setData({startDate:t.detail.value})},endDateChange:function(t){this.setData({endDate:t.detail.value}),r=1,this.getRecordList()},bindSearchFollow:function(){r=1,this.getRecordList()},bindTab:function(t){var e=t.currentTarget.dataset.index,n=this.tabSelection;e!=n&&this.setData({tabSelection:e})},toCustimerDetails:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/customer-details?id="+e})},toRecordDetalis:function(t){var e=t.currentTarget.dataset.id;wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/record-details-one?id="+e+"&type=true"})},goCustomerCreated:function(){wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/customer-created"})},toAddRecord:function(){wx.navigateTo({url:"/pages/jin-suo-yun/customer-admin/add-record"})},bindReset:function(){this.setData({startDate:"",endDate:""})},setData:function(t){var e,n,a=this,i=[];Object.keys(t).forEach(function(o){i=o.split("."),e=t[o],n=a.$data,i.forEach(function(t,o){o+1==i.length?a.$set(n,t,e):n[t]||a.$set(n,t,{}),n=n[t]})})}}};e.default=d}).call(this,n("0de9")["default"])},"4b48":function(t,e,n){"use strict";var a=n("fda9"),i=n.n(a);i.a},"51ae":function(t,e,n){"use strict";n.r(e);var a=n("6f05"),i=n("71bd");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("4b48");var s=n("2877"),r=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},"6f05":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"71bd":function(t,e,n){"use strict";n.r(e);var a=n("31bd"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},fda9:function(t,e,n){}},[["ef3b","common/runtime","common/vendor"]]]);