(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/index"],{"05c8":function(n,e,t){"use strict";t.r(e);var i=t("b9d0"),a=t("9f9c");for(var s in a)"default"!==s&&function(n){t.d(e,n,(function(){return a[n]}))}(s);t("d595");var o,u=t("f0c5"),c=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=c.exports},1511:function(n,e,t){},"9f9c":function(n,e,t){"use strict";t.r(e);var i=t("da8a"),a=t.n(i);for(var s in i)"default"!==s&&function(n){t.d(e,n,(function(){return i[n]}))}(s);e["default"]=a.a},b9d0:function(n,e,t){"use strict";var i={"uni-grid":function(){return t.e("components/uni-grid/uni-grid").then(t.bind(null,"18b5"))},"uni-grid-item":function(){return t.e("components/uni-grid-item/uni-grid-item").then(t.bind(null,"068f"))}},a=function(){var n=this,e=n.$createElement,t=(n._self._c,parseInt(n.directorReviewCount)),i=parseInt(n.auditCount),a=parseInt(n.customLevelCount),s=parseInt(n.directorReviewCount),o=parseInt(n.auditCount),u=parseInt(n.customLevelCount);n.$mp.data=Object.assign({},{$root:{m0:t,m1:i,m2:a,m3:s,m4:o,m5:u}})},s=[];t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return s})),t.d(e,"a",(function(){return i}))},d595:function(n,e,t){"use strict";var i=t("1511"),a=t.n(i);a.a},da8a:function(n,e,t){"use strict";(function(n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(t("4795"));function s(n){return n&&n.__esModule?n:{default:n}}function o(n,e,t,i,a,s,o){try{var u=n[s](o),c=u.value}catch(r){return void t(r)}u.done?e(c):Promise.resolve(c).then(i,a)}function u(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var s=n.apply(e,t);function u(n){o(s,i,a,u,c,"next",n)}function c(n){o(s,i,a,u,c,"throw",n)}u(void 0)}))}}var c,r=function(){t.e("components/mpvue-picker/mpvuePicker").then(function(){return resolve(t("cdb2"))}.bind(null,t)).catch(t.oe)},l=function(){t.e("components/uni-grid/uni-grid").then(function(){return resolve(t("18b5"))}.bind(null,t)).catch(t.oe)},g=function(){t.e("components/uni-grid-item/uni-grid-item").then(function(){return resolve(t("068f"))}.bind(null,t)).catch(t.oe)},m=function(){t.e("components/widgit").then(function(){return resolve(t("7e05"))}.bind(null,t)).catch(t.oe)},p=t("b65b"),f=(t("48ac"),t("109d"),[{icon:"/static/images/jinsy/common/kehu.png",name:"客户管理",url:"/pages/qing-f-c/buyDupty/customer-admin"},{icon:"/static/images/jinsy/common/jiaoyi.png",name:"交易管理",url:""},{icon:"/static/images/jinsy/common/xunjia.png",name:"询价管理",url:"/pages/qing-f-c/inquiryManage/inquiryManage"},{icon:"/static/images/jinsy/common/genjin.png",name:"潜在订单",url:"/pages/qing-f-c/newFollowRecord/deputyFollowList"},{icon:"/static/images/jinsy/common/wuliu.png",name:"物流信息",url:""},{icon:"/static/images/jinsy/common/shenfen.png",name:"身份认领",url:""},{icon:"/static/images/jinsy/common/customFollow.png",name:"客户跟进",url:"/pages/qing-f-c/customPicture/followListNew"},{icon:"/static/images/jinsy/common/casual.png",name:"随口价",url:"/pages/qing-f-c/casualPrice/casualList"}]),d=[{icon:"/static/images/jinsy/common/kehu.png",name:"客户管理",url:"/pages/qing-f-c/sellDupty/customer-admin"},{icon:"/static/images/jinsy/common/jiaoyi.png",name:"交易管理",url:""},{icon:"/static/images/jinsy/common/xunjia.png",name:"询价管理",url:"/pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage"},{icon:"/static/images/jinsy/common/genjin.png",name:"潜在订单",url:"/pages/qing-f-c/newFollowRecord/deputyFollowList"},{icon:"/static/images/jinsy/common/wuliu.png",name:"物流信息",url:""},{icon:"/static/images/jinsy/common/shenfen.png",name:"身份认领",url:""},{icon:"/static/images/jinsy/common/customFollow.png",name:"客户跟进",url:"/pages/qing-f-c/customPicture/followListNew"}],h=[{icon:"/static/images/jinsy/common/kehu.png",name:"客户管理",url:"/pages/qing-f-c/regionalManager/customer-admin"},{icon:"/static/images/jinsy/common/genjin.png",name:"潜在订单",url:"/pages/qing-f-c/newFollowRecord/sd_followList"},{icon:"/static/images/jinsy/common/tongji.png",name:"报表统计",url:""},{icon:"/static/images/jinsy/common/bangban.png",name:"帮办管理",url:""},{icon:"/static/images/jinsy/common/shenke.png",name:"审核管理",url:"/pages/qing-f-c/regionalManager/approved"},{icon:"/static/images/jinsy/common/shenfen.png",name:"身份认领",url:""},{icon:"/static/images/jinsy/common/customFollow.png",name:"客户跟进",url:"/pages/qing-f-c/customPicture/sd_followList"}],y=[{icon:"/static/images/jinsy/common/kehu.png",name:"客户管理",url:"/pages/qing-f-c/sales_director/customer-admin"},{icon:"/static/images/jinsy/common/genjin.png",name:"潜在订单",url:"/pages/qing-f-c/newFollowRecord/sd_followList"},{icon:"/static/images/jinsy/common/tongji.png",name:"报表统计",url:""},{icon:"/static/images/jinsy/common/bangban.png",name:"帮办管理",url:""},{icon:"/static/images/jinsy/common/shenke.png",name:"审核管理",url:"/pages/qing-f-c/sales_director/approved"},{icon:"/static/images/jinsy/common/shenfen.png",name:"身份认领",url:""},{icon:"/static/images/jinsy/common/customFollow.png",name:"客户跟进",url:"/pages/qing-f-c/customPicture/sd_followList"},{icon:"/static/images/jinsy/common/casual.png",name:"随口价",url:"/pages/qing-f-c/casualPrice/sd_casualList"}],v=[{icon:"/static/images/jinsy/common/tongji.png",name:"报表统计",url:""},{icon:"/static/images/jinsy/common/fenxi.png",name:"分析管理",url:"/pages/qing-f-c/inquiryManage/sampleInquiry/analyst/inquiryManage"},{icon:"/static/images/jinsy/common/shenke.png",name:"审核管理",url:"/pages/qing-f-c/analyist/analyist"}],q=[{icon:"/static/images/jinsy/common/xunjia.png",name:"我的询价",url:"/pages/jin-suo-yun/deputy/sample-many-search"},{icon:"/static/images/jinsy/common/jiaoyi.png",name:"我的交易",url:""},{icon:"/static/images/jinsy/buyer/lianxi.png",name:"联系帮办",url:""},{icon:"/static/images/jinsy/buyer/guanzhu.png",name:"我的关注",url:""},{icon:"/static/images/jinsy/buyer/mingpian.png",name:"采购名片",url:""}],w=[{icon:"/static/images/jinsy/common/xunjia.png",name:"我的询价",url:""},{icon:"/static/images/jinsy/common/jiaoyi.png",name:"我的交易",url:""},{icon:"/static/images/jinsy/seller/lianxi.png",name:"联系帮办",url:""},{icon:"/static/images/jinsy/seller/weidian.png",name:"我的微店",url:""},{icon:"/static/images/jinsy/seller/mingpian.png",name:"采购名片",url:""},{icon:"/static/images/jinsy/common/shenfen.png",name:"身份认领",url:""},{icon:"/static/images/jinsy/seller/guanzhu.png",name:"我的关注",url:"/pages/jin-suo-yun/analysis-list"},{icon:"/static/images/jinsy/seller/mingpian.png",name:"采购名片",url:""}],L={data:function(){return{arrList:[],userInfo:{},pupDef:"",isSeller:!1,isIdentity:!0,identityName:"",isSpecial:!1,regionalManager:!1,newsNum:0,popAds:!1,identList:[],index:[0],mode:"selector",directorReviewCount:0,isDoRefresh:!1,qrUrl:"",detailUrl:"",numberStatus:"",quotationlUrl:"",auditCount:0,totalCount:0,latentCount:0,customLevelCount:0}},onPullDownRefresh:function(){this.userDetails(),this.getNewsNum(),this.pupDefault(),this.pupList(),this.reviewCount(),this.getAuditCount(),this.getCustomLevelCount(),n.stopPullDownRefresh()},onShow:function(n){this.userDetails(),this.reviewCount(),this.getAuditCount(),this.pupList(),this.pupDefault(),this.getNewsNum(),this.getLatentCount(),this.getCustomLevelCount()},onLoad:function(e){if(c=this,this.checkLogin()){n.showLoading({title:"加载中"});setTimeout((function(){n.hideLoading()}),1e3);this.userDetails(),this.getNewsNum(),this.pupDefault(),this.pupList(),this.reviewCount(),this.getAuditCount(),this.getLatentCount(),this.getCustomLevelCount()}},components:{mpvuePicker:r,uniGrid:l,uniGridItem:g,widgit:m},props:{},methods:{getCustomLevelCount:function(){var e=this;return u(a.default.mark((function t(){var i,s;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:n.getStorageSync("pupDefault")},t.next=3,e.$http.get("/cm/level_audit_count",{data:i});case 3:s=t.sent,e.customLevelCount=s.data.data.msg;case 5:case"end":return t.stop()}}),t)})))()},getLatentCount:function(){var n=this;return u(a.default.mark((function e(){var t;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$http.get("/latent/user_message_count",{});case 2:t=e.sent,n.latentCount=t.data.data.msg;case 4:case"end":return e.stop()}}),e)})))()},navMenu:function(e){""!=e?n.navigateTo({url:e,success:function(n){},fail:function(n){i("log",n," at pages/qing-f-c/index.vue:539")},complete:function(){}}):n.showToast({title:"开发中",icon:"none"})},getAuditCount:function(){var e={postCode:n.getStorageSync("pupDefault")},t=this.Api.auditCount;this.myRequest(e,t,"get").then((function(n){i("log",n," at pages/qing-f-c/index.vue:549"),c.auditCount=n.data.data.msg,i("log",c.auditCount," at pages/qing-f-c/index.vue:552")})).catch((function(e){n.showToast({title:e.data.errMsg,icon:"none"})}))},reviewCount:function(){var e={postCode:n.getStorageSync("pupDefault")},t=this.Api.directorReviewCount;this.myRequest(e,t,"get").then((function(e){i("log",e," at pages/qing-f-c/index.vue:566"),"SALES_DIRECTOR"==n.getStorageSync("pupDefault")?c.directorReviewCount=e.data.data.msg:c.directorReviewCount=0,i("log",c.directorReviewCount," at pages/qing-f-c/index.vue:573")})).catch((function(n){wx.showToast({title:n.data.errMsg,icon:"none"})}))},showPicker:function(){this.$refs.mpvuePicker.show()},onConfirm:function(e){this.index=e.index;var t=this.identList[this.index].id;switch(t){case"SALES_DIRECTOR":try{n.setStorageSync("pupDefault","SALES_DIRECTOR")}catch(e){return void n.showToast({title:"缓存出错",icon:"none"})}this.userDetails(),this.arrList=y,this.isSpecial=!0,this.isSeller=!1;break;case"REGIONAL_MANAGER":try{n.setStorageSync("pupDefault","REGIONAL_MANAGER"),this.userDetails()}catch(e){return void n.showToast({title:"缓存出错",icon:"none"})}this.userDetails(),this.isSpecial=!0,this.isSeller=!1;break;case"BUY_DEPUTY":try{n.setStorageSync("pupDefault","BUY_DEPUTY")}catch(e){return void n.showToast({title:"缓存出错",icon:"none"})}this.userDetails(),this.arrList=f,this.isSeller=!1,this.isSpecial=!1;break;case"SELL_DEPUTY":try{n.setStorageSync("pupDefault","SELL_DEPUTY")}catch(e){return void n.showToast({title:"缓存出错",icon:"none"})}this.userDetails(),this.arrList=d,this.isSpecial=!1,this.isSeller=!0;break;case"ANALYST":try{n.setStorageSync("pupDefault","ANALYST")}catch(e){return void n.showToast({title:"缓存出错",icon:"none"})}this.userDetails(),this.arrList=v,this.isSpecial=!1,this.isSeller=!1;break}},onChange:function(n){this.index=n.index},onCancel:function(n){i("log","onCancel"," at pages/qing-f-c/index.vue:677"),i("log",n," at pages/qing-f-c/index.vue:678")},selectChange:function(n){this.index=n.detail.value},showSinglePicker:function(){i("log",this.identList," at pages/qing-f-c/index.vue:684"),this.mode="selector",this.index=[0],this.$refs.mpvuePicker.show()},getNewsNum:function(){p.getNewsNum().then((function(n){c.newsNum=n.data.data.count})).catch((function(n){i("log","getNewsNum=err==",res," at pages/qing-f-c/index.vue:695")}))},userDetails:function(){var e=this,t={postCode:n.getStorageSync("pupDefault")};p.userDetails(t).then((function(n){i("log",n," at pages/qing-f-c/index.vue:706"),c.userInfo=n.data.data,e.$store.dispatch("regionCodeFun",n.data.data.regionCode),n.data.data.regionCode,i("log","userInfo===",c.userInfo," at pages/qing-f-c/index.vue:711"),e.pupDefault()})).catch((function(n){i("log","getNewsNum=err==",res," at pages/qing-f-c/index.vue:714")}))},pupDefault:function(){var e=n.getStorageSync("pupDefault");switch(i("log","默认身份====",e," at pages/qing-f-c/index.vue:720"),"SELL_DEPUTY"!=e&&"SELLER"!=e||(c.isSeller=!0),"SALES_DIRECTOR"!=e&&"REGIONAL_MANAGER"!=e||(c.isSpecial=!0),e){case"BUY_DEPUTY":c.arrList=f,c.qrUrl="/pages/qing-f-c/inquiryManage/inquiry-created?number=",c.detailUrl="/pages/qing-f-c/inquiryManage/sampleInquiry/buyDeputy/inquiry-details?inquiryNumber=",c.quotationlUrl="/pages/qing-f-c/inquiryManage/sampleInquiry/buyDeputy/quotationDetails/quotationDetails?number=",i("log",c.arrList[0]," at pages/qing-f-c/index.vue:735");break;case"SELL_DEPUTY":c.arrList=d,c.qrUrl="",c.detailUrl="/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/inquiry-details?inquiryNumber=",c.quotationlUrl="/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/quotationDetails?number=";break;case"ANALYST":c.arrList=v,c.qrUrl="",c.detailUrl="/pages/qing-f-c/inquiryManage/sampleInquiry/analyst/inquiry-details?inquiryNumber=",c.quotationlUrl="/pages/qing-f-c/inquiryManage/sampleInquiry/analyst/inquiry-details?inquiryNumber=";break;case"SALES_DIRECTOR":c.arrList=y;break;case"REGIONAL_MANAGER":c.arrList=h;break;case"BUYER":c.arrList=q;break;case"SELLER":c.arrList=w;break}},pupList:function(){p.pupList().then((function(e){i("log","身份列表",e," at pages/qing-f-c/index.vue:767"),0==e.data.status&&(c.identList=e.data.data.list),80==e.data.status&&n.redirectTo({url:"/pages/qing-f-c/login/login"})})).catch((function(n){i("log","pupList=err==",res," at pages/qing-f-c/index.vue:779")}))},isExist:function(e,t){var a=this.Api.isExist,s={number:e};this.myRequest(s,a,"get").then((function(a){i("log",a.data.data.msg," at pages/qing-f-c/index.vue:790"),c.numberStatus=a.data.data.msg,i("log",c.numberStatus," at pages/qing-f-c/index.vue:792"),"false"==c.numberStatus?(i("log","xiangdeng"," at pages/qing-f-c/index.vue:794"),n.navigateTo({url:c.qrUrl+e,success:function(n){},fail:function(){},complete:function(){}})):1==t?n.navigateTo({url:c.detailUrl+e,success:function(n){},fail:function(e){n.showToast({title:e,duration:3e3})},complete:function(){}}):n.navigateTo({url:c.quotationlUrl+e+"&orderType="+t,success:function(n){},fail:function(e){n.showModal({content:e})},complete:function(){}})})).catch((function(n){wx.showToast({title:n.data.errMsg,icon:"none"})}))},scanCode:function(){n.scanCode({success:function(n){var e=n.result.split("#")[2],t=n.result.split("#")[0];c.isExist(e,t)},fail:function(e){n.showToast({title:e,icon:"none"})}})},navNewsPage:function(){i("log","跳转到消息页"," at pages/qing-f-c/index.vue:862"),n.navigateTo({url:"/pages/qing-f-c/message/messageList"})},toSetting:function(){n.navigateTo({url:"./setting/setting",success:function(n){},fail:function(n){i("log",n," at pages/qing-f-c/index.vue:871")},complete:function(){}})},toChoicePage:function(){n.getStorageSync("token")},prompt:function(e){""!=e||n.showToast({title:"开发中...",icon:"none",duration:1e3})},toJump:function(e){var t=e.currentTarget.dataset.url;t&&(this.popAds||"/pages/user-order/order"!=t)||n.showToast({title:"开发中...",icon:"none"})}}};e.default=L}).call(this,t("6e42")["default"],t("0de9")["default"])},fd65:function(n,e,t){"use strict";(function(n){t("3b9b"),t("921b");i(t("66fd"));var e=i(t("05c8"));function i(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("6e42")["createPage"])}},[["fd65","common/runtime","common/vendor"]]]);