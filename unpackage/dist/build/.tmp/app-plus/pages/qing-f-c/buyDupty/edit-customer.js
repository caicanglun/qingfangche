(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/buyDupty/edit-customer"],{"352b":function(t,e,n){"use strict";n.r(e);var o=n("c15d"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"68fe":function(t,e,n){"use strict";var o=n("8d82"),a=n.n(o);a.a},"8d82":function(t,e,n){},a6be:function(t,e,n){"use strict";var o,a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))},c15d:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("4795"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,o,a,i,c){try{var u=t[i](c),s=u.value}catch(r){return void n(r)}u.done?e(s):Promise.resolve(s).then(o,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function u(t){c(i,o,a,u,s,"next",t)}function s(t){c(i,o,a,u,s,"throw",t)}u(void 0)}))}}var s,r,d=function(){n.e("components/myPicker").then(function(){return resolve(n("f08a"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/rangeButtonLong").then(function(){return resolve(n("7156"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/switchButton").then(function(){return resolve(n("d6bb"))}.bind(null,n)).catch(n.oe)},p=n("096c"),l=n("b65b"),m={components:{myPicker:d,rangeButton:g,swithButton:f},data:function(){return{customerInfo:{},region:[],companyType:[],companyScale:[],companySource:[],cooperationIntention:[],coordinate:[],managementPosition:[],regionCode:-1,companyTypeCode:-1,companySourceCode:-1,companyScaleCode:-1,managementPositionCode:-1,level:[],companyLevel:""}},onLoad:function(e){s=this,r=e.companyCode,t("log","公司编号===",r," at pages/qing-f-c/buyDupty/edit-customer.vue:93"),this.getCustomerInfo(),this.getRegion(),this.getCoordinate(),this.getSource(),this.getType(),this.getCooperationIntention(),this.getCompanyScale(),this.getManagementPosition(),this.getCompanyLevel()},onShow:function(){setTimeout((function(){t("log",s.customerInfo," at pages/qing-f-c/buyDupty/edit-customer.vue:107");var e=s.customerInfo.cooperationIntention,n=s.customerInfo.coordinate;t("log","coor==",n," at pages/qing-f-c/buyDupty/edit-customer.vue:112"),s.cooperationIntention.forEach((function(t){t.label==e&&s.$set(t,"isChecked",!0)})),s.coordinate.forEach((function(t){t.label==n&&s.$set(t,"isChecked",!0)})),t("log","coordinate",s.coordinate," at pages/qing-f-c/buyDupty/edit-customer.vue:123")}),500)},methods:{getCompanyLevel:function(){var e=this;return u(a.default.mark((function n(){var o;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("/choose/company_level",{});case 2:o=n.sent,t("log","companyLevel",o," at pages/qing-f-c/buyDupty/edit-customer.vue:132"),e.level=o.data.data.list;case 5:case"end":return n.stop()}}),n)})))()},getCustomerInfo:function(){t("log",r," at pages/qing-f-c/buyDupty/edit-customer.vue:136");var e={companyCode:r};l.cmDetail(e).then((function(e){t("log","customer--info==",e," at pages/qing-f-c/buyDupty/edit-customer.vue:140"),s.customerInfo=e.data.data,s.companyLevel=s.customerInfo.companyLevelCode,t("log",s.customerInfo," at pages/qing-f-c/buyDupty/edit-customer.vue:144")})).catch((function(e){t("log","Err===",e," at pages/qing-f-c/buyDupty/edit-customer.vue:147")}))},getCompanyScale:function(){l.getCompanyScale().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:153"),s.companyScale=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getManagementPosition:function(){l.getManagementPosition().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:165"),s.managementPosition=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getRegion:function(){l.getRegion().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:176"),s.region=e.data.data.list,t("log","region==",s.region," at pages/qing-f-c/buyDupty/edit-customer.vue:178")})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getCoordinate:function(){l.getCoordinate().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:188"),s.coordinate=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getType:function(){l.getType().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:199"),s.companyType=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getSource:function(){l.getSource().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:210"),s.companySource=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},getCooperationIntention:function(){l.getCooperationIntention().then((function(e){t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:221"),s.cooperationIntention=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))},regionChange:function(e){this.regionCode=e,t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:235")},companyTypeChange:function(e){this.companyTypeCode=e,t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:240")},companySourceChange:function(e){this.companySourceCode=e,t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:245")},managementPositionChange:function(t){this.managementPositionCode=t},levelChange:function(e){this.companyLevel=e,t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:254")},companyScaleChange:function(e){this.companyScaleCode=e,t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:259")},cooperationIntentionChange:function(t){var e=this,n=this.cooperationIntention;n.forEach((function(n){n.id==t?e.$set(n,"isChecked",!0):e.$set(n,"isChecked",!1)}))},coordinateChange:function(t){var e=this,n=this.coordinate;n.forEach((function(n){n.id==t?e.$set(n,"isChecked",!0):e.$set(n,"isChecked",!1)}))},addrPosition:function(e){t("log","here"," at pages/qing-f-c/buyDupty/edit-customer.vue:286"),1==e&&o.chooseLocation({success:function(e){s.factoryAddress=e.address,t("log","详细地址："+e.address," at pages/qing-f-c/buyDupty/edit-customer.vue:292"),s.factoryLatitude=e.latitude,t("log","纬度："+e.latitude," at pages/qing-f-c/buyDupty/edit-customer.vue:294"),s.factoryLongitude=e.longitude,t("log","经度："+e.longitude," at pages/qing-f-c/buyDupty/edit-customer.vue:296")}})},bindCancel:function(){o.navigateBack({delta:1})},formSubmit:function(e){var n=this.customerInfo,a={},i=p.list2code(this.cooperationIntention),c=p.list2code(this.coordinate);t("log","cooper",i," at pages/qing-f-c/buyDupty/edit-customer.vue:315"),a.companyCode=n.companyCode,a.companyName=n.companyName,a.companyAddress=n.companyAddress,a.companyLongitude=n.companyLongitude,a.companyLatitude=n.companyLatitude,a.regionCode=this.regionCode,a.companyTypeCode=this.companyTypeCode,a.companySourceCode=this.companySourceCode,a.companyScaleCode=this.companyScaleCode,a.managementPositionCode=this.managementPositionCode,a.cooperationIntentionCode=i[0],a.coordinateCode=c[0],a.companyLevel=this.companyLevel,t("log","更新客户：",a," at pages/qing-f-c/buyDupty/edit-customer.vue:334"),a=p.filterNull(a),l.updateCustomer(a).then((function(e){if(t("log",e," at pages/qing-f-c/buyDupty/edit-customer.vue:341"),0==e.data.status){var n=getCurrentPages(),a=(n[n.length-1],n[n.length-2]);a.setData({isDoRefresh:!0}),o.navigateBack({delta:1})}else o.showToast({title:e.data.message,icon:"none"})})).catch((function(t){wx.showToast({title:t.data.description,icon:"none"})}))}}};e.default=m}).call(this,n("0de9")["default"],n("6e42")["default"])},c1bd:function(t,e,n){"use strict";n.r(e);var o=n("a6be"),a=n("352b");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("68fe");var c,u=n("f0c5"),s=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);e["default"]=s.exports},c6e11:function(t,e,n){"use strict";(function(t){n("3b9b"),n("921b");o(n("66fd"));var e=o(n("c1bd"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["c6e11","common/runtime","common/vendor"]]]);