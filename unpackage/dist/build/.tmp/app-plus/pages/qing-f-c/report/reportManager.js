(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/report/reportManager"],{"27f3":function(e,t,i){"use strict";i.r(t);var r=i("d165"),n=i.n(r);for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},"66ac":function(e,t,i){"use strict";(function(e){i("3b9b"),i("921b");r(i("66fd"));var t=r(i("705c"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},"705c":function(e,t,i){"use strict";i.r(t);var r=i("f372"),n=i("27f3");for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("e69e");var o,s=i("f0c5"),c=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=c.exports},d165:function(e,t,i){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("4795"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i,r,n,a,o){try{var s=e[a](o),c=s.value}catch(l){return void i(l)}s.done?t(c):Promise.resolve(c).then(r,n)}function s(e){return function(){var t=this,i=arguments;return new Promise((function(r,n){var a=e.apply(t,i);function s(e){o(a,r,n,s,c,"next",e)}function c(e){o(a,r,n,s,c,"throw",e)}s(void 0)}))}}var c=function(){i.e("components/ms-dropdown/dropdown-menu").then(function(){return resolve(i("d8d8"))}.bind(null,i)).catch(i.oe)},l=function(){i.e("components/ms-dropdown/dropdown-item").then(function(){return resolve(i("fa40"))}.bind(null,i)).catch(i.oe)},u=function(){i.e("components/myProgress/myProgress").then(function(){return resolve(i("d349"))}.bind(null,i)).catch(i.oe)},d=function(){i.e("components/tongji-color").then(function(){return resolve(i("95ea"))}.bind(null,i)).catch(i.oe)},m=function(){i.e("components/t-table/t-table").then(function(){return resolve(i("2838"))}.bind(null,i)).catch(i.oe)},h=function(){i.e("components/t-table/t-th").then(function(){return resolve(i("a957"))}.bind(null,i)).catch(i.oe)},f=function(){i.e("components/t-table/t-tr").then(function(){return resolve(i("874e"))}.bind(null,i)).catch(i.oe)},g=function(){i.e("components/t-table/t-td").then(function(){return resolve(i("f11c"))}.bind(null,i)).catch(i.oe)};function p(e){var t=new Date,i=t.getFullYear(),r=t.getMonth()+1,n=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=2),r=r>9?r:"0"+r,n=n>9?n:"0"+n,"".concat(i,"-").concat(r,"-").concat(n)}function b(e){var t=new Date,i=(t.getFullYear(),t.getMonth()+1),r=t.getDate();return"start"===e?60:"end"===e&&2,i=i>9?i:"0"+i,r=r>9?r:"0"+r,"".concat(r)}function T(){var e=new Date,t=new Date(e.getYear(),e.getMonth(),1),i=Number(t.getMonth())+1;return e.getFullYear()+"-"+i+"-"+t.getDate()}function C(){var e=new Date,t=new Date(e.getYear(),e.getMonth(),1),i=Number(t.getMonth());return e.getFullYear()+"-"+i+"-01"}function v(){var e=new Date,t=new Date(e.getYear(),e.getMonth(),1),i=Number(t.getMonth())+1;return e.getFullYear()+"-"+i+"-01"}var y={components:{msDropdownMenu:c,msDropdownItem:l,myProgress:u,tongjiColor:d,tTable:m,tTh:h,tTr:f,tTd:g},computed:{comPercent:function(){if(0==this.content1.targetMoney)return 0;var e=parseInt(this.content1.turnover/this.content1.targetMoney*100);return e>100?100:e},comPercentWidth:function(){if(0==this.content1.targetMoney)return 10;var e=parseInt(this.content1.turnover/this.content1.targetMoney*100);return e<20?20:e>90?90:e},comPercentCount:function(){if(0==this.content1.targetCount)return 0;var e=parseInt(this.content1.companyCount/this.content1.targetCount*100);return e>100?100:e},comPercentCountWidth:function(){if(0==this.content1.targetCount)return 10;var e=parseInt(this.content1.companyCount/this.content1.targetCount*100);return e<20?20:e>90?90:e}},data:function(){return{today:"",isShowFilter:!1,postCode:"",userPostList1:[{value:2,text:"采购"},{value:1,text:"销售"}],userPostList2:[{value:2,text:"采购"},{value:1,text:"销售"}],userPostList3:[{value:2,text:"采购"},{value:1,text:"销售"}],userPostList4:[{value:2,text:"采购"},{value:1,text:"销售"}],userPostList5:[{value:2,text:"采购"},{value:1,text:"销售"}],items:["业绩排名","业绩目标","业绩统计","客户数量","客户跟进","潜在订单","询价统计"],rangeList:[{id:1,label:"区域排名"},{id:2,label:"区域个人排名"},{id:3,label:"总公司个人排名"}],rangeCode:1,deputyList:[{id:1,label:"买帮办"},{id:2,label:"卖帮办"}],deputyCode:1,items2:[],activeIndex:-1,activeIndex2:-1,regionCodeList0:[],regionCodeList1:[],regionCodeList2:[],regionCodeList3:[],regionCodeList4:[],regionCodeList5:[],regionCodeList6:[],selectTime:{time0:{startTime:T({format:!0}),endTime:p({format:!0})},time1:{startTime:T({format:!0}),endTime:p({format:!0})},time2:{startTime:p({format:!0}),endTime:p({format:!0})},time3:{startTime:p({format:!0}),endTime:p({format:!0})},time4:{startTime:p({format:!0}),endTime:p({format:!0})},time5:{startTime:p({format:!0}),endTime:p({format:!0})},time6:{startTime:p({format:!0}),endTime:p({format:!0})}},regionCode0:"SS",regionCode1:0,regionCode2:0,regionCode3:0,regionCode4:0,regionCode5:0,regionCode6:0,userPostCode0:1,userPostCode1:1,userPostCode2:0,userPostCode3:1,userPostCode4:1,userPostCode5:1,content0:"",content1:"",content2:"",content3:"",content4:"",content5:"",content6:"",content2Detail:{},label:{label0:1,label1:1,label2:0,label3:0,label4:0,label5:0,label6:0}}},onLoad:function(){if(this.today=b({format:!0}),this.getRegionCode(),this.postCode=e.getStorageSync("pupDefault"),"SALES_DIRECTOR"==this.postCode&&(this.isShowFilter=!0),"REGIONAL_MANAGER"==this.postCode){var t=this.$store.state.regionCode;this.regionCode1=t,this.regionCode2=t,this.regionCode3=t,this.regionCode4=t,this.regionCode5=t,this.regionCode6=t}this.fetchList0(),this.fetchList1(),this.fetchList2(),this.fetchList3(),this.fetchList4(),this.fetchList5(),this.fetchList6()},methods:{toSelectTargetCustomer:function(){e.navigateTo({url:"./selectTargetCustomer?buyOrSell=".concat(this.userPostCode1,"&regionCode=").concat(this.regionCode1)})},toSelctList:function(){e.navigateTo({url:"./selectCustomerList?buyOrSell=".concat(this.userPostCode1,"&regionCode=").concat(this.regionCode1)})},tabSwitchRange:function(e,t){0==e&&(this.rangeCode=t,1==t?this.deputyCode=1:2==t?(this.deputyCode=1,this.regionCode0="SS"):3==t&&(this.deputyCode=1),this.fetchList0())},tapSelectDay:function(e,t){switch(r("log",e," at pages/qing-f-c/report/reportManager.vue:1056"),r("log",t.target.dataset.index," at pages/qing-f-c/report/reportManager.vue:1057"),e){case 0:this.label.label0=t.target.dataset.index,1==t.target.dataset.index&&(this.selectTime.time0.startTime=T({format:!0}),this.selectTime.time0.endTime=p({format:!0})),0==t.target.dataset.index&&(this.selectTime.time0.startTime=p({format:!0})),2==t.target.dataset.index&&(this.selectTime.time0.startTime=C({format:!0}),this.selectTime.time0.endTime=v({format:!0})),this.fetchList0();break;case 1:this.label.label1=t.target.dataset.index,1==t.target.dataset.index&&(this.selectTime.time1.startTime=T({format:!0}),this.selectTime.time1.endTime=p({format:!0})),0==t.target.dataset.index&&(this.selectTime.time1.startTime=p({format:!0}),this.selectTime.time1.endTime=p({format:!0})),2==t.target.dataset.index&&(this.selectTime.time1.startTime=C({format:!0}),this.selectTime.time1.endTime=v({format:!0})),this.fetchList1();break;case 2:this.label.label2=t.target.dataset.index,1==t.target.dataset.index&&(this.selectTime.time2.startTime=T({format:!0}),this.selectTime.time2.endTime=p({format:!0})),0==t.target.dataset.index&&(this.selectTime.time2.startTime=p({format:!0}),this.selectTime.time2.endTime=p({format:!0})),2==t.target.dataset.index&&(this.selectTime.time2.startTime=C({format:!0}),this.selectTime.time2.endTime=v({format:!0})),this.fetchList2();break;case 3:this.label.label3=t.target.dataset.index,1==t.target.dataset.index&&(this.selectTime.time3.startTime=T({format:!0}),this.selectTime.time3.endTime=p({format:!0})),0==t.target.dataset.index&&(this.selectTime.time3.startTime=p({format:!0}),this.selectTime.time3.endTime=p({format:!0})),2==t.target.dataset.index&&(this.selectTime.time3.startTime=C({format:!0}),this.selectTime.time3.endTime=v({format:!0})),this.fetchList3();break;case 4:this.label.label4=t.target.dataset.index,1==t.target.dataset.index&&(this.selectTime.time4.startTime=T({format:!0}),this.selectTime.time4.endTime=p({format:!0})),0==t.target.dataset.index&&(this.selectTime.time4.startTime=p({format:!0}),this.selectTime.time4.endTime=p({format:!0})),2==t.target.dataset.index&&(this.selectTime.time4.startTime=C({format:!0}),this.selectTime.time4.endTime=v({format:!0})),this.fetchList4();break;case 5:this.label.label5=t.target.dataset.index,1==t.target.dataset.index&&(this.selectTime.time5.startTime=T({format:!0}),this.selectTime.time5.endTime=p({format:!0})),0==t.target.dataset.index&&(this.selectTime.time5.startTime=p({format:!0}),this.selectTime.time5.endTime=p({format:!0})),2==t.target.dataset.index&&(this.selectTime.time5.startTime=C({format:!0}),this.selectTime.time5.endTime=v({format:!0})),this.fetchList5();break;case 6:this.label.label6=t.target.dataset.index;break}},fetchList0:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={buyOrSell:e.deputyCode,rankingType:e.rangeCode,startTime:e.selectTime.time0.startTime,endTime:e.selectTime.time0.endTime,regionCode:e.regionCode0},r("log",i," at pages/qing-f-c/report/reportManager.vue:1175"),t.next=4,e.$http.get("/data/ranking",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1177"),e.content0=a.data.data.list;case 7:case"end":return t.stop()}}),t)})))()},fetchList1:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:e.postCode,buyOrSell:e.userPostCode1,regionCode:e.regionCode1,startTime:e.selectTime.time1.startTime,endTime:e.selectTime.time1.endTime},r("log",i," at pages/qing-f-c/report/reportManager.vue:1191"),t.next=4,e.$http.get("/data/target",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1193"),e.content1=a.data.data;case 7:case"end":return t.stop()}}),t)})))()},fetchList2:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:e.postCode,buyOrSell:e.userPostCode2,regionCode:e.regionCode2,startTime:e.selectTime.time2.startTime,endTime:e.selectTime.time2.endTime},r("log",i," at pages/qing-f-c/report/reportManager.vue:1207"),t.next=4,e.$http.get("/data/performance",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1209"),e.activeIndex2=-1,e.items2=[],e.content2Detail={},e.content2=a.data.data,e.content2.list.forEach((function(t){e.items2.push(t.realName)}));case 11:case"end":return t.stop()}}),t)})))()},fetchList3:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:e.postCode,buyOrSell:e.userPostCode3,regionCode:e.regionCode3,startTime:e.selectTime.time3.startTime,endTime:e.selectTime.time3.endTime},r("log",i," at pages/qing-f-c/report/reportManager.vue:1229"),t.next=4,e.$http.get("/data/follow",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1231"),e.content3=a.data.data;case 7:case"end":return t.stop()}}),t)})))()},fetchList4:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:e.postCode,buyOrSell:e.userPostCode4,regionCode:e.regionCode4,startTime:e.selectTime.time4.startTime,endTime:e.selectTime.time4.endTime},r("log",i," at pages/qing-f-c/report/reportManager.vue:1245"),t.next=4,e.$http.get("/data/latent",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1247"),e.content4=a.data.data;case 7:case"end":return t.stop()}}),t)})))()},fetchList5:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:e.postCode,buyOrSell:e.userPostCode5,regionCode:e.regionCode5,startTime:e.selectTime.time5.startTime,endTime:e.selectTime.time5.endTime},r("log",i," at pages/qing-f-c/report/reportManager.vue:1261"),t.next=4,e.$http.get("/data/inquiry",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1263"),e.content5=a.data.data;case 7:case"end":return t.stop()}}),t)})))()},fetchList6:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={postCode:e.postCode,regionCode:e.regionCode6},r("log",i," at pages/qing-f-c/report/reportManager.vue:1273"),t.next=4,e.$http.get("/data/company",{data:i});case 4:a=t.sent,r("log",a," at pages/qing-f-c/report/reportManager.vue:1275"),e.content6=a.data.data;case 7:case"end":return t.stop()}}),t)})))()},getRegionCode:function(){var e=this;return s(n.default.mark((function t(){var i,a;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/choose/region",{});case 2:i=t.sent,r("log",i," at pages/qing-f-c/report/reportManager.vue:1282"),a=i.data.data.list,a.forEach((function(t){e.regionCodeList0.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell}),e.regionCodeList1.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell}),e.regionCodeList2.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell}),e.regionCodeList3.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell}),e.regionCodeList4.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell}),e.regionCodeList5.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell}),e.regionCodeList6.push({label:t.label,id:t.id,buyOrSell:t.buyOrSell})})),e.regionCodeList1.unshift({label:"全部",id:0,buyOrSell:0}),e.regionCodeList2.unshift({label:"全部",id:0,buyOrSell:0}),e.regionCodeList3.unshift({label:"全部",id:0,buyOrSell:0}),e.regionCodeList4.unshift({label:"全部",id:0,buyOrSell:0}),e.regionCodeList5.unshift({label:"全部",id:0,buyOrSell:0}),e.regionCodeList6.unshift({label:"全部",id:0,buyOrSell:0});case 12:case"end":return t.stop()}}),t)})))()},filterInput:function(e){5==e?this.fetchList5():4==e?this.fetchList4():3==e?this.fetchList3():2==e?this.fetchList2():1==e&&this.fetchList1()},tabSwitchRegion:function(e,t,i){switch(e){case 0:r("log",i," at pages/qing-f-c/report/reportManager.vue:1324"),this.regionCode0=t,this.deputyCode=i,this.fetchList0();break;case 1:this.regionCode1=t,this.userPostCode1=i,this.fetchList1();break;case 2:this.regionCode2=t,this.userPostCode2=i,this.fetchList2();break;case 3:this.regionCode3=t,this.userPostCode3=i,this.fetchList3();break;case 4:this.regionCode4=t,this.userPostCode4=i,this.fetchList4();break;case 5:this.regionCode5=t,this.userPostCode5=i,this.fetchList5();break;case 6:this.regionCode6=t,this.userPostCode6=i,this.fetchList6();break}},toSetTargetCustomer:function(){this.isShowFilter||(parseInt(this.today)<7?e.navigateTo({url:"./setTargetCustomer?buyOrSell=".concat(this.userPostCode1,"&regionCode=").concat(this.regionCode1)}):e.showToast({title:"超过设定时间",icon:"none",duration:1e3}))},toSetTargetMoney:function(){this.isShowFilter||(parseInt(this.today)<30?e.navigateTo({url:"./targetCustomList"}):e.showToast({title:"超过设定时间",icon:"none",duration:1e3}))},toSelectTime:function(t){0!=t&&1!=t?e.navigateTo({url:"./selectTime?type=".concat(t)}):e.navigateTo({url:"./selectMonths?type=".concat(t)})},tabSwitch2:function(e){this.deputyCode=e,this.fetchList0()},tabSwitch:function(e){switch(this.activeIndex=e,e){case 0:this.selectorQuery("#outView","#tabbar0");break;case 1:this.selectorQuery("#outView","#tabbar1");break;case 2:this.selectorQuery("#outView","#tabbar2");break;case 3:this.selectorQuery("#outView","#tabbar3");break;case 4:this.selectorQuery("#outView","#tabbar4");break;case 5:this.selectorQuery("#outView","#tabbar5");break;case 6:this.selectorQuery("#outView","#tabbar6");break}},selectorQuery:function(t,i){e.createSelectorQuery().select(t).boundingClientRect((function(t){e.createSelectorQuery().select(i).boundingClientRect((function(i){e.pageScrollTo({duration:0,scrollTop:i.top-t.top})})).exec()})).exec()}}};t.default=y}).call(this,i("6e42")["default"],i("0de9")["default"])},e69e:function(e,t,i){"use strict";var r=i("f94d"),n=i.n(r);n.a},f372:function(e,t,i){"use strict";var r={"t-table":function(){return i.e("components/t-table/t-table").then(i.bind(null,"2838"))}},n=function(){var e=this,t=e.$createElement;e._self._c},a=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r}))},f94d:function(e,t,i){}},[["66ac","common/runtime","common/vendor"]]]);