(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/inquiry-created"],{"221d":function(e,t,n){"use strict";(function(e){n("3b9b"),n("921b");i(n("66fd"));var t=i(n("c1d9"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"36e4":function(e,t,n){},"7e3f":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=function(){return n.e("components/pickerButton").then(n.bind(null,"5f6f"))},o=function(){return n.e("components/myPicker-inquiry").then(n.bind(null,"bd6e"))},r=function(){return n.e("components/partCheckboxGroup").then(n.bind(null,"c8bc"))},c=function(){return n.e("components/myPickerSmall").then(n.bind(null,"3209"))},u=function(){return n.e("components/switchButton-auto").then(n.bind(null,"12e7"))},l=function(){return n.e("components/pickerInput").then(n.bind(null,"f107"))},g=function(){return n.e("components/uni-icons/uni-icons").then(n.bind(null,"2cee"))},d=function(){return n.e("components/popupMe").then(n.bind(null,"cb0f"))},h={components:{pickerButton:s,myPicker:o,partCheckboxGroup:r,myPickerSmall:c,switchButton:u,pickerInput:l,uniIcon:g,popupMe:d},data:function(){return{clothBreadth:"",tradeName:"",content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",purchaseQuantity:"",guamalv:"",remarks:"",inquiryType:[],inquiryTypeIndex:1,densityUnit:[],densityUnitIndex:1,grammageUnit:[],grammageUnitIndex:1,lengthUnit:[],lengthUnitIndex:1,productSerial:[],productSerialIndex:"",buyer:"",buyerCode:"",styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",part:[],partID:[],partList:[],partListLong:[],partLong:[],partLongID:[],sampleType:[],sampleTypeIndex:1,newPartText:"",newPartLongText:"",styleCode:"",pictures:[],tempFiles:[]}},onLoad:function(){a=this,console.log(e(this.Api.getChannel," at pages/qing-f-c/inquiryManage/inquiry-created.vue:293")),this.getAllSelect()},methods:{selectBuyer:function(){i.navigateTo({url:"/pages/qing-f-c/inquiryManage/selectBuyer",success:function(e){},fail:function(){},complete:function(){}})},test:function(){var t="http://show.jkfb.net.cn:8080/aiwc-show/show/city?cityCode=yuyao",n={};this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:310"))}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},getAllSelect:function(){var t=this.Api.inquiryType,n={};this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:323")),a.inquiryType=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.series,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:335")),a.productSerial=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.style,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:347")),a.styleSerial=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.clothType,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:359")),a.sampleType=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.densityUnit,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:371")),a.densityUnit=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.gramWeightUnit,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:383")),a.grammageUnit=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.quantityUnit,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:395")),a.lengthUnit=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.atom,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:407")),a.partList=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:418")),a.partListLong=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),t=this.Api.getQuality,n={},this.myRequest(n,t,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:431")),a.qualityPosition=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},tapPartSelect:function(t,n){var i=this.partList;this.part=t,this.partID=n;for(var a=0,s=i.length;a<s;++a){var o=i[a];t.includes(o.label)?this.$set(o,"isChecked",!0):this.$set(o,"isChecked",!1)}console.log(e(this.partID," at pages/qing-f-c/inquiryManage/inquiry-created.vue:459"))},tapPartLongSelect:function(t,n){var i=this.partListLong;this.partLong=t,this.partLongID=n;for(var a=0,s=i.length;a<s;++a){var o=i[a];t.includes(o.label)?this.$set(o,"isChecked",!0):this.$set(o,"isChecked",!1)}console.log(e(this.partLongID," at pages/qing-f-c/inquiryManage/inquiry-created.vue:475"))},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(t,n){var i=this;this.newPartText=n,console.log(e(this.newPartText," at pages/qing-f-c/inquiryManage/inquiry-created.vue:486"));var a=this.Api.atomAdd,s={atomName:this.newPartText};this.myRequest(s,a,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:492")),0==t.data.status&&i.getAllSelect()}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},tapPaste:function(){i.setClipboardData({data:this.spec_longitude})},tabSwitchChange:function(t,n){switch(t){case"sampleType":this.sampleTypeIndex=n,console.log(e(this.sampleTypeIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:515"));break;case"inquiryType":this.inquiryTypeIndex=n,console.log(e(this.inquiryTypeIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:519"));break;case"styleChange":console.log(e(n," at pages/qing-f-c/inquiryManage/inquiry-created.vue:523")),this.styleSerialIndex=n[1]||-1,this.styleSerialValue=n[0],console.log(e(this.styleSerialIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:526")),console.log(e(this.styleSerialValue," at pages/qing-f-c/inquiryManage/inquiry-created.vue:527"));break;case"productSerial":this.productSerialIndex=n,console.log(e(this.productSerialIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:531"));break;case"densityUnit":this.densityUnitIndex=n,console.log(e(this.densityUnitIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:535"));break;case"grammageUnit":this.grammageUnitIndex=n,console.log(e(this.grammageUnitIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:539"));break;case"qualityPosition":this.qualityPositionIndex=n,console.log(e(this.qualityPositionIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:543"));break;case"lengthUnit":this.lengthUnitIndex=n,console.log(e(this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/inquiry-created.vue:547"));break}},pickImage:function(){i.chooseImage({sizeType:["compressed"],success:function(t){var n=t.tempFilePaths;a.pictures=[];for(var s=0;s<n.length;s++)i.uploadFile({url:a.Api.upload,filePath:n[s],name:"file",success:function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:564")),a.pictures.push(JSON.parse(t.data).data.msg),i.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},bindCancel:function(){i.navigateBack({delta:1})},submit:function(){var t=this;a.styleSerial.forEach(function(e){e.id==a.styleSerialIndex&&e.label!=a.styleSerialValue&&(t.styleSerialIndex=-1)});var n={inquiryType:a.inquiryTypeIndex,buyOrSellCode:a.buyerCode,purchaseQuantity:a.purchaseQuantity,quantityUnit:a.lengthUnitIndex,hangBitRate:a.guamalv,remarks:a.remarks,tradeName:a.tradeName,seriesCode:a.productSerialIndex,ingredientLongitudes:a.partID,ingredientLatitudes:a.partLongID,content:a.content,specificationLongitude:a.spec_longitude,specificationLatitude:a.spec_latitude,styleCode:a.styleSerialIndex,styleName:a.styleSerialValue,organization:a.organize,clothType:a.sampleTypeIndex,densityLongitude:a.density_longitude,densityLatitude:a.density_latitude,densityUnit:a.densityUnitIndex,gramWeight:a.grammage,gramWeightUnit:a.grammageUnitIndex,clothBreadth:a.clothBreadth,qualityCode:a.qualityPositionIndex,pictures:a.pictures};console.log(e(n," at pages/qing-f-c/inquiryManage/inquiry-created.vue:627"));var s=this.Api.addInquiry;this.myRequest(n,s,"post").then(function(t){if(console.log(e(t," at pages/qing-f-c/inquiryManage/inquiry-created.vue:630")),0==t.data.status){i.showToast({title:"询价单创建成功",icon:"none",duration:500});var n=getCurrentPages(),a=(n[n.length-1],n[n.length-2]);a.setData({isDoRefresh:!0}),i.redirectTo({url:"/pages/qing-f-c/inquiryManage/inquiry-details?inquiryNumber="+t.data.data.msg,success:function(e){},fail:function(){},complete:function(){}})}else i.showToast({title:t.data.message,icon:"none"})}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})}}};t.default=h}).call(this,n("0de9")["default"],n("6e42")["default"])},"9bc2":function(e,t,n){"use strict";n.r(t);var i=n("7e3f"),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);t["default"]=a.a},b475:function(e,t,n){"use strict";var i=n("36e4"),a=n.n(i);a.a},c1d9:function(e,t,n){"use strict";n.r(t);var i=n("cc97"),a=n("9bc2");for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);n("b475");var o=n("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=r.exports},cc97:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})}},[["221d","common/runtime","common/vendor"]]]);