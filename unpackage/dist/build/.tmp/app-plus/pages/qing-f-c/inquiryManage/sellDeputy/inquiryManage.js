(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage"],{"50f4":function(t,i,n){"use strict";n.r(i);var e=n("81b0"),a=n("cf9c");for(var u in a)"default"!==u&&function(t){n.d(i,t,function(){return a[t]})}(u);n("f3db");var o,s=n("f0c5"),r=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],o);i["default"]=r.exports},"81b0":function(t,i,n){"use strict";var e,a=function(){var t=this,i=t.$createElement;t._self._c},u=[];n.d(i,"b",function(){return a}),n.d(i,"c",function(){return u}),n.d(i,"a",function(){return e})},8350:function(t,i,n){"use strict";(function(t){n("3b9b"),n("921b");e(n("66fd"));var i=e(n("50f4"));function e(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,n("6e42")["createPage"])},bc4e:function(t,i,n){},cf9c:function(t,i,n){"use strict";n.r(i);var e=n("e1c0"),a=n.n(e);for(var u in e)"default"!==u&&function(t){n.d(i,t,function(){return e[t]})}(u);i["default"]=a.a},e1c0:function(t,i,n){"use strict";(function(t,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,u,o=function(){return n.e("components/uni-icons/uni-icons").then(n.bind(null,"2cee"))},s=function(){return n.e("components/topTabbar-inquiry").then(n.bind(null,"93d0"))},r=function(){return n.e("components/filterButton-status").then(n.bind(null,"4a14"))},l=function(){return n.e("components/inquireList").then(n.bind(null,"0f1f"))},c=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"fbad"))},f={components:{uniIcon:o,topTabbar:s,filterButton:r,inquireList:l,uniLoadMore:c},data:function(){return{loadingType:"more",inputValueOne:"",items:["我的常规","我的找样","常规询价","找样询价"],activeIndex:0,filterButton:[],fitlerButtonIndex:-1,count:0,lists:[],totalPage:"",isDoRefresh:!1,keyword:"",affiliation:1,inquiryType:1,inquiryStatus:-1,pageNum:1,pageSize:10}},onReachBottom:function(){null!=u&&clearTimeout(u),u=setTimeout(function(){a.getmoreInquiry()},1e3)},onPullDownRefresh:function(){this.getInquiryList()},onShow:function(){var t=getCurrentPages(),i=t[t.length-1];1==i.data.isDoRefresh&&(i.data.isDoRefresh=!1,this.getInquiryList()),this.getInquiryList()},onLoad:function(){a=this,this.getInquiryList(),this.getInquiryStatus()},methods:{getInquiryStatus:function(){var i=this,n=t.getStorageSync("pupDefault"),u=this.Api.inquiryStatus2,o={postCode:n};this.myRequest(o,u,"get").then(function(t){e("log",t," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:123"),a.filterButton=t.data.data.list,i.setIsChecked(a.filterButton,a.inquiryStatus),e("log",a.filterButton," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:126")}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},getmoreInquiry:function(){if("more"!==a.loadingType)return!1;a.loadingType="loading",t.showNavigationBarLoading();var i={keyword:a.keyword,affiliation:a.affiliation,inquiryType:a.inquiryType,inquiryStatus:a.inquiryStatus,pageNum:a.pageNum,pageSize:a.pageSize},n=this.Api.sellDeputyList;this.myRequest(i,n,"get").then(function(i){if(e("log",i," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:150"),0==i.data.data.list.length)return e("log","no data"," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:152"),a.loadingType="",void t.hideNavigationBarLoading();a.pageNum++,a.lists=a.lists.concat(i.data.data.list),a.loadingType="more",t.hideNavigationBarLoading()}).catch(function(i){e("log",i," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:162"),t.showToast({title:i.data.errMsg,icon:"none"})})},getInquiryList:function(){a.pageNum=1,a.loadingType="more",t.showNavigationBarLoading();var i={keyword:a.keyword,affiliation:a.affiliation,inquiryType:a.inquiryType,inquiryStatus:a.inquiryStatus,pageNum:a.pageNum,pageSize:a.pageSize},n=this.Api.sellDeputyList;t.showLoading({title:"加载中",mask:!0}),this.myRequest(i,n,"get").then(function(i){if(0==i.data.status){t.hideLoading(),a.pageNum++,e("log",i," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:191"),a.lists=i.data.data.list;var n=0;a.lists.forEach(function(t){3==t.inquiryStatusCode&&(n+=1)}),a.count=n,a.totalPage=i.data.data.totalPage}}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),t.hideNavigationBarLoading(),t.stopPullDownRefresh()},toDetail:function(i){var n=i[0],a=i[1];1==a?t.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details?inquiryNumber="+n,success:function(t){},fail:function(){},complete:function(){}}):t.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/inquiry-details?inquiryNumber="+n,success:function(t){},fail:function(t){e("log",t," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:227")},complete:function(){}})},tabSwitch:function(i){switch(this.activeIndex=i,e("log","activeIndex",this.activeIndex," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:239"),this.activeIndex){case 0:this.affiliation=1,this.inquiryType=1,this.inquiryStatus=-1,this.getInquiryStatus(),this.getInquiryList(),t.pageScrollTo({duration:0,scrollTop:0});break;case 1:this.affiliation=1,this.inquiryType=2,this.inquiryStatus=-1,this.getInquiryStatus(),this.getInquiryList(),t.pageScrollTo({duration:0,scrollTop:0});break;case 2:this.affiliation=2,this.inquiryType=1,this.inquiryStatus=-1,this.getInquiryStatus(),this.getInquiryList(),t.pageScrollTo({duration:0,scrollTop:0});break;case 3:this.affiliation=2,this.inquiryType=2,this.inquiryStatus=-1,this.getInquiryStatus(),this.getInquiryList(),t.pageScrollTo({duration:0,scrollTop:0});break}},filterButtonChange:function(t){this.inquiryStatus=t,this.setIsChecked(this.filterButton,this.inquiryStatus),this.pageNum=1,this.getInquiryList(),e("log","fiterButtonIndex",this.fitlerButtonIndex," at pages/qing-f-c/inquiryManage/sellDeputy/inquiryManage.vue:294")},blurInput:function(t){this.keyword=this.inputValueOne},toNewBuild:function(){t.navigateTo({url:"/pages/qing-f-c/inquiryManage/inquiry-created",success:function(t){},fail:function(){},complete:function(){}})},toModelSearch:function(){},tapSearch:function(){this.getInquiryList()}}};i.default=f}).call(this,n("6e42")["default"],n("0de9")["default"])},f3db:function(t,i,n){"use strict";var e=n("bc4e"),a=n.n(e);a.a}},[["8350","common/runtime","common/vendor"]]]);