(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice"],{6722:function(e,t,i){"use strict";var a=i("fd7a"),n=i.n(a);n.a},"8d07":function(e,t,i){"use strict";(function(e){i("3b9b"),i("921b");a(i("66fd"));var t=a(i("cd42"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},ab31:function(e,t,i){"use strict";i.r(t);var a=i("e1ea"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);t["default"]=n.a},cd42:function(e,t,i){"use strict";i.r(t);var a=i("e19c"),n=i("ab31");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("6722");var r=i("2877"),o=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,null,null);t["default"]=o.exports},e19c:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},e1ea:function(e,t,i){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s,r=function(){return i.e("components/switchButton-auto").then(i.bind(null,"12e7"))},o=function(){return i.e("components/switchButton-edit").then(i.bind(null,"2cc1"))},c={components:{switchButton:o,switchButtonOne:r},computed:{returnLabel:function(){var e="";return this.unit.forEach(function(t){t.id==n.unitIndex&&(e=t.label)}),e}},data:function(){return{quoteList:{},quotePrice:"",brokerage:[],brokerageIndex:1,taxes:[],taxedIndex:1,carriage:[],carriageIndex:1,unit:[],unitIndex:1,upUnit:1,carriagePrice:0,brokerageRate:"",remark:"",carriageSwitch:!0,finalPrice:"",unitRate:1,includeTaxes:1,carriageContent:"",upTax:0,downTax:0}},onshow:function(){},onLoad:function(e){n=this,s=e.quotationNumber,this.getSelect()},methods:{carriageFunc:function(){this.carriagePrice=this.carriageContent,1==this.brokerageIndex?this.rule1():this.rule2()},rule1:function(){console.log(e("报价",this.quotePrice," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:216")),console.log(e("佣金",this.brokerageRate," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:217")),console.log(e("含税",this.includeTaxes," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:218")),console.log(e("运费单价1",this.carriagePrice," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:219")),this.includeTaxes=this.upTax-this.downTax,console.log(e(this.upTax," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:221")),console.log(e(this.downTax," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:222")),console.log(e("税比例",this.includeTaxes," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:223")),console.log(e("mima",this.unitRate," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:224")),1==this.brokerageIndex&&(1==n.unitIndex?this.finalPrice=((this.quotePrice/this.includeTaxes+this.carriagePrice/1)*(1+this.brokerageRate/100)/this.unitRate).toFixed(2):this.finalPrice=((this.quotePrice/this.includeTaxes+this.carriagePrice/1)*(1+this.brokerageRate/100)*this.unitRate).toFixed(2))},rule2:function(){console.log(e("报价",this.quotePrice," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:236")),console.log(e("佣金",this.brokerageRate," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:237")),console.log(e("含税",this.includeTaxes," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:238")),console.log(e("运费单价",this.carriagePrice," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:239")),this.includeTaxes=this.upTax-this.downTax,console.log(e("税比例",this.includeTaxes," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:241")),2==this.brokerageIndex&&(console.log(e("daozheli"," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:243")),1==n.unitIndex?this.brokerageRate=(100*(this.finalPrice/(this.quotePrice/this.includeTaxes+this.carriagePrice/1)-1)/n.unitRate).toFixed(2):this.brokerageRate=(100*(this.finalPrice/(this.quotePrice/this.includeTaxes+this.carriagePrice/1)-1)*n.unitRate).toFixed(2))},getSelect:function(){var t={},i=this.Api.computationRule;this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:257")),n.brokerage=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.isIcash,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:268")),n.carriage=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.isPlusDuty,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:279")),n.taxes=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.priceUnit,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:290")),n.unit=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.buyDeputySetDetails,t={quotationNumber:s},this.myRequest(t,i,"get").then(function(t){console.log(e("baojiadan",t," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:303")),n.quoteList=t.data.data,n.taxedIndex=n.quoteList.isPlusDutyCode,1==n.taxedIndex?(n.upTax=2.16,n.downTax=1.16):(n.upTax=2.08,n.downTax=1.08),n.arrChecked(n.unit,n.quoteList.priceUnit),n.arrChecked(n.taxes,n.quoteList.isPlusDutyCode),console.log(e("shuifei",n.taxes," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:316")),n.arrChecked(n.carriage,n.quoteList.isIcashCode),console.log(e(n.unit," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:318")),n.carriageIndex=n.quoteList.isIcashCode,n.unitIndex=n.quoteList.priceUnit,n.upUnit=n.quoteList.priceUnit,console.log(e("运费",n.carriageIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:323")),console.log(e("税",n.taxedIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:324")),console.log(e("单位",n.unitIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:325")),n.quotePrice=parseFloat(t.data.data.unitPrice)}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},arrChecked:function(e,t){var i=this;e.forEach(function(e){e.id==t?i.$set(e,"isChecked",!0):i.$set(e,"isChecked",!1)})},switchChange:function(t,i){switch(t){case"unit":this.arrChecked(this.unit,i),this.unitIndex=i,this.unitIndex==this.upUnit?this.unitRate=1:this.unitRate=.9144,1==this.brokerageIndex?this.rule1():this.rule2(),console.log(e(this.unitIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:363"));break;case"carriage":this.arrChecked(this.carriage,i),this.carriageIndex=i,console.log(e(this.carriageIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:368")),this.carriageSwitch=!this.carriageSwitch,0==this.carriageIndex&&(this.carriagePrice=""),1==this.brokerageIndex?this.rule1():this.rule2();break;case"taxes":this.arrChecked(this.taxes,i),this.taxedIndex=i,console.log(e(this.taxedIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:382")),1==this.taxedIndex?this.downTax=1.16:this.downTax=1.08,1==this.brokerageIndex?this.rule1():this.rule2();break;case"brokerage":this.arrChecked(this.brokerage,i),this.brokerageIndex=i,this.brokerageRate="",this.finalPrice="",console.log(e(this.brokerageIndex," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:400"));break}},submit:function(){var t=this,i={quotationNumber:n.quoteList.quotationNumber,basicsPrice:n.quotePrice,computationRule:n.brokerageIndex,isIcash:n.carriageIndex,isPlusDuty:n.taxedIndex,freight:n.carriagePrice,freightUnit:n.unitIndex,commissionRate:n.brokerageRate,remarks:n.remark,finalPrice:n.finalPrice,finalPriceUnit:n.unitIndex},s=this.Api.buyDeputySetPrice;this.myRequest(i,s,"post").then(function(i){console.log(e(i," at pages/qing-f-c/inquiryManage/setQuotePrice/setQuotePrice.vue:420")),0==i.data.status&&(a.showToast({title:"报价成功",icon:"none",duration:1e3}),t.refreshBack())}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})}}};t.default=c}).call(this,i("0de9")["default"],i("6e42")["default"])},fd7a:function(e,t,i){}},[["8d07","common/runtime","common/vendor"]]]);