(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/comQuotation/startQuotation"],{1935:function(t,e,a){"use strict";a.r(e);var n=a("2742"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=i.a},2742:function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(){return a.e("components/pickerButton").then(a.bind(null,"5f6f"))},s=function(){return a.e("components/myPickerPartNew").then(a.bind(null,"c800"))},u=function(){return a.e("components/switchButton-auto").then(a.bind(null,"12e7"))},r=function(){return a.e("components/switchButton-edit").then(a.bind(null,"2cc1"))},c=function(){return a.e("components/switchButton-s").then(a.bind(null,"ef61"))},g=function(){return a.e("components/partCheckboxGroup").then(a.bind(null,"c8bc"))},l=function(){return a.e("components/pickerInput").then(a.bind(null,"f107"))},d=function(){return a.e("components/popupMe").then(a.bind(null,"cb0f"))},h=function(){return a.e("components/uni-icons/uni-icons").then(a.bind(null,"2cee"))},f={components:{myPickerPart:s,switchButton:u,pickerButton:o,partCheckboxGroup:g,pickerInput:l,switchButtonS:c,popupMe:d,uniIcon:h,switchButtonCarrage:r},data:function(){return{content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",seller:"",sellerCode:"",storeStatus:[],storeStatusIndex:"",taxes:[],taxedIndex:1,carriage:[],carriageIndex:0,lengthUnit:[],lengthUnitIndex:1,densityUnit:[],densityUnitIndex:1,grammageUnit:[],grammageUnitIndex:1,styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",unitPrice:"",placeOfDelivery:"",placeOfDeliveryIndex:"",guamalv:"",remarks:"",sampleType:[],sampleTypeIndex:1,partList:[],partID:[],partListLong:[],part:[],partLongID:[],partLong:[],newPartText:"",newPartLongText:"",clothBreadth:"",pictures:[],returnLabel:"",goodsCode:"",buyOrSellCode:"",productDetails:""}},onLoad:function(e){i=this,t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:290"),this.goodsCode=e.goodsCode,this.buyOrSellCode=e.buyOrSellCode,this.getAllSelect(),this.getProductDetail()},methods:{getProductDetail:function(){var e=this.Api.QgoodsDetails,a={goodsCode:this.goodsCode};this.myRequest(a,e,"get").then(function(e){i.productDetails=e.data.data,t("log",i.productDetails," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:305"),i.density_longitude=i.productDetails.densityLongitude,i.density_latitude=i.productDetails.densityLatitude,i.grammage=i.productDetails.gramWeight,i.clothBreadth=i.productDetails.clothBreadth}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},getAllSelect:function(){var e=this.Api.priceUnit,a={};this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:325"),i.lengthUnit=e.data.data.list,i.lengthUnit.forEach(function(t){t.id==i.lengthUnitIndex&&(i.returnLabel=t.label)})}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.isIcash,this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:341"),i.carriage=e.data.data.list,i.setIsChecked(i.carriage,i.carriageIndex)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.isPlusDuty,this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:353"),i.taxes=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.inventory,this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:364"),i.storeStatus=e.data.data.list,i.storeStatusIndex=i.storeStatus[1].id}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.clothType,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:377"),i.sampleType=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.placeOfDelivery,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:389"),i.placeOfDelivery=e.data.data.list,i.placeOfDeliveryIndex=i.placeOfDelivery[1].id}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.style,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:403"),i.styleSerial=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.densityUnit,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:415"),i.densityUnit=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.gramWeightUnit,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:427"),i.grammageUnit=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.atom,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:439"),i.partList=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:450"),i.partListLong=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.getQuality,a={},this.myRequest(a,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:463"),i.qualityPosition=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(e,a){var n=this;this.newPartText=a,t("log",this.newPartText," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:485");var i=this.Api.atomAdd,o={atomName:this.newPartText};this.myRequest(o,i,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:491"),0==e.data.status&&n.getAllSelect()}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tabSwitchChange:function(e,a){switch(e){case"sampleType":this.sampleTypeIndex=a,t("log",this.sampleTypeIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:509");break;case"inquiryType":this.inquiryTypeIndex=a,t("log",this.inquiryTypeIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:513");break;case"buyerChange":this.buyerIndex=a,t("log",this.buyerIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:517");break;case"styleChange":t("log",a," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:520"),this.styleSerialIndex=a[1],this.styleSerialValue=a[0],t("log",this.styleSerialIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:523"),t("log",this.styleSerialValue," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:524");break;case"productSerial":this.productSerialIndex=a,t("log",this.productSerialIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:528");break;case"densityUnit":this.densityUnitIndex=a,t("log",this.densityUnitIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:532");break;case"grammageUnit":this.grammageUnitIndex=a,t("log",this.grammageUnitIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:536");break;case"qualityPosition":this.qualityPositionIndex=a,t("log",this.qualityPositionIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:540");break;case"lengthUnit":this.lengthUnitIndex=a,t("log",this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:544");break}},tapPartSelect:function(e,a){var n=this.partList;this.part=e,this.partID=a;for(var i=0,o=n.length;i<o;++i){var s=n[i];e.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}t("log",this.partID," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:564")},tapPartLongSelect:function(e,a){var n=this.partListLong;this.partLong=e,this.partLongID=a;for(var i=0,o=n.length;i<o;++i){var s=n[i];e.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}t("log",this.partLongID," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:580")},tapPaste:function(){n.setClipboardData({data:this.spec_longitude})},switchChange:function(e,a){switch(e){case"lengthUnit":this.lengthUnitIndex=a,i.lengthUnit.forEach(function(t){t.id==i.lengthUnitIndex&&(i.returnLabel=t.label)}),t("log",this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:598");break;case"carriage":this.carriageIndex=a,i.setIsChecked(i.carriage,i.carriageIndex),t("log",this.carriageIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:603");break;case"taxes":this.taxedIndex=a,t("log",this.taxedIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:607");break}},pickerChange:function(e,a){switch(e){case"placeOfDelivery":this.placeOfDeliveryIndex=a,t("log",this.placeOfDeliveryIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:615");break;case"sellers":break;case"storeStatus":this.storeStatusIndex=a,t("log",this.storeStatusIndex," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:624");break}},selectSeller:function(){n.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/selectSeller",success:function(t){},fail:function(){},complete:function(){}})},pickImage:function(){n.chooseImage({sizeType:["compressed"],success:function(e){var a=e.tempFilePaths;i.pictures=[];for(var o=0;o<a.length;o++)n.uploadFile({url:i.Api.upload,filePath:a[o],name:"file",success:function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:649"),i.pictures.push(JSON.parse(e.data).data.msg),n.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},submit:function(){if(1==i.carriageIndex&&i.carriagePrice<=0)n.showToast({title:"运费还没填",icon:"none",duration:1e3});else if(i.unitPrice<=0)n.showToast({title:"报价不能为零",icon:"none",duration:1e3});else{var e={inquiryNumber:this.$store.state.inquiryNumber,buyOrSellCode:i.buyOrSellCode,unitPrice:i.unitPrice,priceUnit:i.lengthUnitIndex,isIcash:i.carriageIndex,isPlusDuty:i.taxedIndex,placeOfDelivery:i.placeOfDeliveryIndex,inventoryCode:i.storeStatusIndex,purchaseQuantity:"",hangBitRate:i.guamalv,remarks:i.remarks,densityLongitude:i.density_longitude,densityLatitude:i.density_latitude,gramWeight:i.grammage,clothBreadth:i.clothBreadth,pictures:i.pictures,goodsCode:i.goodsCode};t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:707");var a=this.Api.quotationAdd;n.showLoading({title:"",mask:!0}),this.myRequest(e,a,"post").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/comQuotation/startQuotation.vue:714"),0==e.data.status?(n.hideLoading(),n.showToast({title:"报价创建成功",icon:"none",duration:1e3}),n.navigateBack({delta:4})):n.showToast({title:e.data.message,icon:"none"})}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})}}}};e.default=f}).call(this,a("0de9")["default"],a("6e42")["default"])},"503f":function(t,e,a){"use strict";var n=a("b5ab"),i=a.n(n);i.a},6731:function(t,e,a){"use strict";a.r(e);var n=a("f077"),i=a("1935");for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);a("503f");var s,u=a("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=r.exports},b5ab:function(t,e,a){},d8cf:function(t,e,a){"use strict";(function(t){a("3b9b"),a("921b");n(a("66fd"));var e=n(a("6731"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},f077:function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})}},[["d8cf","common/runtime","common/vendor"]]]);