(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details"],{"205b":function(t,n,e){"use strict";e.r(n);var i=e("cd22"),a=e.n(i);for(var u in i)"default"!==u&&function(t){e.d(n,t,(function(){return i[t]}))}(u);n["default"]=a.a},"6b0a":function(t,n,e){"use strict";(function(t){e("3b9b"),e("921b");i(e("66fd"));var n=i(e("744d"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"744d":function(t,n,e){"use strict";e.r(n);var i=e("dc99"),a=e("205b");for(var u in a)"default"!==u&&function(t){e.d(n,t,(function(){return a[t]}))}(u);e("8885");var o,s=e("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);n["default"]=c.exports},8885:function(t,n,e){"use strict";var i=e("ea33"),a=e.n(i);a.a},cd22:function(t,n,e){"use strict";(function(t,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("4795"));function u(t){return t&&t.__esModule?t:{default:t}}function o(t,n,e,i,a,u,o){try{var s=t[u](o),c=s.value}catch(r){return void e(r)}s.done?n(c):Promise.resolve(c).then(i,a)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(i,a){var u=t.apply(n,e);function s(t){o(u,i,a,s,c,"next",t)}function c(t){o(u,i,a,s,c,"throw",t)}s(void 0)}))}}var c,r,l=function(){e.e("components/inquiry/baojia-list").then(function(){return resolve(e("a7de"))}.bind(null,e)).catch(e.oe)},f=function(){e.e("components/inquiry/chanpinyaosu").then(function(){return resolve(e("f0a2"))}.bind(null,e)).catch(e.oe)},g=function(){e.e("components/popupMe").then(function(){return resolve(e("cb0f"))}.bind(null,e)).catch(e.oe)},h=function(){e.e("components/sellerMatch").then(function(){return resolve(e("5e04"))}.bind(null,e)).catch(e.oe)},y={components:{baojiaList:l,chanpinyaosu:f,popupMe:g,sellerMatch:h},filters:{returnCombine:function(t){return t.join("ï¼Œ")}},data:function(){return{matchCode:"",quotationInfo:"",isMatch:!0,unMatch:"",closing:"",systemUnMatch:"",inquiryInfo:"",pageNum:1,pageSize:10,quotationList:[],isDoRefresh:!1,quotationNumber:"",totalPage:"",waitQuotation:0,orderSummary:""}},onLoad:function(t){c=this,r=t.inquiryNumber,this.getInquiryInfo(r),this.getDeputyQuotation(),this.matchList1(),this.getOrderSummary()},onShow:function(){this.getInquiryInfo(r),this.getDeputyQuotation(),this.matchList1(),this.getOrderSummary()},methods:{getOrderSummary:function(){var n=this;return s(a.default.mark((function e(){var i,u;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={inquiryNumber:r},e.next=3,n.$http.get("/bInquiry/summary_details",{data:i});case 3:u=e.sent,n.orderSummary=u.data.data,t("log",n.orderSummary," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:176");case 6:case"end":return e.stop()}}),e)})))()},matchList1:function(){var n={inquiryNumber:r},e=this.Api.matchList1;this.myRequest(n,e,"get").then((function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:185"),c.quotationInfo=n.data.data.list,t("log",c.quotationInfo," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:187"),c.waitQuotation=0,c.quotationInfo.forEach((function(t){1==t.matchStatusCode&&(c.waitQuotation+=1)}))})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},toMatchDetail:function(n){i.navigateTo({url:"/pages/qing-f-c/inquiryManage/systemMatch/systemMatchDetail?matchCode="+n+"&inquiryNumber="+r,success:function(t){},fail:function(n){t("log"," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:206")},complete:function(){}})},backto:function(){i.navigateBack({delta:1})},swtichMatch:function(t){this.isMatch=!this.isMatch},getInquiryInfo:function(n){var e={inquiryNumber:n},i=this.Api.deputyDetails;this.myRequest(e,i,"get").then((function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:225"),c.inquiryInfo=n.data.data,t("log",c.inquiryInfo," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:227"),c.totalPage=n.data.totalPage})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},getDeputyQuotation:function(){var n={inquiryNumber:r,pageNum:c.pageNum,pageSize:c.pageSize},e=this.Api.deputyQuotation;this.myRequest(n,e,"get").then((function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:245"),c.quotationList=n.data.data.list,t("log",c.quotationList," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:247")})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},toDetail:function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:256"),i.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/quotation-detail?quoteNumber="+n,success:function(t){},fail:function(){},complete:function(){}})},closingQuote:function(n){var e={quotationNumber:c.quotationNumber,sellDeputyRemarks:c.closing},i=this.Api.sellDeputyClose;this.myRequest(e,i,"get").then((function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:272"),0==n.data.status&&(c.getInquiryInfo(),c.getDeputyQuotation())})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},systemUnMatchQuote:function(){var n={matchCode:c.matchCode,remarks:c.systemUnMatch},e=this.Api.systemNoMatch;this.myRequest(n,e,"get").then((function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:292"),0==n.data.status&&(c.getInquiryInfo(),c.getDeputyQuotation(),c.matchList1())})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},handleEvent:function(n){switch(t("log",n[0]," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:306"),t("log",n[1]," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:307"),n[0]){case"closing":c.quotationNumber=n[1],this.tapClosing();break;case"unMatch":c.quotationNumber=n[1],this.tapUnmatch();break;case"systemUnMatch":c.matchCode=n[1],this.tapSystemUnmatch();break}},tapUnmatch:function(){this.$refs.unMatchRef.show()},tapClosing:function(){this.$refs.closingRef.show()},tapSystemUnmatch:function(){this.$refs.systemUnMatchRef.show()},getContent:function(n,e){switch(n){case"unMatchRef":this.unMatch=e,this.unMatchQuote(),t("log",this.unMatch," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:338");break;case"closingRef":this.closing=e,this.closingQuote(),t("log",this.closing," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:343");break;case"systemUnMatchRef":this.systemUnMatch=e,this.systemUnMatchQuote(),t("log",this.systemUnMatchQuote," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:348");break}},submit:function(){this.$store.dispatch("copeFun",r),i.navigateTo({url:"/pages/qing-f-c/inquiryManage/comQuotation/selectCustomer?inquiryNumber="+r,success:function(t){},fail:function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:364")},complete:function(){}})}}};n.default=y}).call(this,e("0de9")["default"],e("6e42")["default"])},dc99:function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement,e=(t._self._c,t._f("returnCombine")(t.orderSummary.list));t.$mp.data=Object.assign({},{$root:{f0:e}})},u=[];e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return i}))},ea33:function(t,n,e){}},[["6b0a","common/runtime","common/vendor"]]]);