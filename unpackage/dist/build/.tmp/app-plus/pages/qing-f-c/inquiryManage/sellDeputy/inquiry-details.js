(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details"],{"205b":function(t,n,e){"use strict";e.r(n);var i=e("cd22"),a=e.n(i);for(var u in i)"default"!==u&&function(t){e.d(n,t,function(){return i[t]})}(u);n["default"]=a.a},"5ad5":function(t,n,e){"use strict";var i,a=function(){var t=this,n=t.$createElement;t._self._c},u=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return u}),e.d(n,"a",function(){return i})},"6b0a":function(t,n,e){"use strict";(function(t){e("3b9b"),e("921b");i(e("66fd"));var n=i(e("744d"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"744d":function(t,n,e){"use strict";e.r(n);var i=e("5ad5"),a=e("205b");for(var u in a)"default"!==u&&function(t){e.d(n,t,function(){return a[t]})}(u);e("8885");var o,s=e("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);n["default"]=c.exports},8885:function(t,n,e){"use strict";var i=e("daac"),a=e.n(i);a.a},cd22:function(t,n,e){"use strict";(function(t,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,u,o=function(){return e.e("components/inquiry/baojia-list").then(e.bind(null,"a7de"))},s=function(){return e.e("components/inquiry/chanpinyaosu").then(e.bind(null,"f0a2"))},c=function(){return e.e("components/popupMe").then(e.bind(null,"cb0f"))},l=function(){return e.e("components/sellerMatch").then(e.bind(null,"5e04"))},r={components:{baojiaList:o,chanpinyaosu:s,popupMe:c,sellerMatch:l},data:function(){return{matchCode:"",quotationInfo:"",isMatch:!0,unMatch:"",closing:"",systemUnMatch:"",inquiryInfo:"",pageNum:1,pageSize:10,quotationList:[],isDoRefresh:!1,quotationNumber:"",totalPage:"",waitQuotation:0}},onLoad:function(t){a=this,u=t.inquiryNumber,this.getInquiryInfo(u),this.getDeputyQuotation(),this.matchList1()},onShow:function(){var t=getCurrentPages(),n=t[t.length-1];1==n.data.isDoRefresh&&(n.data.isDoRefresh=!1,this.getInquiryInfo(u),this.getDeputyQuotation()),this.getInquiryInfo(u),this.getDeputyQuotation(),this.matchList1()},methods:{matchList1:function(){var n={inquiryNumber:u},e=this.Api.matchList1;this.myRequest(n,e,"get").then(function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:159"),a.quotationInfo=n.data.data.list,t("log",a.quotationInfo," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:161"),a.waitQuotation=0,a.quotationInfo.forEach(function(t){1==t.matchStatusCode&&(a.waitQuotation+=1)})}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},toMatchDetail:function(n){i.navigateTo({url:"/pages/qing-f-c/inquiryManage/systemMatch/systemMatchDetail?matchCode="+n,success:function(t){},fail:function(n){t("log"," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:179")},complete:function(){}})},backto:function(){i.navigateBack({delta:1})},swtichMatch:function(t){this.isMatch=!this.isMatch},getInquiryInfo:function(n){var e={inquiryNumber:n},i=this.Api.deputyDetails;this.myRequest(e,i,"get").then(function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:198"),a.inquiryInfo=n.data.data,t("log",a.inquiryInfo," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:200"),a.totalPage=n.data.totalPage}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},getDeputyQuotation:function(){var n={inquiryNumber:u,pageNum:a.pageNum,pageSize:a.pageSize},e=this.Api.deputyQuotation;this.myRequest(n,e,"get").then(function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:218"),a.quotationList=n.data.data.list,t("log",a.quotationList," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:220")}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},toDetail:function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:229"),i.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/quotation-detail?quoteNumber="+n,success:function(t){},fail:function(){},complete:function(){}})},closingQuote:function(n){var e={quotationNumber:a.quotationNumber,sellDeputyRemarks:a.closing},i=this.Api.sellDeputyClose;this.myRequest(e,i,"get").then(function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:245"),0==n.data.status&&(a.getInquiryInfo(),a.getDeputyQuotation())}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},systemUnMatchQuote:function(){var n={matchCode:a.matchCode,remarks:a.systemUnMatch},e=this.Api.systemNoMatch;this.myRequest(n,e,"get").then(function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:265"),0==n.data.status&&(a.getInquiryInfo(),a.getDeputyQuotation(),a.matchList1())}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},handleEvent:function(n){switch(t("log",n[0]," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:279"),t("log",n[1]," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:280"),n[0]){case"closing":a.quotationNumber=n[1],this.tapClosing();break;case"unMatch":a.quotationNumber=n[1],this.tapUnmatch();break;case"systemUnMatch":a.matchCode=n[1],this.tapSystemUnmatch();break}},tapUnmatch:function(){this.$refs.unMatchRef.show()},tapClosing:function(){this.$refs.closingRef.show()},tapSystemUnmatch:function(){this.$refs.systemUnMatchRef.show()},getContent:function(n,e){switch(n){case"unMatchRef":this.unMatch=e,this.unMatchQuote(),t("log",this.unMatch," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:311");break;case"closingRef":this.closing=e,this.closingQuote(),t("log",this.closing," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:316");break;case"systemUnMatchRef":this.systemUnMatch=e,this.systemUnMatchQuote(),t("log",this.systemUnMatchQuote," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:321");break}},submit:function(){this.$store.dispatch("copeFun",u),i.navigateTo({url:"/pages/qing-f-c/inquiryManage/comQuotation/selectCustomer?inquiryNumber="+u,success:function(t){},fail:function(n){t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:337")},complete:function(){}})}}};n.default=r}).call(this,e("0de9")["default"],e("6e42")["default"])},daac:function(t,n,e){}},[["6b0a","common/runtime","common/vendor"]]]);