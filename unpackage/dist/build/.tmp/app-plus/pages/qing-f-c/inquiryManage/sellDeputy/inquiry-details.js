(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details"],{"205b":function(t,e,n){"use strict";n.r(e);var i=n("cd22"),a=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=a.a},"6b0a":function(t,e,n){"use strict";(function(t){n("3b9b"),n("921b");i(n("66fd"));var e=i(n("744d"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"744d":function(t,e,n){"use strict";n.r(e);var i=n("ce7e"),a=n("205b");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);n("8885");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=c.exports},8885:function(t,e,n){"use strict";var i=n("ea33"),a=n.n(i);a.a},cd22:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,u,o=function(){n.e("components/inquiry/baojia-list").then(function(){return resolve(n("a7de"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/inquiry/chanpinyaosu").then(function(){return resolve(n("f0a2"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/popupMe").then(function(){return resolve(n("cb0f"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/sellerMatch").then(function(){return resolve(n("5e04"))}.bind(null,n)).catch(n.oe)},r={components:{baojiaList:o,chanpinyaosu:s,popupMe:c,sellerMatch:l},data:function(){return{matchCode:"",quotationInfo:"",isMatch:!0,unMatch:"",closing:"",systemUnMatch:"",inquiryInfo:"",pageNum:1,pageSize:10,quotationList:[],isDoRefresh:!1,quotationNumber:"",totalPage:"",waitQuotation:0}},onLoad:function(t){a=this,u=t.inquiryNumber,this.getInquiryInfo(u),this.getDeputyQuotation(),this.matchList1()},onShow:function(){var t=getCurrentPages(),e=t[t.length-1];1==e.data.isDoRefresh&&(e.data.isDoRefresh=!1,this.getInquiryInfo(u),this.getDeputyQuotation()),this.getInquiryInfo(u),this.getDeputyQuotation(),this.matchList1()},methods:{matchList1:function(){var e={inquiryNumber:u},n=this.Api.matchList1;this.myRequest(e,n,"get").then((function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:159"),a.quotationInfo=e.data.data.list,t("log",a.quotationInfo," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:161"),a.waitQuotation=0,a.quotationInfo.forEach((function(t){1==t.matchStatusCode&&(a.waitQuotation+=1)}))})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},toMatchDetail:function(e){i.navigateTo({url:"/pages/qing-f-c/inquiryManage/systemMatch/systemMatchDetail?matchCode="+e+"&inquiryNumber="+u,success:function(t){},fail:function(e){t("log"," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:180")},complete:function(){}})},backto:function(){i.navigateBack({delta:1})},swtichMatch:function(t){this.isMatch=!this.isMatch},getInquiryInfo:function(e){var n={inquiryNumber:e},i=this.Api.deputyDetails;this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:199"),a.inquiryInfo=e.data.data,t("log",a.inquiryInfo," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:201"),a.totalPage=e.data.totalPage})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},getDeputyQuotation:function(){var e={inquiryNumber:u,pageNum:a.pageNum,pageSize:a.pageSize},n=this.Api.deputyQuotation;this.myRequest(e,n,"get").then((function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:219"),a.quotationList=e.data.data.list,t("log",a.quotationList," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:221")})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},toDetail:function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:230"),i.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/quotation-detail?quoteNumber="+e,success:function(t){},fail:function(){},complete:function(){}})},closingQuote:function(e){var n={quotationNumber:a.quotationNumber,sellDeputyRemarks:a.closing},i=this.Api.sellDeputyClose;this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:246"),0==e.data.status&&(a.getInquiryInfo(),a.getDeputyQuotation())})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},systemUnMatchQuote:function(){var e={matchCode:a.matchCode,remarks:a.systemUnMatch},n=this.Api.systemNoMatch;this.myRequest(e,n,"get").then((function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:266"),0==e.data.status&&(a.getInquiryInfo(),a.getDeputyQuotation(),a.matchList1())})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},handleEvent:function(e){switch(t("log",e[0]," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:280"),t("log",e[1]," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:281"),e[0]){case"closing":a.quotationNumber=e[1],this.tapClosing();break;case"unMatch":a.quotationNumber=e[1],this.tapUnmatch();break;case"systemUnMatch":a.matchCode=e[1],this.tapSystemUnmatch();break}},tapUnmatch:function(){this.$refs.unMatchRef.show()},tapClosing:function(){this.$refs.closingRef.show()},tapSystemUnmatch:function(){this.$refs.systemUnMatchRef.show()},getContent:function(e,n){switch(e){case"unMatchRef":this.unMatch=n,this.unMatchQuote(),t("log",this.unMatch," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:312");break;case"closingRef":this.closing=n,this.closingQuote(),t("log",this.closing," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:317");break;case"systemUnMatchRef":this.systemUnMatch=n,this.systemUnMatchQuote(),t("log",this.systemUnMatchQuote," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:322");break}},submit:function(){this.$store.dispatch("copeFun",u),i.navigateTo({url:"/pages/qing-f-c/inquiryManage/comQuotation/selectCustomer?inquiryNumber="+u,success:function(t){},fail:function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details.vue:338")},complete:function(){}})}}};e.default=r}).call(this,n("0de9")["default"],n("6e42")["default"])},ce7e:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}))},ea33:function(t,e,n){}},[["6b0a","common/runtime","common/vendor"]]]);