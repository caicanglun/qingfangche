(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote"],{"39e9":function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}))},"46a3":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s,l=function(){n.e("components/pickerButton").then(function(){return resolve(n("5f6f"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/myPickerPart").then(function(){return resolve(n("691d"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/switchButton-auto").then(function(){return resolve(n("12e7"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/switchButton-edit").then(function(){return resolve(n("2cc1"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/switchButton-s").then(function(){return resolve(n("ef61"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/partCheckboxGroup").then(function(){return resolve(n("c8bc"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/pickerInput").then(function(){return resolve(n("f107"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/popupMe").then(function(){return resolve(n("cb0f"))}.bind(null,n)).catch(n.oe)},y=function(){n.e("components/uni-icons/uni-icons").then(function(){return resolve(n("2cee"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/pictures").then(function(){return resolve(n("8753"))}.bind(null,n)).catch(n.oe)},f={components:{myPickerPart:u,switchButton:o,pickerButton:l,partCheckboxGroup:g,pickerInput:p,switchButtonS:c,popupMe:d,uniIcon:y,picture:h,switchButtonE:r},data:function(){return{clothName:"",content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",seller:"",sellerCode:"",storeStatus:[],storeStatusIndex:"",taxes:[],taxedIndex:1,carriage:[],carriageIndex:0,lengthUnit:[],lengthUnitIndex:1,densityUnit:[],densityUnitIndex:1,grammageUnit:[],grammageUnitIndex:1,styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",qualityName:"",unitPrice:"",placeOfDelivery:"",placeOfDeliveryIndex:"",guamalv:"",remarks:"",sampleType:[],sampleTypeIndex:1,partList:[],partID:[],partListLong:[],part:[],partLongID:[],partLong:[],newPartText:"",newPartLongText:"",clothBreadth:"",pictures:[],goAnalysisSample:"",returnLabel:""}},onLoad:function(t){i=this,s=t.inquiryNumber,i.goAnalysisSample=JSON.parse(t.data),e("log",this.goAnalysisSample," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:328"),i.clothBreadth=i.goAnalysisSample.clothBreadth,i.tradeName=i.goAnalysisSample.tradeName,i.content=i.goAnalysisSample.content,i.spec_longitude=i.goAnalysisSample.specificationLongitude,i.spec_latitude=i.goAnalysisSample.specificationLatitude,i.organize=i.goAnalysisSample.organization,i.grammage=i.goAnalysisSample.gramWeight,i.density_latitude=i.goAnalysisSample.densityLatitude,i.density_longitude=i.goAnalysisSample.densityLongitude,i.densityUnitIndex=i.goAnalysisSample.densityUnitCode,i.grammageUnitIndex=i.goAnalysisSample.gramWeightUnitCode,i.productSerialIndex=i.goAnalysisSample.seriesCode,i.productSerialValue=i.goAnalysisSample.seriesName,i.productTypeIndex=i.goAnalysisSample.mainProductCode,i.mainProductName=i.goAnalysisSample.mainProductName,i.qualityPositionIndex=i.goAnalysisSample.qualityCode,i.qualityName=i.goAnalysisSample.qualityName,i.sampleTypeIndex=i.goAnalysisSample.clothTypeCode,i.styleSerialIndex=i.goAnalysisSample.styleCode,i.styleSerialValue=i.goAnalysisSample.styleName,i.densityUnit=this.setIsChecked(i.densityUnit,i.densityUnitIndex),i.sampleType=this.setIsChecked(i.sampleType,i.sampleTypeIndex),i.grammageUnit=this.setIsChecked(i.grammageUnit,i.grammageUnitIndex),this.getAllSelect()},methods:{getAllSelect:function(){var t=this,n=this.Api.priceUnit,a={};this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:364"),i.lengthUnit=t.data.data.list,i.lengthUnit.forEach((function(e){e.id==i.lengthUnitIndex&&(i.returnLabel=e.label)}))})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.isIcash,this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:380"),i.carriage=n.data.data.list,t.setIsChecked(i.carriage,i.carriageIndex)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.isPlusDuty,this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:392"),i.taxes=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.inventory,this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:403"),i.storeStatus=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.clothType,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:415"),i.sampleType=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.style,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:427"),i.styleSerial=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.placeOfDelivery,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:440"),i.placeOfDelivery=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.densityUnit,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:452"),i.densityUnit=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.gramWeightUnit,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:464"),i.grammageUnit=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.atom,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:476"),i.partList=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:487"),i.partListLong=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.getQuality,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:500"),i.qualityPosition=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(t,n){var a=this;this.newPartText=n,e("log",this.newPartText," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:522");var i=this.Api.atomAdd,s={atomName:this.newPartText};this.myRequest(s,i,"get").then((function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:528"),0==t.data.status&&a.getAllSelect()})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))},tabSwitchChange:function(t,n){switch(t){case"sampleType":this.sampleTypeIndex=n,e("log",this.sampleTypeIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:546");break;case"inquiryType":this.inquiryTypeIndex=n,e("log",this.inquiryTypeIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:550");break;case"buyerChange":this.buyerIndex=n,e("log",this.buyerIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:554");break;case"styleChange":e("log",n," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:557"),this.styleSerialIndex=n[1],this.styleSerialValue=n[0],e("log",this.styleSerialIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:560"),e("log",this.styleSerialValue," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:561");break;case"productSerial":this.productSerialIndex=n,e("log",this.productSerialIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:565");break;case"densityUnit":this.densityUnitIndex=n,e("log",this.densityUnitIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:569");break;case"grammageUnit":this.grammageUnitIndex=n,e("log",this.grammageUnitIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:573");break;case"qualityPosition":this.qualityPositionIndex=n,e("log",this.qualityPositionIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:577");break;case"lengthUnit":this.lengthUnitIndex=n,e("log",this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:581");break}},tapPartSelect:function(t,n){var a=this.partList;this.part=t,this.partID=n;for(var i=0,s=a.length;i<s;++i){var l=a[i];t.includes(l.label)?this.$set(l,"isChecked",!0):this.$set(l,"isChecked",!1)}e("log",this.partID," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:601")},tapPartLongSelect:function(t,n){var a=this.partListLong;this.partLong=t,this.partLongID=n;for(var i=0,s=a.length;i<s;++i){var l=a[i];t.includes(l.label)?this.$set(l,"isChecked",!0):this.$set(l,"isChecked",!1)}e("log",this.partLongID," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:617")},tapPaste:function(){a.setClipboardData({data:this.spec_longitude})},switchChange:function(t,n){switch(t){case"lengthUnit":this.lengthUnitIndex=n,i.lengthUnit.forEach((function(e){e.id==i.lengthUnitIndex&&(i.returnLabel=e.label)})),e("log",this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:635");break;case"carriage":this.carriageIndex=n,this.setIsChecked(this.carriage,this.carriageIndex),e("log",this.carriageIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:640");break;case"taxes":this.taxedIndex=n,e("log",this.taxedIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:644");break}},pickerChange:function(t,n){switch(t){case"placeOfDelivery":this.placeOfDeliveryIndex=n,e("log",this.placeOfDeliveryIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:653");break;case"sellers":break;case"storeStatus":this.storeStatusIndex=n,e("log",this.storeStatusIndex," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:662");break}},selectSeller:function(){a.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/selectSeller",success:function(e){},fail:function(){},complete:function(){}})},pickImage:function(){a.chooseImage({sizeType:["compressed"],success:function(t){var n=t.tempFilePaths;i.pictures=[];for(var s=0;s<n.length;s++)a.uploadFile({url:i.Api.upload,filePath:n[s],name:"file",success:function(t){e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:687"),i.pictures.push(JSON.parse(t.data).data.msg),a.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},submit:function(){if(i.styleSerial.forEach((function(e){e.id==i.styleSerialIndex&&e.label!=i.styleSerialValue&&(i.styleSerialIndex=-1)})),i.unitPrice<=0)a.showToast({title:"报价不能为零",icon:"none",duration:1e3});else{var t={inquiryNumber:s,tradeName:i.clothName,buyOrSellCode:i.sellerCode,unitPrice:i.unitPrice,priceUnit:i.lengthUnitIndex,isIcash:i.carriageIndex,isPlusDuty:i.taxedIndex,placeOfDelivery:i.placeOfDeliveryIndex,inventoryCode:i.storeStatusIndex,purchaseQuantity:"",hangBitRate:i.guamalv,remarks:i.remarks,seriesCode:"",ingredientLongitudes:i.partID,ingredientLatitudes:i.partLongID,content:i.content,specificationLongitude:i.spec_longitude,specificationLatitude:i.spec_latitude,styleCode:i.styleSerialIndex,styleName:i.styleSerialValue,organization:i.organize,clothType:i.sampleTypeIndex,densityLongitude:i.density_longitude,densityLatitude:i.density_latitude,densityUnit:i.densityUnitIndex,gramWeight:i.grammage,gramWeightUnit:i.grammageUnitIndex,clothBreadth:i.clothBreadth,qualityCode:i.qualityPositionIndex,pictures:i.pictures};e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:765");var n=this.Api.quotationAdd;a.showLoading({title:"提交中",mask:!0}),this.myRequest(t,n,"post").then((function(t){if(e("log",t," at pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/startQuote.vue:772"),0==t.data.status){a.hideLoading(),a.showToast({title:"报价创建成功",icon:"none",duration:1e3});var n=getCurrentPages(),i=(n[n.length-1],n[n.length-2]);i.setData({isDoRefresh:!0}),a.navigateBack({delta:1})}else a.showToast({title:t.data.message,icon:"none"})})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))}}}};t.default=f}).call(this,n("0de9")["default"],n("6e42")["default"])},"4e42":function(e,t,n){"use strict";(function(e){n("3b9b"),n("921b");a(n("66fd"));var t=a(n("b2e2"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"572e":function(e,t,n){"use strict";var a=n("c7f6"),i=n.n(a);i.a},b2e2:function(e,t,n){"use strict";n.r(t);var a=n("39e9"),i=n("bfa0");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("572e");var l,u=n("f0c5"),o=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],l);t["default"]=o.exports},bfa0:function(e,t,n){"use strict";n.r(t);var a=n("46a3"),i=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},c7f6:function(e,t,n){}},[["4e42","common/runtime","common/vendor"]]]);