(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/directorQuotePrice"],{"0bfa":function(e,t,i){},"2a8a":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},"500a":function(e,t,i){"use strict";i.r(t);var n=i("2a8a"),a=i("e196");for(var r in a)"default"!==r&&function(e){i.d(t,e,function(){return a[e]})}(r);i("af76");var o=i("2877"),c=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=c.exports},af76:function(e,t,i){"use strict";var n=i("0bfa"),a=i.n(n);a.a},bd1c:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o=function(){return i.e("components/switchButton-auto").then(i.bind(null,"12e7"))},c=function(){return i.e("components/myPickerPart").then(i.bind(null,"691d"))},s={components:{switchButton:o,myPickerPart:c},computed:{returnLabel:function(){var e="";return this.unit.forEach(function(t){t.id==a.unitIndex&&(e=t.label)}),e}},data:function(){return{quotePrice:"",brokerage:[],brokerageIndex:1,taxes:[],taxedIndex:1,carriage:[],carriageIndex:1,unit:[],unitIndex:1,carriagePrice:0,brokerageRate:"",remark:"",carriageSwitch:!0,finalPrice:"",unitRate:1,includeTaxes:.92,carriageContent:"",deliveryPlace:"",hangBitRate:"",inventoryCode:"",inventory:[]}},onLoad:function(e){a=this,r=e.inquiryNumber,this.getSelect()},methods:{pickerChange:function(t,i){switch(t){case"sellers":break;case"storeStatus":this.inventoryCode=i,console.log(e(this.inventoryCode," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:236"));break}},carriageFunc:function(){this.carriagePrice=this.carriageContent,1==this.brokerageIndex?this.rule1():this.rule2()},rule1:function(){console.log(e("报价",this.quotePrice," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:251")),console.log(e("佣金",this.brokerageRate," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:252")),console.log(e("含税",this.includeTaxes," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:253")),console.log(e("运费单价1",this.carriagePrice," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:254")),1==this.brokerageIndex&&(this.finalPrice=((this.quotePrice/this.includeTaxes+this.carriagePrice/1)*(1+this.brokerageRate/100)*a.unitRate).toFixed(2))},rule2:function(){console.log(e("报价",this.quotePrice," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:261")),console.log(e("佣金",this.brokerageRate," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:262")),console.log(e("含税",this.includeTaxes," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:263")),console.log(e("运费单价1",this.carriagePrice," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:264")),2==this.brokerageIndex&&(console.log(e("daozheli"," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:266")),this.brokerageRate=(100*(this.finalPrice/(this.quotePrice/this.includeTaxes+this.carriagePrice/1)-1)*a.unitRate).toFixed(2))},getSelect:function(){var t={},i=this.Api.computationRule;this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:276")),a.brokerage=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.isIcash,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:287")),a.carriage=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.isPlusDuty,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:298")),a.taxes=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.priceUnit,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:309")),a.unit=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),i=this.Api.inventory,this.myRequest(t,i,"get").then(function(t){console.log(e(t," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:320")),a.inventory=t.data.data.list}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},switchChange:function(t,i){switch(t){case"unit":this.unitIndex=i,1==this.unitIndex?this.unitRate=1:this.unitRate=.9144,console.log(e(this.unitIndex," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:339"));break;case"carriage":this.carriageIndex=i,console.log(e(this.carriageIndex," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:343")),this.carriageSwitch=!this.carriageSwitch,0==this.carriageIndex&&(this.carriagePrice=""),1==this.brokerageIndex?this.rule1():this.rule2();break;case"taxes":this.taxedIndex=i,console.log(e(this.taxedIndex," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:356")),1==this.taxedIndex?this.includeTaxes=.92:this.includeTaxes=1,1==this.brokerageIndex?this.rule1():this.rule2();break;case"brokerage":this.brokerageIndex=i,console.log(e(this.brokerageIndex," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:371"));break}},submit:function(){var t=this,i={inquiryNumber:r,basicsPrice:a.quotePrice,computationRule:a.brokerageIndex,isIcash:a.carriageIndex,isPlusDuty:a.taxedIndex,freight:a.carriagePrice,freightUnit:a.unitIndex,commissionRate:a.brokerageRate,remarks:a.remark,finalPrice:a.finalPrice,finalPriceUnit:a.unitIndex,placeOfDelivery:a.deliveryPlace,hangBitRate:a.hangBitRate,inventoryCode:a.inventoryCode},o=this.Api.buyDeputyDirectPrice;this.myRequest(i,o,"post").then(function(i){console.log(e(i," at pages/qing-f-c/inquiryManage/directorQuotePrice.vue:394")),0==i.data.status&&(n.showToast({title:"报价成功",icon:"none",duration:1e3}),t.refreshBack())}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})}}};t.default=s}).call(this,i("0de9")["default"],i("6e42")["default"])},e196:function(e,t,i){"use strict";i.r(t);var n=i("bd1c"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);t["default"]=a.a},f769:function(e,t,i){"use strict";(function(e){i("3b9b"),i("921b");n(i("66fd"));var t=n(i("500a"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])}},[["f769","common/runtime","common/vendor"]]]);