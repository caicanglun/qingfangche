(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/inquiryManage/sellDeputy/startQuote"],{1131:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a})},"1a39":function(t,e,n){},"2d9f":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,s,u=function(){return n.e("components/pickerButton").then(n.bind(null,"5f6f"))},o=function(){return n.e("components/myPickerPart").then(n.bind(null,"691d"))},r=function(){return n.e("components/switchButton-auto").then(n.bind(null,"12e7"))},l=function(){return n.e("components/switchButton-s").then(n.bind(null,"ef61"))},c=function(){return n.e("components/partCheckboxGroup").then(n.bind(null,"c8bc"))},g=function(){return n.e("components/pickerInput").then(n.bind(null,"f107"))},d=function(){return n.e("components/popupMe").then(n.bind(null,"cb0f"))},h=function(){return n.e("components/uni-icons/uni-icons").then(n.bind(null,"2cee"))},p={components:{myPickerPart:o,switchButton:r,pickerButton:u,partCheckboxGroup:c,pickerInput:g,switchButtonS:l,popupMe:d,uniIcon:h},data:function(){return{content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",seller:"",sellerCode:"",storeStatus:[],storeStatusIndex:"",taxes:[],taxedIndex:1,carriage:[],carriageIndex:1,lengthUnit:[],lengthUnitIndex:1,densityUnit:[],densityUnitIndex:1,grammageUnit:[],grammageUnitIndex:1,styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",unitPrice:"",placeOfDelivery:"",placeOfDeliveryIndex:"",guamalv:"",remarks:"",sampleType:[],sampleTypeIndex:1,partList:[],partID:[],partListLong:[],part:[],partLongID:[],partLong:[],newPartText:"",newPartLongText:"",clothBreadth:"",pictures:[],returnLabel:""}},onLoad:function(e){i=this,s=e.inquiryNumber,t("log",s," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:295"),this.getAllSelect()},methods:{getAllSelect:function(){var e=this.Api.priceUnit,n={};this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:304"),i.lengthUnit=e.data.data.list,i.lengthUnit.forEach(function(t){t.id==i.lengthUnitIndex&&(i.returnLabel=t.label)})}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.isIcash,this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:320"),i.carriage=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.isPlusDuty,this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:331"),i.taxes=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.inventory,this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:342"),i.storeStatus=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.clothType,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:354"),i.sampleType=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.placeOfDelivery,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:366"),i.placeOfDelivery=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.style,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:378"),i.styleSerial=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.densityUnit,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:390"),i.densityUnit=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.gramWeightUnit,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:402"),i.grammageUnit=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.atom,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:414"),i.partList=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:425"),i.partListLong=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),e=this.Api.getQuality,n={},this.myRequest(n,e,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:438"),i.qualityPosition=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(e,n){var a=this;this.newPartText=n,t("log",this.newPartText," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:460");var i=this.Api.atomAdd,s={atomName:this.newPartText};this.myRequest(s,i,"get").then(function(e){t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:466"),0==e.data.status&&a.getAllSelect()}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tabSwitchChange:function(e,n){switch(e){case"sampleType":this.sampleTypeIndex=n,t("log",this.sampleTypeIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:484");break;case"inquiryType":this.inquiryTypeIndex=n,t("log",this.inquiryTypeIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:488");break;case"buyerChange":this.buyerIndex=n,t("log",this.buyerIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:492");break;case"styleChange":t("log",n," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:495"),this.styleSerialIndex=n[1],this.styleSerialValue=n[0],t("log",this.styleSerialIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:498"),t("log",this.styleSerialValue," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:499");break;case"productSerial":this.productSerialIndex=n,t("log",this.productSerialIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:503");break;case"densityUnit":this.densityUnitIndex=n,t("log",this.densityUnitIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:507");break;case"grammageUnit":this.grammageUnitIndex=n,t("log",this.grammageUnitIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:511");break;case"qualityPosition":this.qualityPositionIndex=n,t("log",this.qualityPositionIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:515");break;case"lengthUnit":this.lengthUnitIndex=n,t("log",this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:519");break}},tapPartSelect:function(e,n){var a=this.partList;this.part=e,this.partID=n;for(var i=0,s=a.length;i<s;++i){var u=a[i];e.includes(u.label)?this.$set(u,"isChecked",!0):this.$set(u,"isChecked",!1)}t("log",this.partID," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:539")},tapPartLongSelect:function(e,n){var a=this.partListLong;this.partLong=e,this.partLongID=n;for(var i=0,s=a.length;i<s;++i){var u=a[i];e.includes(u.label)?this.$set(u,"isChecked",!0):this.$set(u,"isChecked",!1)}t("log",this.partLongID," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:555")},tapPaste:function(){a.setClipboardData({data:this.spec_longitude})},switchChange:function(e,n){switch(e){case"lengthUnit":this.lengthUnitIndex=n,i.lengthUnit.forEach(function(t){t.id==i.lengthUnitIndex&&(i.returnLabel=t.label)}),t("log",this.lengthUnitIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:573");break;case"carriage":this.carriageIndex=n,t("log",this.carriageIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:577");break;case"taxes":this.taxedIndex=n,t("log",this.taxedIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:581");break}},pickerChange:function(e,n){switch(e){case"placeOfDelivery":this.placeOfDeliveryIndex=n,t("log",this.placeOfDeliveryIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:589");break;case"sellers":break;case"storeStatus":this.storeStatusIndex=n,t("log",this.storeStatusIndex," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:598");break}},selectSeller:function(){a.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/selectSeller",success:function(t){},fail:function(){},complete:function(){}})},submit:function(){if(i.styleSerial.forEach(function(t){t.id==i.styleSerialIndex&&t.label!=i.styleSerialValue&&(i.styleSerialIndex=-1)}),1==i.carriageIndex&&i.carriagePrice<=0)a.showToast({title:"运费还没填",icon:"none",duration:1e3});else if(i.unitPrice<=0)a.showToast({title:"报价不能为零",icon:"none",duration:1e3});else{var e={inquiryNumber:s,buyOrSellCode:i.sellerCode,unitPrice:i.unitPrice,priceUnit:i.lengthUnitIndex,isIcash:i.carriageIndex,isPlusDuty:i.taxedIndex,placeOfDelivery:i.placeOfDeliveryIndex,inventoryCode:i.storeStatusIndex,purchaseQuantity:"",hangBitRate:i.guamalv,remarks:i.remarks,tradeName:"",seriesCode:"",ingredientLongitudes:i.partID,ingredientLatitudes:i.partLongID,content:i.content,specificationLongitude:i.spec_longitude,specificationLatitude:i.spec_latitude,styleCode:i.styleSerialIndex,styleName:i.styleSerialValue,organization:i.organize,clothType:i.sampleTypeIndex,densityLongitude:i.density_longitude,densityLatitude:i.density_latitude,densityUnit:i.densityUnitIndex,gramWeight:i.grammage,gramWeightUnit:i.grammageUnitIndex,clothBreadth:i.clothBreadth,qualityCode:i.qualityPositionIndex,pictures:i.pictures};t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:673");var n=this.Api.quotationAdd;a.showLoading({title:"",mask:!0}),this.myRequest(e,n,"post").then(function(e){if(t("log",e," at pages/qing-f-c/inquiryManage/sellDeputy/startQuote.vue:680"),0==e.data.status){a.hideLoading(),a.showToast({title:"报价创建成功",icon:"none",duration:1e3});var n=getCurrentPages(),i=(n[n.length-1],n[n.length-2]);i.setData({isDoRefresh:!0}),a.navigateBack({delta:1})}else a.showToast({title:e.data.message,icon:"none"})}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})}}}};e.default=p}).call(this,n("0de9")["default"],n("6e42")["default"])},"482d":function(t,e,n){"use strict";var a=n("1a39"),i=n.n(a);i.a},"74fd":function(t,e,n){"use strict";n.r(e);var a=n("1131"),i=n("c99e");for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n("482d");var u,o=n("f0c5"),r=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);e["default"]=r.exports},"87fb":function(t,e,n){"use strict";(function(t){n("3b9b"),n("921b");a(n("66fd"));var e=a(n("74fd"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},c99e:function(t,e,n){"use strict";n.r(e);var a=n("2d9f"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);e["default"]=i.a}},[["87fb","common/runtime","common/vendor"]]]);