(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/message/messageList"],{"10d2":function(e,a,i){"use strict";i.r(a);var t=i("4e54"),n=i("d2bf");for(var s in n)"default"!==s&&function(e){i.d(a,e,(function(){return n[e]}))}(s);i("626e");var o,r=i("f0c5"),u=Object(r["a"])(n["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],o);a["default"]=u.exports},"136a":function(e,a,i){"use strict";(function(e,t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,s,o=function(){Promise.all([i.e("common/vendor"),i.e("components/uni-swipe-action/uni-swipe-action")]).then(function(){return resolve(i("3108"))}.bind(null,i)).catch(i.oe)},r=function(){i.e("components/uni-load-more/uni-load-more").then(function(){return resolve(i("fbad"))}.bind(null,i)).catch(i.oe)},u={components:{uniSwipeAction:o,uniLoadMore:r},data:function(){return{isDoRefresh:!1,loadingType:"more",message:[],options2:[{text:"删除",style:{backgroundColor:"#FF6000"}}],pageNum:1}},onReachBottom:function(){null!=s&&clearTimeout(s),s=setTimeout((function(){n.getMoreMessage()}),1e3)},onPullDownRefresh:function(){this.getMessage()},onLoad:function(){n=this,this.getMessage()},onShow:function(){this.isDoRefresh&&(this.isDoRefresh=!1,this.getMessage())},methods:{getMoreMessage:function(){if("more"!==n.loadingType)return!1;n.loadingType="loading",e.showNavigationBarLoading();var a=this.Api.noReadList,i={pageNum:n.pageNum,pageSize:20};this.myRequest(i,a,"post").then((function(a){if(0==a.data.data.list.length)return t("log","no data"," at pages/qing-f-c/message/messageList.vue:89"),n.loadingType="",void e.hideNavigationBarLoading();n.pageNum++,n.message=n.message.concat(a.data.data.list),n.loadingType="more",e.hideNavigationBarLoading()})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))},getMessage:function(){n.pageNum=1,n.loadingType="more",e.showNavigationBarLoading();var a=this.Api.noReadList,i={pageNum:n.pageNum,pageSize:20};this.myRequest(i,a,"post").then((function(e){t("log",e," at pages/qing-f-c/message/messageList.vue:121"),0==e.data.status&&(n.pageNum++,n.message=e.data.data.list)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),e.hideNavigationBarLoading(),e.stopPullDownRefresh()},bindClick:function(a,i){if(t("log",a," at pages/qing-f-c/message/messageList.vue:139"),t("log",i," at pages/qing-f-c/message/messageList.vue:140"),0==i.index){var s=this.Api.delReadList,o={messageCode:a};this.myRequest(o,s,"get").then((function(a){t("log",a," at pages/qing-f-c/message/messageList.vue:147"),0==a.data.status&&(e.showToast({title:"删除成功",icon:"none",duration:1e3}),setTimeout((function(){n.getMessage()}),2e3))})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))}},getMessageDetail:function(e){var a=this.Api.DetailReadList,i={messageCode:e};this.myRequest(i,a,"get").then((function(e){t("log",e," at pages/qing-f-c/message/messageList.vue:174")})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))},toDeail:function(a){if(0==a.isRead&&"ios"==plus.os.name.toLowerCase()){t("log","heerer"," at pages/qing-f-c/message/messageList.vue:185");var i=plus.ios.import("UIApplication"),n=i.sharedApplication(),s=n.applicationIconBadgeNumber();if(t("log","oldNUM",s," at pages/qing-f-c/message/messageList.vue:191"),s>0){var o=s-1;plus.runtime.setBadgeNumber(o);var r=plus.ios.importClass("GeTuiSdk");r.setBadge(o)}}var u=e.getStorageSync("pupDefault");switch(this.getMessageDetail(a.messageCode),this.isDoRefresh=!0,u){case"SELL_DEPUTY":1==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):2==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):3==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):4==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)});break;case"BUY_DEPUTY":1==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/inquiry-details?inquiryNumber=".concat(a.orderNum)}):2==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/buyDeputy/inquiry-details?quoteNumber=".concat(a.orderNum)}):3==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/quotedPrice/quotedPrice?quoteNumber=".concat(a.orderNum)}):4==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/buyDeputy/quotationDetails/quotationDetails?number=".concat(a.orderNum)});break;case"SALES_DIRECTOR":1==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sales_director/inquiry-details?inquiryNumber=".concat(a.orderNum)}):2==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sales_director/inquiry-details?inquiryNumber=".concat(a.orderNum)}):3==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sales_director/quotation-detail?quoteNumber=".concat(a.orderNum)}):4==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sales_director/quotation-details?number=".concat(a.orderNum)}):5==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sales_director/quotation-detail?quoteNumber=".concat(a.orderNum)});break;case"REGIONAL_MANAGER":this.getMessage();break;case"ANALYST":this.getMessage();break}6==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/customPicture/followRecordDetail?recordCode=".concat(a.orderNum)}),7==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/customPicture/followRecordDetailSeller?recordCode=".concat(a.orderNum)}),8==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/followRecord/publicDialog?recordCode=".concat(a.orderNum,"&buyOrSell=1")}),9==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/followRecord/publicDialog?recordCode=".concat(a.orderNum,"&buyOrSell=2")})}}};a.default=u}).call(this,i("6e42")["default"],i("0de9")["default"])},"4e54":function(e,a,i){"use strict";var t,n=function(){var e=this,a=e.$createElement;e._self._c},s=[];i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){return t}))},"626e":function(e,a,i){"use strict";var t=i("7512"),n=i.n(t);n.a},7512:function(e,a,i){},a864:function(e,a,i){"use strict";(function(e){i("3b9b"),i("921b");t(i("66fd"));var a=t(i("10d2"));function t(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,i("6e42")["createPage"])},d2bf:function(e,a,i){"use strict";i.r(a);var t=i("136a"),n=i.n(t);for(var s in t)"default"!==s&&function(e){i.d(a,e,(function(){return t[e]}))}(s);a["default"]=n.a}},[["a864","common/runtime","common/vendor"]]]);