(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/message/messageList"],{"10d2":function(e,a,t){"use strict";t.r(a);var n=t("4ab8"),i=t("d2bf");for(var s in i)"default"!==s&&function(e){t.d(a,e,function(){return i[e]})}(s);t("626e");var o,u=t("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);a["default"]=r.exports},"12b7":function(e,a,t){},"136a":function(e,a,t){"use strict";(function(e,n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,s,o=function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-swipe-action/uni-swipe-action")]).then(t.bind(null,"3108"))},u=function(){return t.e("components/uni-load-more/uni-load-more").then(t.bind(null,"fbad"))},r={components:{uniSwipeAction:o,uniLoadMore:u},data:function(){return{loadingType:"more",message:[],options2:[{text:"删除",style:{backgroundColor:"#FF6000"}}],pageNum:1}},onReachBottom:function(){null!=s&&clearTimeout(s),s=setTimeout(function(){i.getMoreMessage()},1e3)},onPullDownRefresh:function(){this.getMessage()},onLoad:function(){i=this,this.getMessage()},onShow:function(){this.getMessage()},methods:{getMoreMessage:function(){if("more"!==i.loadingType)return!1;i.loadingType="loading",e.showNavigationBarLoading();var a=this.Api.noReadList,t={pageNum:i.pageNum,pageSize:20};this.myRequest(t,a,"post").then(function(a){if(0==a.data.data.list.length)return n("log","no data"," at pages/qing-f-c/message/messageList.vue:84"),i.loadingType="",void e.hideNavigationBarLoading();i.pageNum++,i.message=i.message.concat(a.data.data.list),i.loadingType="more",e.hideNavigationBarLoading()}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},getMessage:function(){i.pageNum=1,i.loadingType="more",e.showNavigationBarLoading(),e.showLoading({title:"加载中",mask:!0});var a=this.Api.noReadList,t={pageNum:i.pageNum,pageSize:20};this.myRequest(t,a,"post").then(function(a){n("log",a," at pages/qing-f-c/message/messageList.vue:116"),0==a.data.status&&(e.hideLoading(),i.pageNum++,i.message=a.data.data.list)}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}),e.hideNavigationBarLoading(),e.stopPullDownRefresh()},bindClick:function(a,t){if(n("log",a," at pages/qing-f-c/message/messageList.vue:134"),n("log",t," at pages/qing-f-c/message/messageList.vue:135"),0==t.index){var s=this.Api.delReadList,o={messageCode:a};this.myRequest(o,s,"get").then(function(a){n("log",a," at pages/qing-f-c/message/messageList.vue:142"),0==a.data.status&&(e.showToast({title:"删除成功",icon:"none",duration:1e3}),setTimeout(function(){i.getMessage()},2e3))}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})}},getMessageDetail:function(e){var a=this.Api.DetailReadList,t={messageCode:e};this.myRequest(t,a,"get").then(function(e){}).catch(function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})},toDeail:function(a){if(0==a.isRead&&"ios"==plus.os.name.toLowerCase()){n("log","heerer"," at pages/qing-f-c/message/messageList.vue:180");var t=plus.ios.import("UIApplication"),i=t.sharedApplication(),s=i.applicationIconBadgeNumber();if(n("log","oldNUM",s," at pages/qing-f-c/message/messageList.vue:186"),s>0){var o=s-1;plus.runtime.setBadgeNumber(o);var u=plus.ios.importClass("GeTuiSdk");u.setBadge(o)}}var r=e.getStorageSync("pupDefault");switch(this.getMessageDetail(a.messageCode),r){case"SELL_DEPUTY":1==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):2==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):3==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):4==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/sellDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)});break;case"BUY_DEPUTY":1==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/inquiry-details?inquiryNumber=".concat(a.orderNum)}):2==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/buyDeputy/inquiry-details?inquiryNumber=".concat(a.orderNum)}):3==a.messageType?e.navigateTo({url:"/pages/qing-f-c/inquiryManage/quotedPrice/quotedPrice?quoteNumber=".concat(a.orderNum)}):4==a.messageType&&e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sampleInquiry/buyDeputy/quotationDetails/quotationDetails?number=".concat(a.orderNum)});break;case"SALES_DIRECTOR":e.navigateTo({url:"/pages/qing-f-c/inquiryManage/sales_director/quotation-detail?quoteNumber=".concat(a.orderNum)});break;case"REGIONAL_MANAGER":break}6==a.messageType&&e.navigateTo({url:"./messageDetail?messageCode="+a.messageCode,success:function(e){},fail:function(e){},complete:function(){}})}}};a.default=r}).call(this,t("6e42")["default"],t("0de9")["default"])},"4ab8":function(e,a,t){"use strict";var n,i=function(){var e=this,a=e.$createElement;e._self._c},s=[];t.d(a,"b",function(){return i}),t.d(a,"c",function(){return s}),t.d(a,"a",function(){return n})},"626e":function(e,a,t){"use strict";var n=t("12b7"),i=t.n(n);i.a},a864:function(e,a,t){"use strict";(function(e){t("3b9b"),t("921b");n(t("66fd"));var a=n(t("10d2"));function n(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},d2bf:function(e,a,t){"use strict";t.r(a);var n=t("136a"),i=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(a,e,function(){return n[e]})}(s);a["default"]=i.a}},[["a864","common/runtime","common/vendor"]]]);