(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/product-created"],{"0774":function(t,e,n){"use strict";n.r(e);var a=n("335e"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},1702:function(t,e,n){"use strict";(function(t){n("3b9b"),n("921b");a(n("66fd"));var e=a(n("85d6"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"335e":function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(){return n.e("components/pickerButton-edit").then(n.bind(null,"1015"))},c=function(){return n.e("components/myPicker-inquiry").then(n.bind(null,"bd6e"))},s=function(){return n.e("components/partCheckboxGroup").then(n.bind(null,"c8bc"))},d=function(){return n.e("components/myPickerSmall").then(n.bind(null,"3209"))},r=function(){return n.e("components/switchButton-auto").then(n.bind(null,"12e7"))},u=function(){return n.e("components/switchButton-edit").then(n.bind(null,"2cc1"))},h=function(){return n.e("components/pickerInput").then(n.bind(null,"f107"))},p=function(){return n.e("components/uni-icons/uni-icons").then(n.bind(null,"2cee"))},l=function(){return n.e("components/popupMe").then(n.bind(null,"cb0f"))},g=function(){return n.e("components/popupMeSeason").then(n.bind(null,"e6a6"))},m={components:{pickerButton:o,myPicker:c,partCheckboxGroup:s,myPickerSmall:d,switchButton:r,pickerInput:h,uniIcon:p,popupMe:l,switchButtonEdit:u,popupMeSeason:g},data:function(){return{companyCode:"",machineCount:"",dailyProduction:"",machineStatus:[],machineStatusIndex:1,inStock:[],inStockIndex:1,months:[{id:1,label:"一月"},{id:2,label:"二月"},{id:3,label:"三月"},{id:4,label:"四月"},{id:5,label:"五月"},{id:6,label:"六月"},{id:7,label:"七月"},{id:8,label:"八月"},{id:9,label:"九月"},{id:10,label:"十月"},{id:11,label:"十一月"},{id:12,label:"十二月"}],clothBreadth:"",tradeName:"",content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",purchaseQuantity:"",guamalv:"",remarks:"",inquiryType:[],inquiryTypeIndex:1,densityUnit:[],densityUnitIndex:1,grammageUnit:[],grammageUnitIndex:2,lengthUnit:[],lengthUnitIndex:1,productSerial:[],productSerialIndex:"",productSerialValue:"",buyer:"",buyerCode:"",productType:"",productTypeIndex:1,styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",part:[],partID:[],partList:[],partListLong:[],partLong:[],partLongID:[],sampleType:[],sampleTypeIndex:1,newPartText:"",newPartLongText:"",styleCode:"",pictures:[],tempFiles:[],season:[],seasonCode:[],seasonName:"",machineType:[],machineTypeIndex:-1,machineTypeValue:"",machineBrand:[],machineBrandIndex:"",machineBrandValue:"",goodsCount:""}},onLoad:function(e){i=this,this.companyCode=e.companyCode,t("log",this.companyCode," at pages/qing-f-c/productShow/product-created.vue:366"),this.getAllSelect()},methods:{getAllSelect:function(){var e=this,n=this.Api.getMainProduct,a={};this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:384"),i.productType=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.series,a={},this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:413"),i.productSerial=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.style,a={},this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:425"),i.styleSerial=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.clothType,a={},this.myRequest(a,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/product-created.vue:437"),i.sampleType=n.data.data.list,i.sampleType=e.setIsChecked(i.sampleType,i.sampleTypeIndex)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.densityUnit,a={},this.myRequest(a,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/product-created.vue:450"),i.densityUnit=n.data.data.list,i.densityUnit=e.setIsChecked(i.densityUnit,i.densityUnitIndex)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.gramWeightUnit,a={},this.myRequest(a,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/product-created.vue:463"),i.grammageUnit=n.data.data.list,i.grammageUnit=e.setIsChecked(i.grammageUnit,i.grammageUnitIndex),t("log",i.grammageUnit," at pages/qing-f-c/productShow/product-created.vue:467")}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.quantityUnit,a={},this.myRequest(a,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/product-created.vue:478"),i.lengthUnit=n.data.data.list,i.lengthUnit=e.setIsChecked(i.lengthUnit,i.lengthUnitIndex)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.atom,a={},this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:491"),i.partList=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:502"),i.partListLong=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.getQuality,a={},this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:515"),i.qualityPosition=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.machineStatus,a={},this.myRequest(a,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/product-created.vue:528"),i.machineStatus=n.data.data.list,i.machineStatus=e.setIsChecked(i.machineStatus,i.machineStatusIndex)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.inStock,a={},this.myRequest(a,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/product-created.vue:542"),i.inStock=n.data.data.list,i.inStock=e.setIsChecked(i.inStock,i.inStockIndex)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.machineType,a={},this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:556"),i.machineType=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.machineBrand,a={},this.myRequest(a,n,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:569"),i.machineBrand=e.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tapPartSelect:function(e,n){var a=this.partList;this.part=e,this.partID=n;for(var i=0,o=a.length;i<o;++i){var c=a[i];e.includes(c.label)?this.$set(c,"isChecked",!0):this.$set(c,"isChecked",!1)}t("log",this.partID," at pages/qing-f-c/productShow/product-created.vue:598")},tapPartLongSelect:function(e,n){var a=this.partListLong;this.partLong=e,this.partLongID=n;for(var i=0,o=a.length;i<o;++i){var c=a[i];e.includes(c.label)?this.$set(c,"isChecked",!0):this.$set(c,"isChecked",!1)}t("log",this.partLongID," at pages/qing-f-c/productShow/product-created.vue:614")},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(e,n){var i=this;this.newPartText=n,t("log",this.newPartText," at pages/qing-f-c/productShow/product-created.vue:625");var o=this.Api.atomAdd,c={atomName:this.newPartText};a.showLoading({title:"创建中",mask:!0}),this.myRequest(c,o,"get").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:635"),a.hideLoading(),0==e.data.status&&i.getAllSelect()}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},handleSeason:function(e){i.months=e,t("log",i.months," at pages/qing-f-c/productShow/product-created.vue:650"),i.seasonCode=[],i.months.forEach(function(t){1==t.isChecked&&i.seasonCode.push(t.id)}),i.seasonName=i.seasonCode.join(","),t("log",i.seasonName," at pages/qing-f-c/productShow/product-created.vue:658")},tapPaste:function(){this.spec_latitude=this.spec_longitude},tabSwitchChange:function(e,n){var a=this;switch(e){case"sampleType":this.sampleTypeIndex=n,this.sampleType.forEach(function(t){t.id==a.sampleTypeIndex?a.$set(t,"isChecked",!0):a.$set(t,"isChecked",!1)}),t("log",this.sampleTypeIndex," at pages/qing-f-c/productShow/product-created.vue:680");break;case"inquiryType":this.inquiryTypeIndex=n,this.inquiryType.forEach(function(t){t.id==a.inquiryTypeIndex?a.$set(t,"isChecked",!0):a.$set(t,"isChecked",!1)}),t("log",this.inquiryTypeIndex," at pages/qing-f-c/productShow/product-created.vue:691");break;case"styleChange":t("log",n," at pages/qing-f-c/productShow/product-created.vue:695"),this.styleSerialIndex=n[1]||-1,this.styleSerialValue=n[0],"平纹"==this.styleSerialValue&&(this.organize="1/1");break;case"productSerial":this.productSerialIndex=n[1]||-1,this.productSerialValue=n[0],t("log",this.productSerialIndex," at pages/qing-f-c/productShow/product-created.vue:708"),t("log",this.productSerialValue," at pages/qing-f-c/productShow/product-created.vue:709");break;case"densityUnit":this.densityUnitIndex=n,t("log",this.densityUnitIndex," at pages/qing-f-c/productShow/product-created.vue:713");break;case"grammageUnit":this.grammageUnitIndex=n,this.grammageUnit.forEach(function(t){t.id==a.grammageUnitIndex?a.$set(t,"isChecked",!0):a.$set(t,"isChecked",!1)}),t("log",this.grammageUnitIndex," at pages/qing-f-c/productShow/product-created.vue:724");break;case"qualityPosition":this.qualityPositionIndex=n,t("log",this.qualityPositionIndex," at pages/qing-f-c/productShow/product-created.vue:728");break;case"lengthUnit":this.lengthUnitIndex=n,t("log",this.lengthUnitIndex," at pages/qing-f-c/productShow/product-created.vue:732");break;case"productType":this.productTypeIndex=n,t("log",this.productTypeIndex," at pages/qing-f-c/productShow/product-created.vue:736");break;case"machineStatus":this.machineStatusIndex=n,t("log",this.machineStatusIndex," at pages/qing-f-c/productShow/product-created.vue:740"),this.machineStatus.forEach(function(t){t.id==a.machineStatusIndex?a.$set(t,"isChecked",!0):a.$set(t,"isChecked",!1)});break;case"inStock":this.inStockIndex=n,this.goodsCount="",t("log",this.inStockIndex," at pages/qing-f-c/productShow/product-created.vue:752"),this.inStock=this.setIsChecked(this.inStock,this.inStockIndex);break;case"machineType":this.machineTypeIndex=n[1]||-1,this.machineTypeValue=n[0],t("log",this.machineBrandIndex," at pages/qing-f-c/productShow/product-created.vue:759"),t("log",this.machineTypeValue," at pages/qing-f-c/productShow/product-created.vue:760");break;case"machineBrand":this.machineBrandIndex=n[1]||-1,this.machineBrandValue=n[0],t("log",this.machineBrandIndex," at pages/qing-f-c/productShow/product-created.vue:767"),t("log",this.machineTypeValue," at pages/qing-f-c/productShow/product-created.vue:768");break}},pickImage:function(){a.chooseImage({sizeType:["compressed"],success:function(e){var n=e.tempFilePaths;i.pictures=[];for(var o=0;o<n.length;o++)a.uploadFile({url:i.Api.upload,filePath:n[o],name:"file",success:function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:786"),i.pictures.push(JSON.parse(e.data).data.msg),a.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},bindCancel:function(){a.navigateBack({delta:1})},pickSeason:function(){this.$refs.season.show()},submit:function(){var e=this;i.styleSerial.forEach(function(t){t.id==i.styleSerialIndex&&t.label!=i.styleSerialValue&&(e.styleSerialIndex=-1)}),i.productSerial.forEach(function(t){t.id==i.productSerialIndex&&t.label!=i.productSerialValue&&(e.productSerialIndex=-1)});var n={companyCode:i.companyCode,highSeasonTime:i.seasonCode,machineTypeCode:i.machineTypeIndex,machineTypeName:i.machineTypeValue,machineStatus:i.machineStatusIndex,machineBrandCode:i.machineBrandIndex,machineBrandName:i.machineBrandValue,machineCount:i.machineCount,dailyProduction:i.dailyProduction,inStock:i.inStockIndex,goodsCount:i.goodsCount||0,goodsCountUnit:this.lengthUnitIndex,tradeName:i.tradeName,seriesCode:i.productSerialIndex,seriesName:i.productSerialValue,ingredientLongitudes:i.partID,ingredientLatitudes:i.partLongID,content:i.content,mainProduct:i.productTypeIndex,specificationLongitude:i.spec_longitude,specificationLatitude:i.spec_latitude,styleCode:i.styleSerialIndex,styleName:i.styleSerialValue,organization:i.organize,clothType:i.sampleTypeIndex,densityLongitude:i.density_longitude,densityLatitude:i.density_latitude,densityUnit:i.densityUnitIndex,gramWeight:i.grammage,gramWeightUnit:i.grammageUnitIndex,clothBreadth:i.clothBreadth,qualityCode:i.qualityPositionIndex,pictures:i.pictures,remarks:i.remarks};if(1!=i.grammageUnitIndex||0!=i.clothBreadth){t("log",n," at pages/qing-f-c/productShow/product-created.vue:879"),a.showLoading({title:"加载中",mask:!0});var o=this.Api.goodsAdd;this.myRequest(n,o,"post").then(function(e){t("log",e," at pages/qing-f-c/productShow/product-created.vue:886"),a.hideLoading(),0==e.data.status?(a.showToast({title:"产品创建成功",icon:"none",duration:1e3}),a.navigateBack({delta:1})):a.showToast({title:e.data.message,icon:"none"})}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})}else a.showToast({title:"幅宽必填",icon:"none",duration:500})}}};e.default=m}).call(this,n("0de9")["default"],n("6e42")["default"])},"5deb":function(t,e,n){"use strict";var a=n("aaf9"),i=n.n(a);i.a},"67f7":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},"85d6":function(t,e,n){"use strict";n.r(e);var a=n("67f7"),i=n("0774");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("5deb");var c,s=n("f0c5"),d=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],c);e["default"]=d.exports},aaf9:function(t,e,n){}},[["1702","common/runtime","common/vendor"]]]);