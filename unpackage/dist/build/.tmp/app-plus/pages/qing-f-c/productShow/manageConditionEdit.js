(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/manageConditionEdit"],{3623:function(t,n,i){"use strict";i.r(n);var e=i("60e2"),a=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,function(){return e[t]})}(o);n["default"]=a.a},"60c0":function(t,n,i){"use strict";i.r(n);var e=i("ac96"),a=i("3623");for(var o in a)"default"!==o&&function(t){i.d(n,t,function(){return a[t]})}(o);i("9d14");var c,s=i("f0c5"),u=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],c);n["default"]=u.exports},"60e2":function(t,n,i){"use strict";(function(t,e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(){return i.e("components/myCheckboxGroup").then(i.bind(null,"f9e6"))},c=function(){return i.e("components/uni-icons/uni-icons").then(i.bind(null,"2cee"))},s=function(){return i.e("components/popupMe-addM").then(i.bind(null,"d92f"))},u=function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-swipe-action/uni-swipe-action")]).then(i.bind(null,"3108"))},d={components:{myCheckboxGroup:o,uniIcon:c,popupMeAdd:s,uniSwipeAction:u},data:function(){return{mainProductList:[],seriesList:[],seriesListTemp:[],mainProductListTemp:[],companyCode:"",options2:[{text:"删除",style:{backgroundColor:"#FF6000"}}],mainProduct:"",mainProductIndex:"",productSerial:"",machineName:"",machineCount:"",weavingMachineList:[]}},onShow:function(){this.getAllSelect(),this.getManageProfile()},onLoad:function(t){a=this,this.companyCode=t.companyCode,this.getAllSelect(),this.getManageProfile()},methods:{getAllSelect:function(){var n=this.Api.getMainProduct,i={};this.myRequest(i,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:96"),a.mainProduct=n.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}),n=this.Api.series,i={},this.myRequest(i,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:109"),a.productSerial=n.data.data.list}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},getManageProfile:function(){var n=this.Api.manageProfile,i={companyCode:a.companyCode};this.myRequest(i,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:126"),0==n.data.status&&(a.mainProductLisTemp=n.data.data.mainProductList,a.mainProductLisTemp.forEach(function(t){a.mainProduct.forEach(function(n){n.id==t.id&&a.$set(n,"isChecked",!0)})}),a.seriesListTemp=n.data.data.seriesList,a.seriesListTemp.forEach(function(t){a.productSerial.forEach(function(n){n.id==t.id&&a.$set(n,"isChecked",!0)})}),a.weavingMachineList=n.data.data.weavingMachineList)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},getManageMachineList:function(){var n=this.Api.manageProfile,i={companyCode:a.companyCode};this.myRequest(i,n,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:168"),0==n.data.status&&(a.weavingMachineList=n.data.data.weavingMachineList)}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tabSwitchChange:function(t,n){if("mainProduct"==t)for(var i=this.mainProduct,e=0,a=i.length;e<a;++e){var o=i[e];o.id==n&&this.$set(o,"isChecked",!o.isChecked)}if("productSerial"==t){var c=this.productSerial;for(e=0,a=c.length;e<a;++e){var s=c[e];s.id==n&&this.$set(s,"isChecked",!s.isChecked)}}},bindClick:function(n){var i=this.Api.weavingMachineDel,o={machineCode:n};e.showLoading({title:"加载中",mask:!0}),this.myRequest(o,i,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:216"),0==n.data.status&&(e.hideLoading(),a.getManageMachineList())}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})},tapAddMachine:function(){this.$refs.addMachineInfo.show()},getMachineInfo:function(n){this.machineName=n[0],this.machineCount=n[1],t("log",this.machineName," at pages/qing-f-c/productShow/manageConditionEdit.vue:237"),t("log",this.machineCount," at pages/qing-f-c/productShow/manageConditionEdit.vue:238");var i=this.Api.weavingMachineAdd,o={companyCode:a.companyCode,machineName:a.machineName,machineCount:a.machineCount};e.showLoading({title:"加载中",mask:!0}),this.myRequest(o,i,"get").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:251"),0==n.data.status&&(e.hideLoading(),a.getManageMachineList())}).catch(function(t){e.showToast({title:t.data.errMsg,icon:"none"})})},submit:function(){var n=a.Api.profileUpdate;a.mainProduct.forEach(function(t){t.isChecked&&a.mainProductList.push(t.id)}),a.productSerial.forEach(function(t){t.isChecked&&a.seriesList.push(t.id)});var i={companyCode:a.companyCode,mainProductList:a.mainProductList,seriesList:a.seriesList};e.showLoading({title:"加载中",mask:!0}),this.myRequest(i,n,"post").then(function(n){t("log",n," at pages/qing-f-c/productShow/manageConditionEdit.vue:288"),0==n.data.status&&(e.hideLoading(),e.showToast({title:"更新成功",duration:500}),setTimeout(function(){e.navigateBack({delta:1})},1e3))}).catch(function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})}}};n.default=d}).call(this,i("0de9")["default"],i("6e42")["default"])},"6a88":function(t,n,i){},"9d14":function(t,n,i){"use strict";var e=i("6a88"),a=i.n(e);a.a},ac96:function(t,n,i){"use strict";var e={"uni-swipe-action":()=>Promise.all([i.e("common/vendor"),i.e("components/uni-swipe-action/uni-swipe-action")]).then(i.bind(null,"3108"))},a=function(){var t=this,n=t.$createElement;t._self._c},o=[];i.d(n,"b",function(){return a}),i.d(n,"c",function(){return o}),i.d(n,"a",function(){return e})},bd17:function(t,n,i){"use strict";(function(t){i("3b9b"),i("921b");e(i("66fd"));var n=e(i("60c0"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("6e42")["createPage"])}},[["bd17","common/runtime","common/vendor"]]]);