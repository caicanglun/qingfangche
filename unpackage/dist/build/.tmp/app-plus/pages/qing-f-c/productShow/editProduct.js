(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/editProduct"],{"15c3":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"6c76":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("4795"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n,a,o,s){try{var c=t[o](s),d=c.value}catch(u){return void i(u)}c.done?e(d):Promise.resolve(d).then(n,a)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var o=t.apply(e,i);function c(t){s(o,n,a,c,d,"next",t)}function d(t){s(o,n,a,c,d,"throw",t)}c(void 0)}))}}var d,u=function(){i.e("components/pickerButton-edit").then(function(){return resolve(i("1015"))}.bind(null,i)).catch(i.oe)},r=function(){i.e("components/myPicker-inquiry").then(function(){return resolve(i("bd6e"))}.bind(null,i)).catch(i.oe)},h=function(){i.e("components/partCheckboxGroup").then(function(){return resolve(i("c8bc"))}.bind(null,i)).catch(i.oe)},l=function(){i.e("components/myPickerPartProps").then(function(){return resolve(i("ad64"))}.bind(null,i)).catch(i.oe)},g=function(){i.e("components/switchButton-auto").then(function(){return resolve(i("12e7"))}.bind(null,i)).catch(i.oe)},p=function(){i.e("components/switchButton-edit").then(function(){return resolve(i("2cc1"))}.bind(null,i)).catch(i.oe)},m=function(){i.e("components/pickerInput").then(function(){return resolve(i("f107"))}.bind(null,i)).catch(i.oe)},f=function(){i.e("components/uni-icons/uni-icons").then(function(){return resolve(i("2cee"))}.bind(null,i)).catch(i.oe)},y=function(){i.e("components/popupMe").then(function(){return resolve(i("cb0f"))}.bind(null,i)).catch(i.oe)},S=function(){i.e("components/popupMeSeason").then(function(){return resolve(i("e6a6"))}.bind(null,i)).catch(i.oe)},x={components:{pickerButton:u,myPicker:r,partCheckboxGroup:h,myPickerSmall:l,switchButton:g,pickerInput:m,uniIcon:f,popupMe:y,switchButtonEdit:p,popupMeSeason:S},data:function(){return{companyCode:"",machineCount:"",dailyProduction:"",machineStatus:[],machineStatusIndex:1,inStock:[],inStockIndex:1,months:[{id:1,label:"一月"},{id:2,label:"二月"},{id:3,label:"三月"},{id:4,label:"四月"},{id:5,label:"五月"},{id:6,label:"六月"},{id:7,label:"七月"},{id:8,label:"八月"},{id:9,label:"九月"},{id:10,label:"十月"},{id:11,label:"十一月"},{id:12,label:"十二月"}],clothBreadth:"",tradeName:"",content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",purchaseQuantity:"",guamalv:"",remarks:"",inquiryType:[],inquiryTypeIndex:1,densityUnit:[],densityUnitIndex:2,grammageUnit:[],grammageUnitIndex:2,lengthUnit:[],lengthUnitIndex:1,productSerial:[],productSerialIndex:"",productSerialValue:"",buyer:"",buyerCode:"",productType:"",productTypeIndex:1,styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",part:[],partID:[],partList:[],partListLong:[],partLong:[],partLongID:[],sampleType:[],sampleTypeIndex:1,newPartText:"",newPartLongText:"",styleCode:"",pictures:[],tempFiles:[],season:[],seasonCode:[],seasonName:"",machineType:[],machineTypeIndex:-1,machineTypeValue:"",machineBrand:[],machineBrandIndex:"",machineBrandValue:"",goodsCount:"",shopProductSampleCode:"",goodsCode:""}},onLoad:function(e){d=this,this.qualityPosition=JSON.parse(e.qualityPosition),this.goodsDetail=JSON.parse(e.goodsDetail),d.clothBreadth=d.goodsDetail.clothBreadth,d.tradeName=d.goodsDetail.tradeName,d.content=d.goodsDetail.content,d.spec_longitude=d.goodsDetail.specificationLongitude,d.spec_latitude=d.goodsDetail.specificationLatitude,d.organize=d.goodsDetail.organization,d.grammage=d.goodsDetail.gramWeight,d.density_latitude=d.goodsDetail.densityLatitude,d.density_longitude=d.goodsDetail.densityLongitude,d.grammageUnitIndex=d.goodsDetail.gramWeightUnitCode||2,d.productSerialIndex=d.goodsDetail.seriesCode||"",d.productSerialValue=d.goodsDetail.seriesName,d.productTypeIndex=d.goodsDetail.mainProductCode||"",d.mainProductName=d.goodsDetail.mainProductName,d.seasonName=d.goodsDetail.highSeasonTimeName,d.seasonCode=d.goodsDetail.highSeasonTimeCode.split(","),d.qualityPositionIndex=d.goodsDetail.qualityCode,d.qualityName=d.goodsDetail.qualityName,d.sampleTypeIndex=d.goodsDetail.clothTypeCode,d.styleSerialIndex=d.goodsDetail.styleCode,d.styleSerialValue=d.goodsDetail.styleName||"",d.machineStatusIndex=this.goodsDetail.machineStatusCode||1,d.inStockIndex=this.goodsDetail.inStockCode,d.lengthUnitIndex=this.goodsDetail.goodsCountUnitCode,d.machineTypeIndex=this.goodsDetail.machineTypeCode||"",d.machineTypeValue=this.goodsDetail.machineTypeName||"",d.machineBrandIndex=this.goodsDetail.machineBrandCode||"",d.machineBrandValue=this.goodsDetail.machineBrandName||"",t("log",typeof this.goodsDetail.machineBrandCode," at pages/qing-f-c/productShow/editProduct.vue:412"),t("log",typeof d.machineBrandValue," at pages/qing-f-c/productShow/editProduct.vue:413"),d.machineCount=this.goodsDetail.machineCount||"",d.goodsCount=this.goodsDetail.goodsCount||"",d.dailyProduction=this.goodsDetail.dailyProduction||"",d.pictures=this.goodsDetail.pictures,d.shopProductSampleCode=this.goodsDetail.shopProductSampleCode,d.goodsCode=this.goodsDetail.goodsCode,this.getAllSelect(),this.getAllSelect()},methods:{getAllSelect:function(){var e=this,i=this.Api.getMainProduct,n={};this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:439"),d.productType=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.series,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:468"),d.productSerial=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.style,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:480"),d.styleSerial=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.clothType,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/editProduct.vue:492"),d.sampleType=i.data.data.list,d.sampleType=e.setIsChecked(d.sampleType,d.sampleTypeIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.densityUnit,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/editProduct.vue:505"),d.densityUnit=i.data.data.list,d.densityUnit=e.setIsChecked(d.densityUnit,d.densityUnitIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.gramWeightUnit,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/editProduct.vue:518"),d.grammageUnit=i.data.data.list,d.grammageUnit=e.setIsChecked(d.grammageUnit,d.grammageUnitIndex),t("log",d.grammageUnit," at pages/qing-f-c/productShow/editProduct.vue:522")})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.quantityUnit,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/editProduct.vue:533"),d.lengthUnit=i.data.data.list,d.lengthUnit=e.setIsChecked(d.lengthUnit,d.lengthUnitIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.atom,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:546"),d.partList=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:557"),d.partListLong=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.machineStatus,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/editProduct.vue:583"),d.machineStatus=i.data.data.list,d.machineStatus=e.setIsChecked(d.machineStatus,d.machineStatusIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.inStock,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/editProduct.vue:597"),d.inStock=i.data.data.list,d.inStock=e.setIsChecked(d.inStock,d.inStockIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.machineType,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:611"),d.machineType=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.machineBrand,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:624"),d.machineBrand=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},tapPartSelect:function(e,i){var n=this.partList;this.part=e,this.partID=i;for(var a=0,o=n.length;a<o;++a){var s=n[a];e.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}t("log",this.partID," at pages/qing-f-c/productShow/editProduct.vue:653")},tapPartLongSelect:function(e,i){var n=this.partListLong;this.partLong=e,this.partLongID=i;for(var a=0,o=n.length;a<o;++a){var s=n[a];e.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}t("log",this.partLongID," at pages/qing-f-c/productShow/editProduct.vue:669")},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(e,i){var a=this;this.newPartText=i,t("log",this.newPartText," at pages/qing-f-c/productShow/editProduct.vue:680");var o=this.Api.atomAdd,s={atomName:this.newPartText};n.showLoading({title:"创建中",mask:!0}),this.myRequest(s,o,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:690"),n.hideLoading(),0==e.data.status&&a.getAllSelect()})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},handleSeason:function(e){d.months=e,t("log",d.months," at pages/qing-f-c/productShow/editProduct.vue:705"),d.seasonCode=[],d.months.forEach((function(t){1==t.isChecked&&d.seasonCode.push(t.id)})),d.seasonName=d.seasonCode.join(","),t("log",d.seasonName," at pages/qing-f-c/productShow/editProduct.vue:713")},tapPaste:function(){this.spec_latitude=this.spec_longitude},tabSwitchChange:function(e,i){var n=this;switch(e){case"sampleType":this.sampleTypeIndex=i,this.sampleType.forEach((function(t){t.id==n.sampleTypeIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)})),t("log",this.sampleTypeIndex," at pages/qing-f-c/productShow/editProduct.vue:735");break;case"inquiryType":this.inquiryTypeIndex=i,this.inquiryType.forEach((function(t){t.id==n.inquiryTypeIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)})),t("log",this.inquiryTypeIndex," at pages/qing-f-c/productShow/editProduct.vue:746");break;case"styleChange":t("log",i," at pages/qing-f-c/productShow/editProduct.vue:750"),this.styleSerialIndex=i[1]||-1,this.styleSerialValue=i[0],"平纹"==this.styleSerialValue&&(this.organize="1/1");break;case"productSerial":this.productSerialIndex=i[1]||-1,this.productSerialValue=i[0],t("log",this.productSerialIndex," at pages/qing-f-c/productShow/editProduct.vue:763"),t("log",this.productSerialValue," at pages/qing-f-c/productShow/editProduct.vue:764");break;case"densityUnit":this.densityUnitIndex=i,t("log",this.densityUnitIndex," at pages/qing-f-c/productShow/editProduct.vue:768");break;case"grammageUnit":this.grammageUnitIndex=i,this.grammageUnit.forEach((function(t){t.id==n.grammageUnitIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)})),t("log",this.grammageUnitIndex," at pages/qing-f-c/productShow/editProduct.vue:779");break;case"qualityPosition":this.qualityPositionIndex=i,t("log",this.qualityPositionIndex," at pages/qing-f-c/productShow/editProduct.vue:783");break;case"lengthUnit":this.lengthUnitIndex=i,t("log",this.lengthUnitIndex," at pages/qing-f-c/productShow/editProduct.vue:787");break;case"productType":this.productTypeIndex=i,t("log",this.productTypeIndex," at pages/qing-f-c/productShow/editProduct.vue:791");break;case"machineStatus":this.machineStatusIndex=i,t("log",this.machineStatusIndex," at pages/qing-f-c/productShow/editProduct.vue:795"),this.machineStatus.forEach((function(t){t.id==n.machineStatusIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)}));break;case"inStock":this.inStockIndex=i,this.goodsCount="",t("log",this.inStockIndex," at pages/qing-f-c/productShow/editProduct.vue:807"),this.inStock=this.setIsChecked(this.inStock,this.inStockIndex);break;case"machineType":this.machineTypeIndex=i[1]||-1,this.machineTypeValue=i[0],t("log",this.machineBrandIndex," at pages/qing-f-c/productShow/editProduct.vue:814"),t("log",this.machineTypeValue," at pages/qing-f-c/productShow/editProduct.vue:815");break;case"machineBrand":this.machineBrandIndex=i[1]||-1,this.machineBrandValue=i[0],t("log",this.machineBrandIndex," at pages/qing-f-c/productShow/editProduct.vue:822"),t("log",this.machineTypeValue," at pages/qing-f-c/productShow/editProduct.vue:823");break}},pickImage:function(){n.chooseImage({sizeType:["compressed"],success:function(e){var i=e.tempFilePaths;d.pictures=[];for(var a=0;a<i.length;a++)n.uploadFile({url:d.Api.upload,filePath:i[a],name:"file",success:function(e){t("log",e," at pages/qing-f-c/productShow/editProduct.vue:841"),d.pictures.push(JSON.parse(e.data).data.msg),n.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},bindCancel:function(){n.navigateBack({delta:1})},pickSeason:function(){this.$refs.season.show()},submit:function(){var e=this;return c(a.default.mark((function i(){var o,s;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(0==d.machineStatusIndex&&(d.machineTypeIndex="",d.machineTypeValue="",d.machineBrandIndex="",d.machineBrandValue="",d.machineCount="",d.dailyProduction=""),d.styleSerial.forEach((function(t){t.id==d.styleSerialIndex&&t.label!=d.styleSerialValue&&(e.styleSerialIndex=-1)})),d.productSerial.forEach((function(t){t.id==d.productSerialIndex&&t.label!=d.productSerialValue&&(e.productSerialIndex=-1)})),o={goodsCode:d.goodsCode,shopProductSampleCode:d.shopProductSampleCode,highSeasonTime:d.seasonCode,machineTypeCode:d.machineTypeIndex,machineTypeName:d.machineTypeValue,machineStatus:d.machineStatusIndex,machineBrandCode:d.machineBrandIndex,machineBrandName:d.machineBrandValue,machineCount:d.machineCount,dailyProduction:d.dailyProduction,inStock:d.inStockIndex,goodsCount:d.goodsCount||0,goodsCountUnit:e.lengthUnitIndex,tradeName:d.tradeName,seriesCode:d.productSerialIndex,seriesName:d.productSerialValue,ingredientLongitudes:d.partID,ingredientLatitudes:d.partLongID,content:d.content,mainProduct:d.productTypeIndex,specificationLongitude:d.spec_longitude,specificationLatitude:d.spec_latitude,styleCode:d.styleSerialIndex,styleName:d.styleSerialValue,organization:d.organize,clothType:d.sampleTypeIndex,densityLongitude:d.density_longitude,densityLatitude:d.density_latitude,densityUnit:d.densityUnitIndex,gramWeight:d.grammage,gramWeightUnit:d.grammageUnitIndex,clothBreadth:d.clothBreadth,qualityCode:d.qualityPositionIndex,pictures:d.pictures,remarks:d.remarks},1!=d.grammageUnitIndex){i.next=8;break}if(0!=d.clothBreadth){i.next=8;break}return n.showToast({title:"幅宽必填",icon:"none",duration:500}),i.abrupt("return");case 8:return t("log",o," at pages/qing-f-c/productShow/editProduct.vue:943"),n.showLoading({title:"加载中",mask:!0}),i.next=12,e.$http.post("/shop/deputy_goods_update",{data:o});case 12:s=i.sent,t("log",s," at pages/qing-f-c/productShow/editProduct.vue:951"),n.hideLoading(),n.navigateBack({delta:1});case 16:case"end":return i.stop()}}),i)})))()}}};e.default=x}).call(this,i("0de9")["default"],i("6e42")["default"])},"6d8c":function(t,e,i){},"7ffb":function(t,e,i){"use strict";(function(t){i("3b9b"),i("921b");n(i("66fd"));var e=n(i("aea3"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},a372:function(t,e,i){"use strict";i.r(e);var n=i("6c76"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},aea3:function(t,e,i){"use strict";i.r(e);var n=i("15c3"),a=i("a372");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("f1b1");var s,c=i("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=d.exports},f1b1:function(t,e,i){"use strict";var n=i("6d8c"),a=i.n(n);a.a}},[["7ffb","common/runtime","common/vendor"]]]);