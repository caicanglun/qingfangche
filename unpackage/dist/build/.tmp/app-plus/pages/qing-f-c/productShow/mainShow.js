(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/mainShow"],{"2f42":function(n,t,e){"use strict";var o={"uni-collapse":function(){return e.e("components/uni-collapse/uni-collapse").then(e.bind(null,"30c3"))},"uni-collapse-item":function(){return e.e("components/uni-collapse-item/uni-collapse-item").then(e.bind(null,"e7c5"))},"uni-list":function(){return e.e("components/uni-list/uni-list").then(e.bind(null,"c27e"))},"uni-list-item":function(){return e.e("components/uni-list-item/uni-list-item").then(e.bind(null,"28f8"))}},i=function(){var n=this,t=n.$createElement;n._self._c},a=[];e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return o}))},7197:function(n,t,e){"use strict";(function(n,o){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){e.e("components/uni-collapse/uni-collapse").then(function(){return resolve(e("30c3"))}.bind(null,e)).catch(e.oe)},c=function(){e.e("components/uni-collapse-item/uni-collapse-item").then(function(){return resolve(e("e7c5"))}.bind(null,e)).catch(e.oe)},u=function(){e.e("components/uni-list/uni-list").then(function(){return resolve(e("c27e"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/uni-list-item/uni-list-item").then(function(){return resolve(e("28f8"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("components/kilvn-fa-icon/fa-icon").then(function(){return resolve(e("18f3"))}.bind(null,e)).catch(e.oe)},r=function(){Promise.all([e.e("common/vendor"),e.e("components/uni-swipe-action/uni-swipe-action")]).then(function(){return resolve(e("3108"))}.bind(null,e)).catch(e.oe)},d={components:{uniCollapse:a,uniCollapseItem:c,uniList:u,uniListItem:s,faIcon:l,uniSwipeAction:r},data:function(){return{operatingAuthorization:"",pictures:"",companyCode:"",companyName:"",interval:3e3,mainProductList:"",mainProductContent:"",seriesList:"",seriesListContent:"",weavingMachineList:"",weavingMachineListContent:"",serial:[],serialBack:[{subName:"春亚纺系列",open:!1,subList:[{title:"春亚纺300条",note:"旺季时间：7，8，9月份",thumb:"https://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"},{title:"春亚纺500条",note:"旺季时间：",thumb:"https://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"}]}]}},onNavigationBarButtonTap:function(t){n.navigateTo({url:"/pages/qing-f-c/productShow/companyPictureEdit?companyCode="+this.companyCode,success:function(n){},fail:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:130")},complete:function(){}})},onLoad:function(n){i=this,this.companyCode=n.companyCode,this.companyName=n.companyName,o("log",this.companyCode," at pages/qing-f-c/productShow/mainShow.vue:138"),this.getPictureList(),this.getManageMachineList(),this.getGoodsList()},onShow:function(){this.getPictureList(),this.getManageMachineList(),this.getGoodsList()},methods:{getGoodsList:function(){var t=i.Api.goodsList,e={companyCode:i.companyCode};n.showLoading({title:"加载中",mask:!0}),this.myRequest(e,t,"get").then((function(t){o("log",t," at pages/qing-f-c/productShow/mainShow.vue:159"),0==t.data.status&&(i.serial=t.data.data.list,n.hideLoading())})).catch((function(n){wx.showToast({title:n.data.errMsg,icon:"none"})}))},getManageMachineList:function(){var n=this.Api.manageProfile,t={companyCode:i.companyCode};this.myRequest(t,n,"get").then((function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:179"),0==n.data.status&&(i.mainProductContent="",i.seriesListContent="",i.weavingMachineListContent="",i.operatingAuthorization=n.data.data.operatingAuthorization,i.mainProductList=n.data.data.mainProductList,i.mainProductList.forEach((function(n){i.mainProductContent=i.mainProductContent+n.label+"、"})),i.mainProductContent=i.mainProductContent.substring(0,i.mainProductContent.length-1),i.seriesList=n.data.data.seriesList,i.seriesList.forEach((function(n){i.seriesListContent=i.seriesListContent+n.label+"、"})),i.seriesListContent=i.seriesListContent.substring(0,i.seriesListContent.length-1),i.weavingMachineList=n.data.data.weavingMachineList,i.weavingMachineList.forEach((function(n){i.weavingMachineListContent=i.weavingMachineListContent+n.machineName+" "+n.machineCount+"台,"})),i.weavingMachineListContent=i.weavingMachineListContent.substring(0,i.weavingMachineListContent.length-1))})).catch((function(n){wx.showToast({title:n.data.errMsg,icon:"none"})}))},getPictureList:function(){var n=i.Api.slideshow,t={companyCode:i.companyCode};this.myRequest(t,n,"get").then((function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:220"),i.pictures=n.data.data.idLabels})).catch((function(n){wx.showToast({title:n.data.errMsg,icon:"none"})}))},toEditPic:function(){n.navigateTo({url:"/pages/qing-f-c/productShow/companyPictureEdit?companyCode="+this.companyCode,success:function(n){},fail:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:233")},complete:function(){}})},handleClick:function(t,e){var a=this;o("log",t," at pages/qing-f-c/productShow/mainShow.vue:238"),o("log",e," at pages/qing-f-c/productShow/mainShow.vue:239"),0==e.index&&n.showToast({title:"开发中",icon:"none",duration:1e3}),1==e.index&&n.showModal({title:"提示",content:"确认删除该产品吗？",showCancel:!0,cancelText:"取消",confirmText:"确认",success:function(e){if(o("log",e," at pages/qing-f-c/productShow/mainShow.vue:255"),e.confirm){var c=i.Api.goodsDel,u={goodsCodes:[t]};n.showLoading({title:"提交中",mask:!0}),a.myRequest(u,c,"post").then((function(t){o("log",t," at pages/qing-f-c/productShow/mainShow.vue:266"),0==t.data.status&&(n.hideLoading(),a.getGoodsList())})).catch((function(n){wx.showToast({title:n.data.errMsg,icon:"none"})}))}},fail:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:281")},complete:function(){}})},toNewBuild:function(){n.navigateTo({url:"/pages/qing-f-c/productShow/product-created?companyCode="+i.companyCode,success:function(n){},fail:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:290")},complete:function(){}})},toDetail:function(t){n.navigateTo({url:"./productDetail?goodsCode=".concat(t),success:function(n){},fail:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:298")},complete:function(){}})},editCondition:function(){n.navigateTo({url:"/pages/qing-f-c/productShow/manageConditionEdit?companyCode="+i.companyCode,success:function(n){},fail:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:306")},complete:function(){}})},change:function(n){o("log",n," at pages/qing-f-c/productShow/mainShow.vue:311")}}};t.default=d}).call(this,e("6e42")["default"],e("0de9")["default"])},"975a":function(n,t,e){"use strict";e.r(t);var o=e("2f42"),i=e("cc62");for(var a in i)"default"!==a&&function(n){e.d(t,n,(function(){return i[n]}))}(a);e("fd03");var c,u=e("f0c5"),s=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);t["default"]=s.exports},ac5e:function(n,t,e){"use strict";(function(n){e("3b9b"),e("921b");o(e("66fd"));var t=o(e("975a"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("6e42")["createPage"])},ad9b:function(n,t,e){},cc62:function(n,t,e){"use strict";e.r(t);var o=e("7197"),i=e.n(o);for(var a in o)"default"!==a&&function(n){e.d(t,n,(function(){return o[n]}))}(a);t["default"]=i.a},fd03:function(n,t,e){"use strict";var o=e("ad9b"),i=e.n(o);i.a}},[["ac5e","common/runtime","common/vendor"]]]);