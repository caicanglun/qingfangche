(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/mainShow"],{"0a0a":function(n,t,i){},"2bd2":function(n,t,i){"use strict";var e={"uni-collapse":()=>i.e("components/uni-collapse/uni-collapse").then(i.bind(null,"30c3")),"uni-collapse-item":()=>i.e("components/uni-collapse-item/uni-collapse-item").then(i.bind(null,"e7c5")),"uni-list":()=>i.e("components/uni-list/uni-list").then(i.bind(null,"c27e")),"uni-list-item":()=>i.e("components/uni-list-item/uni-list-item").then(i.bind(null,"28f8"))},o=function(){var n=this,t=n.$createElement;n._self._c},a=[];i.d(t,"b",function(){return o}),i.d(t,"c",function(){return a}),i.d(t,"a",function(){return e})},7197:function(n,t,i){"use strict";(function(n,e){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return i.e("components/uni-collapse/uni-collapse").then(i.bind(null,"30c3"))},c=function(){return i.e("components/uni-collapse-item/uni-collapse-item").then(i.bind(null,"e7c5"))},u=function(){return i.e("components/uni-list/uni-list").then(i.bind(null,"c27e"))},s=function(){return i.e("components/uni-list-item/uni-list-item").then(i.bind(null,"28f8"))},l=function(){return i.e("components/kilvn-fa-icon/fa-icon").then(i.bind(null,"18f3"))},r=function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-swipe-action/uni-swipe-action")]).then(i.bind(null,"3108"))},d={components:{uniCollapse:a,uniCollapseItem:c,uniList:u,uniListItem:s,faIcon:l,uniSwipeAction:r},data:function(){return{operatingAuthorization:"",pictures:"",companyCode:"",interval:3e3,mainProductList:"",mainProductContent:"",seriesList:"",seriesListContent:"",weavingMachineList:"",weavingMachineListContent:"",serial:[],serialBack:[{subName:"春亚纺系列",open:!1,subList:[{title:"春亚纺300条",note:"旺季时间：7，8，9月份",thumb:"https://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"},{title:"春亚纺500条",note:"旺季时间：",thumb:"https://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"}]}]}},onNavigationBarButtonTap:function(t){n.navigateTo({url:"/pages/qing-f-c/productShow/companyPictureEdit?companyCode="+this.companyCode,success:function(n){},fail:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:129")},complete:function(){}})},onLoad:function(n){o=this,this.companyCode=n.companyCode,e("log",this.companyCode," at pages/qing-f-c/productShow/mainShow.vue:136"),this.getPictureList(),this.getManageMachineList(),this.getGoodsList()},onShow:function(){this.getPictureList(),this.getManageMachineList(),this.getGoodsList()},methods:{getGoodsList:function(){var n=o.Api.goodsList,t={companyCode:o.companyCode};this.myRequest(t,n,"get").then(function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:153"),o.serial=n.data.data.list}).catch(function(n){wx.showToast({title:n.data.errMsg,icon:"none"})})},getManageMachineList:function(){var n=this.Api.manageProfile,t={companyCode:o.companyCode};this.myRequest(t,n,"get").then(function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:168"),0==n.data.status&&(o.mainProductContent="",o.seriesListContent="",o.weavingMachineListContent="",o.operatingAuthorization=n.data.data.operatingAuthorization,o.mainProductList=n.data.data.mainProductList,o.mainProductList.forEach(function(n){o.mainProductContent=o.mainProductContent+n.label+"、"}),o.mainProductContent=o.mainProductContent.substring(0,o.mainProductContent.length-1),o.seriesList=n.data.data.seriesList,o.seriesList.forEach(function(n){o.seriesListContent=o.seriesListContent+n.label+"、"}),o.seriesListContent=o.seriesListContent.substring(0,o.seriesListContent.length-1),o.weavingMachineList=n.data.data.weavingMachineList,o.weavingMachineList.forEach(function(n){o.weavingMachineListContent=o.weavingMachineListContent+n.machineName+" "+n.machineCount+"台,"}),o.weavingMachineListContent=o.weavingMachineListContent.substring(0,o.weavingMachineListContent.length-1))}).catch(function(n){wx.showToast({title:n.data.errMsg,icon:"none"})})},getPictureList:function(){var n=o.Api.slideshow,t={companyCode:o.companyCode};this.myRequest(t,n,"get").then(function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:209"),o.pictures=n.data.data.idLabels}).catch(function(n){wx.showToast({title:n.data.errMsg,icon:"none"})})},toEditPic:function(){n.navigateTo({url:"/pages/qing-f-c/productShow/companyPictureEdit?companyCode="+this.companyCode,success:function(n){},fail:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:222")},complete:function(){}})},handleClick:function(t,i){var a=this;e("log",t," at pages/qing-f-c/productShow/mainShow.vue:227"),e("log",i," at pages/qing-f-c/productShow/mainShow.vue:228"),0==i.index&&n.showToast({title:"开发中",icon:"none",duration:1e3}),1==i.index&&n.showModal({title:"提示",content:"确认删除该产品吗？",showCancel:!0,cancelText:"取消",confirmText:"确认",success:function(i){if(e("log",i," at pages/qing-f-c/productShow/mainShow.vue:244"),i.confirm){var c=o.Api.goodsDel,u={goodsCodes:[t]};n.showLoading({title:"提交中",mask:!0}),a.myRequest(u,c,"post").then(function(t){e("log",t," at pages/qing-f-c/productShow/mainShow.vue:255"),0==t.data.status&&(n.hideLoading(),a.getGoodsList())}).catch(function(n){wx.showToast({title:n.data.errMsg,icon:"none"})})}},fail:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:270")},complete:function(){}})},toNewBuild:function(){n.navigateTo({url:"/pages/qing-f-c/productShow/product-created?companyCode="+o.companyCode,success:function(n){},fail:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:279")},complete:function(){}})},toDetail:function(t){n.navigateTo({url:"./productDetail?goodsCode="+t,success:function(n){},fail:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:287")},complete:function(){}})},editCondition:function(){n.navigateTo({url:"/pages/qing-f-c/productShow/manageConditionEdit?companyCode="+o.companyCode,success:function(n){},fail:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:295")},complete:function(){}})},change:function(n){e("log",n," at pages/qing-f-c/productShow/mainShow.vue:300")}}};t.default=d}).call(this,i("6e42")["default"],i("0de9")["default"])},"975a":function(n,t,i){"use strict";i.r(t);var e=i("2bd2"),o=i("cc62");for(var a in o)"default"!==a&&function(n){i.d(t,n,function(){return o[n]})}(a);i("fd03");var c,u=i("f0c5"),s=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],c);t["default"]=s.exports},ac5e:function(n,t,i){"use strict";(function(n){i("3b9b"),i("921b");e(i("66fd"));var t=e(i("975a"));function e(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,i("6e42")["createPage"])},cc62:function(n,t,i){"use strict";i.r(t);var e=i("7197"),o=i.n(e);for(var a in e)"default"!==a&&function(n){i.d(t,n,function(){return e[n]})}(a);t["default"]=o.a},fd03:function(n,t,i){"use strict";var e=i("0a0a"),o=i.n(e);o.a}},[["ac5e","common/runtime","common/vendor"]]]);