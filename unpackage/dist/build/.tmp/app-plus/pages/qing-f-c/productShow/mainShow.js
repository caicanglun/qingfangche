(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/mainShow"],{6970:function(t,n,e){"use strict";var i={"uni-collapse":function(){return e.e("components/uni-collapse/uni-collapse").then(e.bind(null,"30c3"))},"uni-collapse-item":function(){return e.e("components/uni-collapse-item/uni-collapse-item").then(e.bind(null,"e7c5"))},"uni-list":function(){return e.e("components/uni-list/uni-list").then(e.bind(null,"c27e"))},"uni-list-item":function(){return e.e("components/uni-list-item/uni-list-item").then(e.bind(null,"28f8"))}},o=function(){var t=this,n=t.$createElement;t._self._c},a=[];e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}))},7197:function(t,n,e){"use strict";(function(t,i){var o;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){e.e("components/uni-collapse/uni-collapse").then(function(){return resolve(e("30c3"))}.bind(null,e)).catch(e.oe)},c=function(){e.e("components/uni-collapse-item/uni-collapse-item").then(function(){return resolve(e("e7c5"))}.bind(null,e)).catch(e.oe)},u=function(){e.e("components/uni-list/uni-list").then(function(){return resolve(e("c27e"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/uni-list-item/uni-list-item").then(function(){return resolve(e("28f8"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("components/kilvn-fa-icon/fa-icon").then(function(){return resolve(e("18f3"))}.bind(null,e)).catch(e.oe)},r=function(){Promise.all([e.e("common/vendor"),e.e("components/uni-swipe-action/uni-swipe-action")]).then(function(){return resolve(e("3108"))}.bind(null,e)).catch(e.oe)},d={components:{uniCollapse:a,uniCollapseItem:c,uniList:u,uniListItem:s,faIcon:l,uniSwipeAction:r},data:function(){return{operatingAuthorization:"",pictures:"",companyCode:"",companyName:"",interval:3e3,mainProductList:"",mainProductContent:"",seriesList:"",seriesListContent:"",weavingMachineList:"",weavingMachineListContent:"",serial:[],serialBack:[{subName:"春亚纺系列",open:!1,subList:[{title:"春亚纺300条",note:"旺季时间：7，8，9月份",thumb:"https://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"},{title:"春亚纺500条",note:"旺季时间：",thumb:"https://img-cdn-qiniu.dcloud.net.cn/new-page/uni.png"}]}]}},onNavigationBarButtonTap:function(n){"SALES_DIRECTOR"!=t.getStorageSync("pupDefault")&&t.navigateTo({url:"/pages/qing-f-c/productShow/companyPictureEdit?companyCode="+this.companyCode,success:function(t){},fail:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:132")},complete:function(){}})},onLoad:function(t){o=this,this.companyCode=t.companyCode,this.companyName=t.companyName,i("log",this.companyCode," at pages/qing-f-c/productShow/mainShow.vue:140"),this.getPictureList(),this.getManageMachineList(),this.getGoodsList(),this.tapCompile()},onShow:function(){this.getPictureList(),this.getManageMachineList(),this.getGoodsList(),this.tapCompile()},methods:{tapCompile:function(){"SALES_DIRECTOR"==t.getStorageSync("pupDefault")&&this.setNavButton("")},setNavButton:function(t){var n=getCurrentPages(),e=n[n.length-1],i=e.$getAppWebview(),o=i.getStyle().titleNView;o.buttons[0].text=t,i.setStyle({titleNView:o})},getGoodsList:function(){var n=o.Api.goodsList,e={companyCode:o.companyCode};t.showLoading({title:"加载中",mask:!0}),this.myRequest(e,n,"get").then((function(n){i("log",n," at pages/qing-f-c/productShow/mainShow.vue:181"),0==n.data.status&&(o.serial=n.data.data.list,t.hideLoading())})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},getManageMachineList:function(){var t=this.Api.manageProfile,n={companyCode:o.companyCode};this.myRequest(n,t,"get").then((function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:201"),0==t.data.status&&(o.mainProductContent="",o.seriesListContent="",o.weavingMachineListContent="",o.operatingAuthorization=t.data.data.operatingAuthorization,o.mainProductList=t.data.data.mainProductList,o.mainProductList.forEach((function(t){o.mainProductContent=o.mainProductContent+t.label+"、"})),o.mainProductContent=o.mainProductContent.substring(0,o.mainProductContent.length-1),o.seriesList=t.data.data.seriesList,o.seriesList.forEach((function(t){o.seriesListContent=o.seriesListContent+t.label+"、"})),o.seriesListContent=o.seriesListContent.substring(0,o.seriesListContent.length-1),o.weavingMachineList=t.data.data.weavingMachineList,o.weavingMachineList.forEach((function(t){o.weavingMachineListContent=o.weavingMachineListContent+t.machineName+" "+t.machineCount+"台,"})),o.weavingMachineListContent=o.weavingMachineListContent.substring(0,o.weavingMachineListContent.length-1))})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},getPictureList:function(){var t=o.Api.slideshow,n={companyCode:o.companyCode};this.myRequest(n,t,"get").then((function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:242"),o.pictures=t.data.data.idLabels})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},toEditPic:function(){t.navigateTo({url:"/pages/qing-f-c/productShow/companyPictureEdit?companyCode="+this.companyCode,success:function(t){},fail:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:255")},complete:function(){}})},handleClick:function(n,e){var a=this;i("log",n," at pages/qing-f-c/productShow/mainShow.vue:260"),i("log",e," at pages/qing-f-c/productShow/mainShow.vue:261"),0==e.index&&t.showToast({title:"开发中",icon:"none",duration:1e3}),1==e.index&&t.showModal({title:"提示",content:"确认删除该产品吗？",showCancel:!0,cancelText:"取消",confirmText:"确认",success:function(e){if(i("log",e," at pages/qing-f-c/productShow/mainShow.vue:277"),e.confirm){var c=o.Api.goodsDel,u={goodsCodes:[n]};t.showLoading({title:"提交中",mask:!0}),a.myRequest(u,c,"post").then((function(n){i("log",n," at pages/qing-f-c/productShow/mainShow.vue:288"),0==n.data.status&&(t.hideLoading(),a.getGoodsList())})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))}},fail:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:303")},complete:function(){}})},toNewBuild:function(){t.navigateTo({url:"/pages/qing-f-c/productShow/product-created?companyCode="+o.companyCode,success:function(t){},fail:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:312")},complete:function(){}})},toDetail:function(n){t.navigateTo({url:"./productDetail?goodsCode=".concat(n),success:function(t){},fail:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:320")},complete:function(){}})},editCondition:function(){t.navigateTo({url:"/pages/qing-f-c/productShow/manageConditionEdit?companyCode="+o.companyCode,success:function(t){},fail:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:328")},complete:function(){}})},change:function(t){i("log",t," at pages/qing-f-c/productShow/mainShow.vue:333")}}};n.default=d}).call(this,e("6e42")["default"],e("0de9")["default"])},"975a":function(t,n,e){"use strict";e.r(n);var i=e("6970"),o=e("cc62");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("fd03");var c,u=e("f0c5"),s=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);n["default"]=s.exports},ac5e:function(t,n,e){"use strict";(function(t){e("3b9b"),e("921b");i(e("66fd"));var n=i(e("975a"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},ad9b:function(t,n,e){},cc62:function(t,n,e){"use strict";e.r(n);var i=e("7197"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},fd03:function(t,n,e){"use strict";var i=e("ad9b"),o=e.n(i);o.a}},[["ac5e","common/runtime","common/vendor"]]]);