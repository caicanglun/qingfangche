(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/auditProduct"],{"0ec0":function(t,e,i){"use strict";i.r(e);var n=i("7e27"),a=i("5cdc");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("8fbd");var s,c=i("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=d.exports},"3a8e":function(t,e,i){"use strict";(function(t){i("3b9b"),i("921b");n(i("66fd"));var e=n(i("0ec0"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"5c5c":function(t,e,i){},"5cdc":function(t,e,i){"use strict";i.r(e);var n=i("6df1"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6df1":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,o=function(){i.e("components/pickerButton-edit").then(function(){return resolve(i("1015"))}.bind(null,i)).catch(i.oe)},s=function(){i.e("components/myPicker-inquiry").then(function(){return resolve(i("bd6e"))}.bind(null,i)).catch(i.oe)},c=function(){i.e("components/partCheckboxGroup").then(function(){return resolve(i("c8bc"))}.bind(null,i)).catch(i.oe)},d=function(){i.e("components/myPickerSmall").then(function(){return resolve(i("3209"))}.bind(null,i)).catch(i.oe)},u=function(){i.e("components/switchButton-auto").then(function(){return resolve(i("12e7"))}.bind(null,i)).catch(i.oe)},r=function(){i.e("components/switchButton-edit").then(function(){return resolve(i("2cc1"))}.bind(null,i)).catch(i.oe)},l=function(){i.e("components/pickerInput").then(function(){return resolve(i("f107"))}.bind(null,i)).catch(i.oe)},h=function(){i.e("components/uni-icons/uni-icons").then(function(){return resolve(i("2cee"))}.bind(null,i)).catch(i.oe)},g=function(){i.e("components/popupMe").then(function(){return resolve(i("cb0f"))}.bind(null,i)).catch(i.oe)},p=function(){i.e("components/popupMeSeason").then(function(){return resolve(i("e6a6"))}.bind(null,i)).catch(i.oe)},f={components:{pickerButton:o,myPicker:s,partCheckboxGroup:c,myPickerSmall:d,switchButton:u,pickerInput:l,uniIcon:h,popupMe:g,switchButtonEdit:r,popupMeSeason:p},data:function(){return{companyCode:"",machineCount:"",dailyProduction:"",machineStatus:[],machineStatusIndex:1,inStock:[],inStockIndex:1,months:[{id:1,label:"一月"},{id:2,label:"二月"},{id:3,label:"三月"},{id:4,label:"四月"},{id:5,label:"五月"},{id:6,label:"六月"},{id:7,label:"七月"},{id:8,label:"八月"},{id:9,label:"九月"},{id:10,label:"十月"},{id:11,label:"十一月"},{id:12,label:"十二月"}],highSeasonTimeCode:"",clothBreadth:"",tradeName:"",content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",purchaseQuantity:"",guamalv:"",remarks:"",inquiryType:[],inquiryTypeIndex:1,densityUnit:[],densityUnitIndex:2,grammageUnit:[],grammageUnitIndex:2,lengthUnit:[],lengthUnitIndex:1,productSerial:[],productSerialIndex:"",productSerialValue:"",buyer:"",buyerCode:"",productType:"",productTypeIndex:1,mainProductName:"",styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",qualityName:"",part:[],partID:[],partList:[],ingredient:"",ingredientLongitude:"",ingredientLatitude:"",partListLong:[],partLong:[],partLongID:[],sampleType:[],sampleTypeIndex:1,newPartText:"",newPartLongText:"",styleCode:"",pictures:[],tempFiles:[],season:[],seasonCode:[],seasonName:"",machineType:[],machineTypeIndex:-1,machineTypeValue:"",machineBrand:[],machineBrandIndex:"",machineBrandValue:"",goodsCount:"",goodsDetail:""}},onLoad:function(e){var i=this;a=this,this.goodsDetail=JSON.parse(e.goodsDetail),t("log",this.goodsDetail," at pages/qing-f-c/productShow/auditProduct.vue:350"),this.tradeName=this.goodsDetail.tradeName,this.highSeasonTimeCode=this.goodsDetail.highSeasonTimeCode;var n=this.highSeasonTimeCode.split(",");t("log",n," at pages/qing-f-c/productShow/auditProduct.vue:354"),this.months.forEach((function(t){n.includes(t.id.toString())&&i.$set(t,"isChecked",!0)})),t("log",this.months," at pages/qing-f-c/productShow/auditProduct.vue:360"),this.productTypeIndex=a.goodsDetail.mainProductCode||"",this.mainProductName=a.goodsDetail.mainProductName,a.productSerialIndex=a.goodsDetail.seriesCode,a.productSerialValue=a.goodsDetail.seriesName,a.styleSerialIndex=a.goodsDetail.styleCode,a.styleSerialValue=a.goodsDetail.styleName,a.content=a.goodsDetail.content,a.spec_longitude=a.goodsDetail.specificationLongitude,a.spec_latitude=a.goodsDetail.specificationLatitude,a.organize=a.goodsDetail.organization,a.grammage=a.goodsDetail.gramWeight,a.density_latitude=a.goodsDetail.densityLatitude,a.density_longitude=a.goodsDetail.densityLongitude,a.grammageUnitIndex=a.goodsDetail.gramWeightUnitCode||2,a.sampleTypeIndex=a.goodsDetail.clothTypeCode,a.qualityPositionIndex=a.goodsDetail.qualityCode,a.qualityName=a.goodsDetail.qualityName,a.clothBreadth=a.goodsDetail.clothBreadth,a.ingredient=a.goodsDetail.ingredient,a.ingredientLatitude=a.goodsDetail.ingredientLatitude,a.ingredientLongitude=a.goodsDetail.ingredientLongitude,this.getAllSelect()},methods:{getAllSelect:function(){var e=this,i=this.Api.getMainProduct,n={};this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:396"),a.productType=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.series,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:409"),a.productSerial=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.style,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:421"),a.styleSerial=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.clothType,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:433"),a.sampleType=i.data.data.list,a.sampleType=e.setIsChecked(a.sampleType,a.sampleTypeIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.densityUnit,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:446"),a.densityUnit=i.data.data.list,a.densityUnit=e.setIsChecked(a.densityUnit,a.densityUnitIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.gramWeightUnit,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:459"),a.grammageUnit=i.data.data.list,a.grammageUnit=e.setIsChecked(a.grammageUnit,a.grammageUnitIndex),t("log",a.grammageUnit," at pages/qing-f-c/productShow/auditProduct.vue:463")})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.quantityUnit,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:474"),a.lengthUnit=i.data.data.list,a.lengthUnit=e.setIsChecked(a.lengthUnit,a.lengthUnitIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.atom,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:487"),a.partList=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:498"),a.partListLong=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.getQuality,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:511"),a.qualityPosition=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.machineStatus,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:524"),a.machineStatus=i.data.data.list,a.machineStatus=e.setIsChecked(a.machineStatus,a.machineStatusIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.inStock,n={},this.myRequest(n,i,"get").then((function(i){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:538"),a.inStock=i.data.data.list,a.inStock=e.setIsChecked(a.inStock,a.inStockIndex)})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.machineType,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:552"),a.machineType=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})})),i=this.Api.machineBrand,n={},this.myRequest(n,i,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:565"),a.machineBrand=e.data.data.list})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},tapPartSelect:function(e,i){var n=this.partList;this.part=e,this.partID=i;for(var a=0,o=n.length;a<o;++a){var s=n[a];e.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}t("log",this.partID," at pages/qing-f-c/productShow/auditProduct.vue:594")},tapPartLongSelect:function(e,i){var n=this.partListLong;this.partLong=e,this.partLongID=i;for(var a=0,o=n.length;a<o;++a){var s=n[a];e.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}t("log",this.partLongID," at pages/qing-f-c/productShow/auditProduct.vue:610")},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(e,i){var a=this;this.newPartText=i,t("log",this.newPartText," at pages/qing-f-c/productShow/auditProduct.vue:621");var o=this.Api.atomAdd,s={atomName:this.newPartText};n.showLoading({title:"创建中",mask:!0}),this.myRequest(s,o,"get").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:631"),n.hideLoading(),0==e.data.status&&a.getAllSelect()})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))},handleSeason:function(e){a.months=e,t("log",a.months," at pages/qing-f-c/productShow/auditProduct.vue:646"),a.months.forEach((function(t){1==t.isChecked&&a.seasonCode.push(t.id)})),a.seasonName=a.seasonCode.join(","),t("log",a.seasonName," at pages/qing-f-c/productShow/auditProduct.vue:653")},tapPaste:function(){this.spec_latitude=this.spec_longitude},tabSwitchChange:function(e,i){var n=this;switch(e){case"sampleType":this.sampleTypeIndex=i,this.sampleType.forEach((function(t){t.id==n.sampleTypeIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)})),t("log",this.sampleTypeIndex," at pages/qing-f-c/productShow/auditProduct.vue:675");break;case"inquiryType":this.inquiryTypeIndex=i,this.inquiryType.forEach((function(t){t.id==n.inquiryTypeIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)})),t("log",this.inquiryTypeIndex," at pages/qing-f-c/productShow/auditProduct.vue:686");break;case"styleChange":t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:690"),this.styleSerialIndex=i[1]||-1,this.styleSerialValue=i[0],"平纹"==this.styleSerialValue&&(this.organize="1/1"),t("log",this.styleSerialIndex," at pages/qing-f-c/productShow/auditProduct.vue:696"),t("log",this.styleSerialValue," at pages/qing-f-c/productShow/auditProduct.vue:697");break;case"productSerial":this.productSerialIndex=i[1]||-1,this.productSerialValue=i[0];break;case"densityUnit":this.densityUnitIndex=i,t("log",this.densityUnitIndex," at pages/qing-f-c/productShow/auditProduct.vue:707");break;case"grammageUnit":this.grammageUnitIndex=i,this.grammageUnit.forEach((function(t){t.id==n.grammageUnitIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)})),t("log",this.grammageUnitIndex," at pages/qing-f-c/productShow/auditProduct.vue:718");break;case"qualityPosition":this.qualityPositionIndex=i,t("log",this.qualityPositionIndex," at pages/qing-f-c/productShow/auditProduct.vue:722");break;case"lengthUnit":this.lengthUnitIndex=i,t("log",this.lengthUnitIndex," at pages/qing-f-c/productShow/auditProduct.vue:726");break;case"productType":this.productTypeIndex=i,t("log",this.productTypeIndex," at pages/qing-f-c/productShow/auditProduct.vue:730");break;case"machineStatus":this.machineStatusIndex=i,t("log",this.machineStatusIndex," at pages/qing-f-c/productShow/auditProduct.vue:734"),this.machineStatus.forEach((function(t){t.id==n.machineStatusIndex?n.$set(t,"isChecked",!0):n.$set(t,"isChecked",!1)}));break;case"inStock":this.inStockIndex=i,t("log",this.inStockIndex," at pages/qing-f-c/productShow/auditProduct.vue:745"),this.inStock=this.setIsChecked(this.inStock,this.inStockIndex);break;case"machineType":this.machineTypeIndex=i[1]||-1,this.machineTypeValue=i[0],t("log",this.machineBrandIndex," at pages/qing-f-c/productShow/auditProduct.vue:752"),t("log",this.machineTypeValue," at pages/qing-f-c/productShow/auditProduct.vue:753");break;case"machineBrand":this.machineBrandIndex=i[1]||-1,this.machineBrandValue=i[0],t("log",this.machineBrandIndex," at pages/qing-f-c/productShow/auditProduct.vue:760"),t("log",this.machineTypeValue," at pages/qing-f-c/productShow/auditProduct.vue:761");break}},pickImage:function(){n.chooseImage({sizeType:["compressed"],success:function(e){var i=e.tempFilePaths;a.pictures=[];for(var o=0;o<i.length;o++)n.uploadFile({url:a.Api.upload,filePath:i[o],name:"file",success:function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:779"),a.pictures.push(JSON.parse(e.data).data.msg),n.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},bindCancel:function(){n.navigateBack({delta:1})},pickSeason:function(){this.$refs.season.show()},submit:function(){var e=this;a.styleSerial.forEach((function(t){t.id==a.styleSerialIndex&&t.label!=a.styleSerialValue&&(e.styleSerialIndex=-1)})),a.productSerial.forEach((function(t){t.id==a.productSerialIndex&&t.label!=a.productSerialValue&&(e.productSerialIndex=-1)}));var i={goodsCode:a.goodsDetail.goodsCode,tradeName:a.tradeName,seriesCode:a.productSerialIndex,seriesName:a.productSerialValue,ingredientLongitudes:a.ingredientLongitude,ingredientLatitudes:a.ingredientLatitude,content:a.content,mainProduct:a.productTypeIndex,specificationLongitude:a.spec_longitude,specificationLatitude:a.spec_latitude,styleCode:a.styleSerialIndex,styleName:a.styleSerialValue,organization:a.organize,clothType:a.sampleTypeIndex,densityLongitude:a.density_longitude,densityLatitude:a.density_latitude,densityUnit:a.densityUnitIndex,gramWeight:a.grammage,gramWeightUnit:a.grammageUnitIndex,clothBreadth:a.clothBreadth,qualityCode:a.qualityPositionIndex};if(1!=a.grammageUnitIndex||0!=a.clothBreadth){t("log",i," at pages/qing-f-c/productShow/auditProduct.vue:862"),n.showLoading({title:"加载中",mask:!0});var o=this.Api.goodsAudit;this.myRequest(i,o,"post").then((function(e){t("log",e," at pages/qing-f-c/productShow/auditProduct.vue:869"),n.hideLoading(),0==e.data.status?(n.showToast({title:"审核通过",icon:"none",duration:1e3}),n.navigateBack({delta:1})):n.showToast({title:e.data.message,icon:"none"})})).catch((function(t){wx.showToast({title:t.data.errMsg,icon:"none"})}))}else n.showToast({title:"幅宽必填",icon:"none",duration:500})}}};e.default=f}).call(this,i("0de9")["default"],i("6e42")["default"])},"7e27":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"8fbd":function(t,e,i){"use strict";var n=i("5c5c"),a=i.n(n);a.a}},[["3a8e","common/runtime","common/vendor"]]]);