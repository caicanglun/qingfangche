(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qing-f-c/productShow/productCreateCopy"],{4036:function(e,t,n){"use strict";(function(e){n("3b9b"),n("921b");a(n("66fd"));var t=a(n("49ea"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"49ea":function(e,t,n){"use strict";n.r(t);var a=n("f9a1"),o=n("ebf8");for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);n("8767");var s,c=n("f0c5"),r=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);t["default"]=r.exports},8767:function(e,t,n){"use strict";var a=n("c788"),o=n.n(a);o.a},c788:function(e,t,n){},ebf8:function(e,t,n){"use strict";n.r(t);var a=n("f3a4"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=o.a},f3a4:function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("4795"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a,o,i,s){try{var c=e[i](s),r=c.value}catch(d){return void n(d)}c.done?t(r):Promise.resolve(r).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function c(e){s(i,a,o,c,r,"next",e)}function r(e){s(i,a,o,c,r,"throw",e)}c(void 0)}))}}var r,d=function(){n.e("components/pickerButton-edit").then(function(){return resolve(n("1015"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/myPicker-inquiry").then(function(){return resolve(n("bd6e"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/partCheckboxGroup").then(function(){return resolve(n("c8bc"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/myPickerPartProps").then(function(){return resolve(n("ad64"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/switchButton-auto").then(function(){return resolve(n("12e7"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("components/switchButton-edit").then(function(){return resolve(n("2cc1"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("components/pickerInput").then(function(){return resolve(n("f107"))}.bind(null,n)).catch(n.oe)},y=function(){n.e("components/uni-icons/uni-icons").then(function(){return resolve(n("2cee"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/popupMe").then(function(){return resolve(n("cb0f"))}.bind(null,n)).catch(n.oe)},C=function(){n.e("components/popupMeSeason").then(function(){return resolve(n("e6a6"))}.bind(null,n)).catch(n.oe)},S={components:{pickerButton:d,myPicker:u,partCheckboxGroup:p,myPickerSmall:l,switchButton:h,pickerInput:m,uniIcon:y,popupMe:f,switchButtonEdit:g,popupMeSeason:C},data:function(){return{companyCode:"",companyName:"",machineCount:"",dailyProduction:"",machineStatus:[],machineStatusIndex:1,inStock:[],inStockIndex:1,months:[{id:1,label:"一月"},{id:2,label:"二月"},{id:3,label:"三月"},{id:4,label:"四月"},{id:5,label:"五月"},{id:6,label:"六月"},{id:7,label:"七月"},{id:8,label:"八月"},{id:9,label:"九月"},{id:10,label:"十月"},{id:11,label:"十一月"},{id:12,label:"十二月"}],clothBreadth:"",tradeName:"",content:"",spec_longitude:"",spec_latitude:"",organize:"",style:"",grammage:"",density_latitude:"",density_longitude:"",purchaseQuantity:"",guamalv:"",remarks:"",inquiryType:[],inquiryTypeIndex:1,densityUnit:[],densityUnitIndex:2,grammageUnit:[],grammageUnitIndex:2,lengthUnit:[],lengthUnitIndex:1,productSerial:[],productSerialIndex:"",productSerialValue:"",buyer:"",buyerCode:"",productType:"",productTypeIndex:1,styleSerial:[],styleSerialIndex:"",styleSerialValue:"",qualityPosition:[],qualityPositionIndex:"",part:[],partID:[],partList:[],partListLong:[],partLong:[],partLongID:[],sampleType:[],sampleTypeIndex:1,newPartText:"",newPartLongText:"",styleCode:"",pictures:[],tempFiles:[],season:[],seasonCode:[],seasonName:"",machineType:[],machineTypeIndex:-1,machineTypeValue:"",machineBrand:[],machineBrandIndex:"",machineBrandValue:"",goodsCount:"",shopProductSampleCode:"",goodsCode:""}},onLoad:function(e){r=this,this.companyCode=e.companyCode,this.companyName=e.companyName,this.qualityPosition=JSON.parse(e.qualityPosition),this.goodsDetail=JSON.parse(e.goodsDetail),r.clothBreadth=r.goodsDetail.clothBreadth,r.tradeName=r.goodsDetail.tradeName,r.content=r.goodsDetail.content,r.spec_longitude=r.goodsDetail.specificationLongitude,r.spec_latitude=r.goodsDetail.specificationLatitude,r.organize=r.goodsDetail.organization,r.grammage=r.goodsDetail.gramWeight,r.density_latitude=r.goodsDetail.densityLatitude,r.density_longitude=r.goodsDetail.densityLongitude,r.grammageUnitIndex=r.goodsDetail.gramWeightUnitCode||2,r.productSerialIndex=r.goodsDetail.seriesCode||"",r.productSerialValue=r.goodsDetail.seriesName,r.productTypeIndex=r.goodsDetail.mainProductCode||"",r.mainProductName=r.goodsDetail.mainProductName,r.seasonName=r.goodsDetail.highSeasonTimeName,r.seasonCode=r.goodsDetail.highSeasonTimeCode.split(","),r.qualityPositionIndex=r.goodsDetail.qualityCode,r.qualityName=r.goodsDetail.qualityName,r.sampleTypeIndex=r.goodsDetail.clothTypeCode,r.styleSerialIndex=r.goodsDetail.styleCode,r.styleSerialValue=r.goodsDetail.styleName||"",r.shopProductSampleCode=this.goodsDetail.shopProductSampleCode,r.goodsCode=this.goodsDetail.goodsCode,this.getAllSelect(),this.getAllSelect()},methods:{getAllSelect:function(){var t=this,n=this.Api.getMainProduct,a={};this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:437"),r.productType=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.series,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:466"),r.productSerial=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.style,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:478"),r.styleSerial=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.clothType,a={},this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:490"),r.sampleType=n.data.data.list,r.sampleType=t.setIsChecked(r.sampleType,r.sampleTypeIndex)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.densityUnit,a={},this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:503"),r.densityUnit=n.data.data.list,r.densityUnit=t.setIsChecked(r.densityUnit,r.densityUnitIndex)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.gramWeightUnit,a={},this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:516"),r.grammageUnit=n.data.data.list,r.grammageUnit=t.setIsChecked(r.grammageUnit,r.grammageUnitIndex),e("log",r.grammageUnit," at pages/qing-f-c/productShow/productCreateCopy.vue:520")})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.quantityUnit,a={},this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:531"),r.lengthUnit=n.data.data.list,r.lengthUnit=t.setIsChecked(r.lengthUnit,r.lengthUnitIndex)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.atom,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:544"),r.partList=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:555"),r.partListLong=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.machineStatus,a={},this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:581"),r.machineStatus=n.data.data.list,r.machineStatus=t.setIsChecked(r.machineStatus,r.machineStatusIndex)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.inStock,a={},this.myRequest(a,n,"get").then((function(n){e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:595"),r.inStock=n.data.data.list,r.inStock=t.setIsChecked(r.inStock,r.inStockIndex)})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.machineType,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:609"),r.machineType=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})})),n=this.Api.machineBrand,a={},this.myRequest(a,n,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:622"),r.machineBrand=t.data.data.list})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))},tapPartSelect:function(t,n){var a=this.partList;this.part=t,this.partID=n;for(var o=0,i=a.length;o<i;++o){var s=a[o];t.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}e("log",this.partID," at pages/qing-f-c/productShow/productCreateCopy.vue:651")},selectSeller:function(){a.navigateTo({url:"./selectCustomer"})},tapPartLongSelect:function(t,n){var a=this.partListLong;this.partLong=t,this.partLongID=n;for(var o=0,i=a.length;o<i;++o){var s=a[o];t.includes(s.label)?this.$set(s,"isChecked",!0):this.$set(s,"isChecked",!1)}e("log",this.partLongID," at pages/qing-f-c/productShow/productCreateCopy.vue:672")},tapNewPart:function(){this.$refs.latiPart.show()},tapNewPartLong:function(){this.$refs.longtiPart.show()},getContent:function(t,n){var o=this;this.newPartText=n,e("log",this.newPartText," at pages/qing-f-c/productShow/productCreateCopy.vue:683");var i=this.Api.atomAdd,s={atomName:this.newPartText};a.showLoading({title:"创建中",mask:!0}),this.myRequest(s,i,"get").then((function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:693"),a.hideLoading(),0==t.data.status&&o.getAllSelect()})).catch((function(e){wx.showToast({title:e.data.errMsg,icon:"none"})}))},handleSeason:function(t){r.months=t,e("log",r.months," at pages/qing-f-c/productShow/productCreateCopy.vue:708"),r.seasonCode=[],r.months.forEach((function(e){1==e.isChecked&&r.seasonCode.push(e.id)})),r.seasonName=r.seasonCode.join(","),e("log",r.seasonName," at pages/qing-f-c/productShow/productCreateCopy.vue:716")},tapPaste:function(){this.spec_latitude=this.spec_longitude},tabSwitchChange:function(t,n){var a=this;switch(t){case"sampleType":this.sampleTypeIndex=n,this.sampleType.forEach((function(e){e.id==a.sampleTypeIndex?a.$set(e,"isChecked",!0):a.$set(e,"isChecked",!1)})),e("log",this.sampleTypeIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:738");break;case"inquiryType":this.inquiryTypeIndex=n,this.inquiryType.forEach((function(e){e.id==a.inquiryTypeIndex?a.$set(e,"isChecked",!0):a.$set(e,"isChecked",!1)})),e("log",this.inquiryTypeIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:749");break;case"styleChange":e("log",n," at pages/qing-f-c/productShow/productCreateCopy.vue:753"),this.styleSerialIndex=n[1]||-1,this.styleSerialValue=n[0],"平纹"==this.styleSerialValue&&(this.organize="1/1");break;case"productSerial":this.productSerialIndex=n[1]||-1,this.productSerialValue=n[0],e("log",this.productSerialIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:766"),e("log",this.productSerialValue," at pages/qing-f-c/productShow/productCreateCopy.vue:767");break;case"densityUnit":this.densityUnitIndex=n,e("log",this.densityUnitIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:771");break;case"grammageUnit":this.grammageUnitIndex=n,this.grammageUnit.forEach((function(e){e.id==a.grammageUnitIndex?a.$set(e,"isChecked",!0):a.$set(e,"isChecked",!1)})),e("log",this.grammageUnitIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:782");break;case"qualityPosition":this.qualityPositionIndex=n,e("log",this.qualityPositionIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:786");break;case"lengthUnit":this.lengthUnitIndex=n,e("log",this.lengthUnitIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:790");break;case"productType":this.productTypeIndex=n,e("log",this.productTypeIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:794");break;case"machineStatus":this.machineStatusIndex=n,e("log",this.machineStatusIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:798"),this.machineStatus.forEach((function(e){e.id==a.machineStatusIndex?a.$set(e,"isChecked",!0):a.$set(e,"isChecked",!1)}));break;case"inStock":this.inStockIndex=n,this.goodsCount="",e("log",this.inStockIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:810"),this.inStock=this.setIsChecked(this.inStock,this.inStockIndex);break;case"machineType":this.machineTypeIndex=n[1]||-1,this.machineTypeValue=n[0],e("log",this.machineBrandIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:817"),e("log",this.machineTypeValue," at pages/qing-f-c/productShow/productCreateCopy.vue:818");break;case"machineBrand":this.machineBrandIndex=n[1]||-1,this.machineBrandValue=n[0],e("log",this.machineBrandIndex," at pages/qing-f-c/productShow/productCreateCopy.vue:825"),e("log",this.machineTypeValue," at pages/qing-f-c/productShow/productCreateCopy.vue:826");break}},pickImage:function(){a.chooseImage({sizeType:["compressed"],success:function(t){var n=t.tempFilePaths;r.pictures=[];for(var o=0;o<n.length;o++)a.uploadFile({url:r.Api.upload,filePath:n[o],name:"file",success:function(t){e("log",t," at pages/qing-f-c/productShow/productCreateCopy.vue:844"),r.pictures.push(JSON.parse(t.data).data.msg),a.showToast({title:"上传成功",icon:"none",duration:1e3})}})}})},bindCancel:function(){a.navigateBack({delta:1})},pickSeason:function(){this.$refs.season.show()},submit:function(){var t=this;return c(o.default.mark((function n(){var i,s,c,d,u;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0==r.machineStatusIndex&&(r.machineTypeIndex="",r.machineTypeValue="",r.machineBrandIndex="",r.machineBrandValue="",r.machineCount="",r.dailyProduction=""),r.styleSerial.forEach((function(e){e.id==r.styleSerialIndex&&e.label!=r.styleSerialValue&&(t.styleSerialIndex=-1)})),r.productSerial.forEach((function(e){e.id==r.productSerialIndex&&e.label!=r.productSerialValue&&(t.productSerialIndex=-1)})),i={companyCode:r.companyCode,shopProductSampleCode:r.shopProductSampleCode,highSeasonTime:r.seasonCode,machineTypeCode:r.machineTypeIndex,machineTypeName:r.machineTypeValue,machineStatus:r.machineStatusIndex,machineBrandCode:r.machineBrandIndex,machineBrandName:r.machineBrandValue,machineCount:r.machineCount,dailyProduction:r.dailyProduction,inStock:r.inStockIndex,goodsCount:r.goodsCount||0,goodsCountUnit:t.lengthUnitIndex,tradeName:r.tradeName,seriesCode:r.productSerialIndex,seriesName:r.productSerialValue,ingredientLongitudes:r.partID,ingredientLatitudes:r.partLongID,content:r.content,mainProduct:r.productTypeIndex,specificationLongitude:r.spec_longitude,specificationLatitude:r.spec_latitude,styleCode:r.styleSerialIndex,styleName:r.styleSerialValue,organization:r.organize,clothType:r.sampleTypeIndex,densityLongitude:r.density_longitude,densityLatitude:r.density_latitude,densityUnit:r.densityUnitIndex,gramWeight:r.grammage,gramWeightUnit:r.grammageUnitIndex,clothBreadth:r.clothBreadth,qualityCode:r.qualityPositionIndex,pictures:r.pictures,remarks:r.remarks},1!=r.grammageUnitIndex){n.next=8;break}if(0!=r.clothBreadth){n.next=8;break}return a.showToast({title:"幅宽必填",icon:"none",duration:500}),n.abrupt("return");case 8:return e("log",i," at pages/qing-f-c/productShow/productCreateCopy.vue:946"),a.showLoading({title:"加载中",mask:!0}),n.next=12,t.$http.post("/shop/goodsAdd",{data:i});case 12:s=n.sent,e("log",s," at pages/qing-f-c/productShow/productCreateCopy.vue:954"),a.hideLoading(),c=getCurrentPages(),c[c.length-2],d=c[c.length-3],u=c[c.length-4],d.$vm.companyCode=t.companyCode,u.$vm.companyCode=t.companyCode,a.navigateBack({delta:2});case 22:case"end":return n.stop()}}),n)})))()}}};t.default=S}).call(this,n("0de9")["default"],n("6e42")["default"])},f9a1:function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}))}},[["4036","common/runtime","common/vendor"]]]);