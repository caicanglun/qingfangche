{"version":3,"sources":["webpack:////Users/lee/Downloads/备份11/轻纺车网/main.js","webpack:////Users/lee/Downloads/备份11/轻纺车网/pages/qing-f-c/printer/printer.vue?726c","webpack:////Users/lee/Downloads/备份11/轻纺车网/pages/qing-f-c/printer/printer.vue?0ec3","webpack:////Users/lee/Downloads/备份11/轻纺车网/pages/qing-f-c/printer/printer.vue?8466","webpack:////Users/lee/Downloads/备份11/轻纺车网/pages/qing-f-c/printer/printer.vue?4064","webpack:////Users/lee/Downloads/备份11/轻纺车网/pages/qing-f-c/printer/printer.vue"],"names":["createPage","Page","tsc","require","esc","_this","data","devices","currDev","connId","piaojuText","number","orderType","topList","url","showData","computed","onLoad","options","getInquiryInfo","onUnload","destroyed","methods","Api","qrCode","myRequest","then","res","console","log","catch","err","wx","showToast","title","errMsg","icon","uni","closeBLEConnection","deviceId","success","searchBle","that","openBluetoothAdapter","onDevice","getBluetoothAdapterState","available","discovering","stopFindBule","startBluetoothDevicesDiscovery","duration","onBluetoothDeviceFound","JSON","stringify","re","parse","name","push","services","stopBluetoothDevicesDiscovery","onConn","item","createBLEConnection","complete","setTimeout","getBLEServices","_deviceId","getBLEDeviceServices","s","uuid","serviceId","getBLEDeviceCharacteristics","c","characteristics","length","properties","write","index","characteristicId","fail","senBlData","uint8Array","uint8Buf","Array","from","split_array","datas","size","result","j","i","slice","sendloop","realWriteData","buffer","ArrayBuffer","dataView","DataView","setUint8","writeBLECharacteristicValue","value","senBleLabel","content","height","command","jpPrinter","createNew","setSize","setGap","setCls","setText","setQR","setPagePrint","getData","senBleLabel2","init","setPrintAndFeedRow"],"mappings":"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","file":"pages/qing-f-c/printer/printer.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/qing-f-c/printer/printer.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./printer.vue?vue&type=template&id=7ace4989&\"\nvar renderjs\nimport script from \"./printer.vue?vue&type=script&lang=js&\"\nexport * from \"./printer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/lee/Downloads/备份11/轻纺车网/pages/qing-f-c/printer/printer.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./printer.vue?vue&type=template&id=7ace4989&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./printer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./printer.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\tvar tsc = require('../../../components/gprint/tsc.js')\n\tvar esc = require('../../../components/gprint/esc.js')\n\tlet _this\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tdevices: [],\n\t\t\t\tcurrDev: null,\n\t\t\t\tconnId: '',\n\t\t\t\tpiaojuText:'',\n\t\t\t\tnumber:'',\n\t\t\t\torderType:''  ,// 1询价，2报价\n\t\t\t\ttopList:'',\n\t\t\t\turl:'',\n\t\t\t\tshowData:''\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\t// createtime:function(){\n\t\t\t// \tlet str = _this.topList.createTime\n\t\t\t// \tstr = str.toString()\n\t\t\t// \treturn str.slice(0,10)\n\t\t\t// }\n\t\t},\n\t\tonLoad: function(options) {\n\t\t    _this = this\n\t\t\tthis.number = options.number\n\t\t\tthis.orderType = options.orderType\n\t\t\t\n\t\t\tthis.getInquiryInfo()\n\t\t\t\n\t\t},\n        onUnload:function(){\n\t\t\t_this.destroyed()\n\t\t},\n\t\tmethods: {\n\t\t\t\n\t\t\t\n\t\t\tgetInquiryInfo:function(){\n\t\t\t\t let url= this.Api.qrCode\n\t\t\t\t let data={\n\t\t\t\t\tnumber: _this.number,\n\t\t\t\t\torderType: _this.orderType\t\t\t  \n\t\t\t\t}\n\t\t\t\tthis.myRequest(data,url,'get').then(res => {\n\t\t\t\t  console.log(res);\n\t\t\t\t  _this.topList = res.data.data\n\t\t\t\t  _this.number = res.data.data.number\n\t\t\t\t  _this.showData = res.data.data.showData\n\t\t\t\t  \n\t\t\t\t  \n\t\t\t\t }).catch(err => {\n\t\t\t\t  wx.showToast({\n\t\t\t\t    title: err.data.errMsg,\n\t\t\t\t    icon: 'none'\n\t\t\t\t  });\n\t\t\t\t});\n\t\t\t},\n\t\t\t  destroyed: function() {\n\t\t\t\t\t\tconsole.log(\"destroyed----------\")\n\t\t\t\t\t\tif (this.connId != '') {\n\t\t\t\t\t\t\tuni.closeBLEConnection({\n\t\t\t\t\t\t\t\tdeviceId: this.connId,\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t},\n\t\t\t\tsearchBle() {\n\t\t\t\t\t\tvar that = this\n\t\t\t\t\t\tconsole.log(\"initBule\")\n\t\t\t\t\t\tuni.openBluetoothAdapter({\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tconsole.log(\"打开 蓝牙模块\")\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tthat.onDevice()\n\t\t\t\t\t\t\t\tuni.getBluetoothAdapterState({\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\t\t\t\tif (res.discovering) {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.stopFindBule()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t//搜索蓝牙\n\t\t\t\t\t\t\t\t\t\t\t//开始搜寻附近的蓝牙外围设备\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"开始搜寻附近的蓝牙外围设备\")\n\t\t\t\t\t\t\t\t\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('本机蓝牙不可用')\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '本机蓝牙不可用',\n\t\t\t\t\t\t\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tonDevice(){\n\t\t\t\t\t\tconsole.log(\"监听寻找到新设备的事件---------------\")\n\t\t\t\t\t\tvar that = this\n\t\t\t\t\t\tthat.devices = []\n\t\t\t\t\t\t//监听寻找到新设备的事件\n\t\t\t\t\t\tuni.onBluetoothDeviceFound(function(devices) {\n\t\t\t\t\t\t\t\t\tconsole.log('--------------new-----------------------'+JSON.stringify(devices))\n\t\t\t\t\t\t\t\t\tvar re = JSON.parse(JSON.stringify(devices))\n\t\t\t\t\t\t\t\t\tconsole.log(re.devices[0].name + \"  \" + re.devices[0].deviceId)\n\t\t\t\t\t\t\t\t\t\tlet name = re.devices[0].name\n\t\t\t\t\t\t\t\t\t\tif (name != \"未知设备\") {\n\t\t\t\t\t\t\t\t\t\t\tlet deviceId = re.devices[0].deviceId\n\t\t\t\t\t\t\t\t\t\t\tthat.devices.push({\n\t\t\t\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\t\t\t\tdeviceId: deviceId,\n\t\t\t\t\t\t\t\t\t\t\t\tservices: []\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\tstopFindBule() {\n\t\t\t\t\t\tconsole.log(\"停止搜寻附近的蓝牙外围设备---------------\")\n\t\t\t\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tonConn(item) {\n\t\t\t\t\t\tvar that = this\n\t\t\t\t\t\tconsole.log(\"连接蓝牙---------------\" + item.deviceId)\n\t\t\t\t\t\tlet deviceId = item.deviceId\n\t\t\t\t\t\tuni.createBLEConnection({\n\t\t\t\t\t\t\tdeviceId: deviceId,\n\t\t\t\t\t\t\tcomplete(res) {\n\t\t\t\t\t\t\t\tif (res.errMsg == \"createBLEConnection:ok\") {\n\t\t\t\t\t\t\t\t\tconsole.log(\"连接蓝牙-[\" + item.name + \"]--成功\")\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '连接成功',\n\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthat.connId = deviceId;\n\t\t\t\t\t\t\t\t\tthat.currDev = item\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\tthat.getBLEServices(deviceId)\n\t\t\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//连接成功 关闭搜索\n\t\t\t\t\t\t\t\tthat.stopFindBule()\n\t\t\t\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\n\t\t\t\t\tgetBLEServices(_deviceId) {\n\t\t\t\t\t\tvar that = this;\n\t\t\t\t\t\tlet deviceId = _deviceId\n\t\t\t\t\t\tconsole.log(\"获取蓝牙设备所有服务(service)。---------------\")\n\t\t\t\n\t\t\t\t\t\tuni.getBLEDeviceServices({\n\t\t\t\t\t\t\t// 这里的 deviceId 需要已经通过 createBLEConnection 与对应设备建立链接\n\t\t\t\t\t\t\tdeviceId: deviceId,\n\t\t\t\t\t\t\tcomplete(res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\n\t\t\t\t\t\t\t\tfor (var s = 0; s < res.services.length; s++) {\n\t\t\t\t\t\t\t\t\tconsole.log(res.services[s].uuid)\n\t\t\t\t\t\t\t\t\tlet serviceId = res.services[s].uuid\n\t\t\t\t\t\t\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\t\t\t\t\t\t\t// 这里的 deviceId 需要已经通过 createBLEConnection 与对应设备建立链接\n\t\t\t\t\t\t\t\t\t\tdeviceId: deviceId,\n\t\t\t\t\t\t\t\t\t\t// 这里的 serviceId 需要在 getBLEDeviceServices 接口中获取\n\t\t\t\t\t\t\t\t\t\tserviceId: serviceId,\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\tvar re = JSON.parse(JSON.stringify(res))\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('deviceId = [' + deviceId + ']  serviceId = [' + serviceId + ']')\n\t\t\t\t\t\t\t\t\t\t\tfor (var c = 0; c < re.characteristics.length; c++) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (re.characteristics[c].properties.write == true) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet uuid = re.characteristics[c].uuid\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(' deviceId = [' + deviceId + ']  serviceId = [' + serviceId + '] characteristics=[' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuuid)\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var index in that.devices) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (that.devices[index].deviceId == deviceId) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.devices[index].services.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tserviceId: serviceId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharacteristicId: uuid\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(JSON.stringify(that.devices))\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tsenBlData(deviceId, serviceId, characteristicId,uint8Array) {\n\t\t\t\t\t\tconsole.log('************deviceId = [' + deviceId + ']  serviceId = [' + serviceId + '] characteristics=[' +characteristicId+ \"]\")\n\t\t\t\t\t\tvar uint8Buf = Array.from(uint8Array);\n\t\t\t\t\t\tfunction split_array(datas,size){\n\t\t\t\t\t\t\tvar result = {};\n\t\t\t\t\t\t\tvar j = 0\n\t\t\t\t\t\t\tfor (var i = 0; i < datas.length; i += size) {\n\t\t\t\t\t\t\t\tresult[j] = datas.slice(i, i + size)\n\t\t\t\t\t\t\t\tj++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(result)\n\t\t\t\t\t\t\treturn result\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar sendloop = split_array(uint8Buf, 20);\n\t\t\t\t\t\t// console.log(sendloop.length)\n\t\t\t\t\t\tfunction realWriteData(sendloop, i) {\n\t\t\t\t\t\t\tvar data = sendloop[i]\n\t\t\t\t\t\t\tif(typeof(data) == \"undefined\"){\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(\"第【\" + i + \"】次写数据\"+data)\n\t\t\t\t\t\t\tvar buffer = new ArrayBuffer(data.length)\n\t\t\t\t\t\t\tvar dataView = new DataView(buffer)\n\t\t\t\t\t\t\tfor (var j = 0; j < data.length; j++) {\n\t\t\t\t\t\t\t\tdataView.setUint8(j, data[j]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId,\n\t\t\t\t\t\t\t\tvalue: buffer,\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\trealWriteData(sendloop, i + 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t           var i = 0;\n\t\t\t\t\t\trealWriteData(sendloop, i);\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\tsenBleLabel() {\n\t\t\t\t\t\t//标签模式\n\t\t\t\t\t\tlet content = _this.topList.orderType+\"#轻纺车网络科技欢迎你#\"+_this.topList.number\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: content,\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet height = 30\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet deviceId = this.currDev.deviceId;\n\t\t\t\t\t\tlet serviceId = this.currDev.services[0].serviceId;\n\t\t\t\t\t\tlet characteristicId = this.currDev.services[0].characteristicId;\n\t\t\t\t\t\tvar command = tsc.jpPrinter.createNew()\n\t\t\t\t\t\t// console.log(command)\n\t\t\t\t\t    command.setSize(74, 52)\n\t\t\t            command.setGap(2)\n\t\t\t            command.setCls()\n\t\t\t\t\t\t\n\t\t\t            //command.setText(250, 30, \"TSS24.BF2\", 1, 1, number)\n\t\t\t\t\t\t// height = height + 35\n\t\t\t\t\t\t//command.setText(250, 65, \"TSS24.BF2\", 1, 1, createtime)\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i=0;i<_this.showData.length;i++){\n\t\t\t\t\t\t\tcommand.setText(250, height, \"TSS24.BF2\", 1, 1, _this.showData[i])\n\t\t\t\t\t\t\theight += 35\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcommand.setText(20, 30, \"TSS24.BF2\", 2, 2, '轻纺车网')\n\t\t\t\t\t\tcommand.setText(60, 100, \"TSS24.BF2\", 1, 1, '144F.com')\n\t\t\t            command.setQR(20, 140, \"L\", 8 , \"A\", content)\n\t\t\t\t\t\tcommand.setPagePrint()\n\t\t\t\t\t\tthis.senBlData(deviceId, serviceId, characteristicId,command.getData())\n\t\t\t\t\t},\n\t\t\t\t\tsenBleLabel2(){\n\t\t\t\t\t\t//票据模式\n\t\t\t\t\t\tlet deviceId = this.currDev.deviceId;\n\t\t\t\t\t\tlet serviceId = this.currDev.services[0].serviceId;\n\t\t\t\t\t\tlet characteristicId = this.currDev.services[0].characteristicId;\n\t\t\t\t\t\tvar command = esc.jpPrinter.createNew()\n\t\t\t\t\t\tcommand.init()\n\t\t\t            command.setText(this.piaojuText);\n\t\t\t            command.setPrintAndFeedRow(1)\n\t\t\t\t\t\tthis.senBlData(deviceId, serviceId, characteristicId,command.getData())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\n\t}\n"],"sourceRoot":""}